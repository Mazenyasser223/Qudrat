{"ast":null,"code":"import _objectSpread from\"M:/Qudrat/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import axios from'axios';import toast from'react-hot-toast';import{ArrowLeft,User,Mail,Hash,BookOpen,Lock,Unlock,Settings,Filter,AlertTriangle,Eye,RefreshCw,List}from'lucide-react';import StudentMistakes from'../../components/Exam/StudentMistakes';import StudentAnswersViewer from'../../components/Exam/StudentAnswersViewer';import StudentExamSubmission from'../../components/Exam/StudentExamSubmission';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const StudentProfile=()=>{const{studentId}=useParams();const navigate=useNavigate();const[student,setStudent]=useState(null);const[exams,setExams]=useState([]);const[loading,setLoading]=useState(true);const[showLockUnlockModal,setShowLockUnlockModal]=useState(false);const[selectedExams,setSelectedExams]=useState([]);const[lockUnlockAction,setLockUnlockAction]=useState('lock');const[expandedGroups,setExpandedGroups]=useState({});// 'lock' or 'unlock'\nconst[studentProgress,setStudentProgress]=useState([]);const[groupStatus,setGroupStatus]=useState({});const[showMistakes,setShowMistakes]=useState(false);const[selectedExamForMistakes,setSelectedExamForMistakes]=useState(null);const[showAllAnswers,setShowAllAnswers]=useState(false);const[showSubmission,setShowSubmission]=useState(false);const[selectedExamForSubmission,setSelectedExamForSubmission]=useState(null);const[attemptedExams,setAttemptedExams]=useState([]);const[refreshing,setRefreshing]=useState(false);useEffect(()=>{console.log('=== STUDENT PROFILE MOUNTED ===');console.log('Student ID from URL:',studentId);console.log('Student ID type:',typeof studentId);console.log('Student ID length:',studentId===null||studentId===void 0?void 0:studentId.length);console.log('Current URL:',window.location.href);// Validate student ID format\nif(!studentId||studentId.length<10){console.error('Invalid student ID format:',studentId);toast.error('معرف الطالب غير صحيح');navigate('/teacher/students');return;}const loadData=async()=>{try{setLoading(true);console.log('Starting to load data for student:',studentId);await Promise.all([fetchStudentData(),fetchExams()]);console.log('Data loading completed successfully');}catch(error){console.error('Error loading initial data:',error);toast.error('حدث خطأ أثناء تحميل البيانات');}finally{setLoading(false);}};loadData();},[studentId]);// Update progress when student data changes\nuseEffect(()=>{fetchStudentProgress();},[student]);// Update attempted exams when student progress changes\nuseEffect(()=>{if(student&&student.examProgress){const attempted=student.examProgress.filter(progress=>progress.status==='completed'||progress.status==='in_progress').map(progress=>{const exam=exams.find(e=>e._id===progress.examId);return exam;}).filter(exam=>exam);// Remove undefined exams\nsetAttemptedExams(attempted);}},[student,exams]);// Listen for exam changes from the submission modal\nuseEffect(()=>{const handleExamChange=event=>{const{examId,examTitle}=event.detail;const exam=attemptedExams.find(e=>e._id===examId);if(exam){setSelectedExamForSubmission(exam);}};window.addEventListener('examChanged',handleExamChange);return()=>window.removeEventListener('examChanged',handleExamChange);},[attemptedExams]);const fetchStudentData=async function(){let isRefresh=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;try{if(isRefresh){setRefreshing(true);}console.log('=== FETCHING STUDENT DATA ===');console.log('Student ID:',studentId);console.log('API URL:',\"/api/users/students/\".concat(studentId));console.log('Token present:',!!localStorage.getItem('token'));const response=await axios.get(\"/api/users/students/\".concat(studentId),{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});if(response.data&&response.data.data){setStudent(response.data.data);console.log('Student set successfully:',response.data.data);// Validate student data\nif(!response.data.data._id||!response.data.data.name){console.error('Invalid student data structure');toast.error('بيانات الطالب غير صحيحة');navigate('/teacher/students');return;}}else{console.error('No student data in response');console.error('Response structure:',response.data);toast.error('لم يتم العثور على بيانات الطالب');navigate('/teacher/students');return;}if(isRefresh){toast.success('تم تحديث بيانات الطالب بنجاح');}}catch(error){var _error$response,_error$response2,_error$response3,_error$response4,_error$response5,_error$response6,_error$response7,_error$response8;console.error('=== STUDENT DATA ERROR ===');console.error('Error object:',error);console.error('Error message:',error.message);console.error('Error response:',error.response);console.error('Error details:',{message:error.message,status:(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status,statusText:(_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.statusText,data:(_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.data,headers:(_error$response4=error.response)===null||_error$response4===void 0?void 0:_error$response4.headers});if(((_error$response5=error.response)===null||_error$response5===void 0?void 0:_error$response5.status)===404){toast.error('الطالب غير موجود');}else if(((_error$response6=error.response)===null||_error$response6===void 0?void 0:_error$response6.status)===401){toast.error('انتهت صلاحية الجلسة، يرجى تسجيل الدخول مرة أخرى');localStorage.removeItem('token');navigate('/login');}else if(((_error$response7=error.response)===null||_error$response7===void 0?void 0:_error$response7.status)===403){toast.error('ليس لديك صلاحية للوصول إلى بيانات هذا الطالب');}else if(((_error$response8=error.response)===null||_error$response8===void 0?void 0:_error$response8.status)>=500){toast.error('خطأ في الخادم، يرجى المحاولة لاحقاً');}else if(!error.response){toast.error('لا يمكن الاتصال بالخادم، تحقق من اتصال الإنترنت');}else{var _error$response9,_error$response9$data;toast.error(\"\\u062D\\u062F\\u062B \\u062E\\u0637\\u0623 \\u0623\\u062B\\u0646\\u0627\\u0621 \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0628\\u064A\\u0627\\u0646\\u0627\\u062A \\u0627\\u0644\\u0637\\u0627\\u0644\\u0628: \".concat(((_error$response9=error.response)===null||_error$response9===void 0?void 0:(_error$response9$data=_error$response9.data)===null||_error$response9$data===void 0?void 0:_error$response9$data.message)||error.message));}navigate('/teacher/students');}finally{if(isRefresh){setRefreshing(false);}}};const fetchExams=async()=>{try{console.log('=== FETCHING EXAMS ===');console.log('API URL:','/api/exams');const response=await axios.get('/api/exams',{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});console.log('=== EXAMS RESPONSE ===');console.log('Status:',response.status);console.log('Data:',response.data);console.log('Exams data:',response.data.data);if(response.data&&response.data.data){setExams(response.data.data);console.log('Exams set successfully:',response.data.data.length,'exams');// Validate exams data\nif(!Array.isArray(response.data.data)){console.error('Invalid exams data structure - not an array');toast.error('بيانات الاختبارات غير صحيحة');setExams([]);return;}}else{console.error('No exams data in response');console.error('Response structure:',response.data);toast.error('لم يتم العثور على اختبارات');setExams([]);}}catch(error){var _error$response0,_error$response1,_error$response10;console.error('=== EXAMS ERROR ===');console.error('Error object:',error);console.error('Error message:',error.message);console.error('Error response:',error.response);if(((_error$response0=error.response)===null||_error$response0===void 0?void 0:_error$response0.status)===401){toast.error('انتهت صلاحية الجلسة، يرجى تسجيل الدخول مرة أخرى');localStorage.removeItem('token');navigate('/login');}else if(((_error$response1=error.response)===null||_error$response1===void 0?void 0:_error$response1.status)===403){toast.error('ليس لديك صلاحية للوصول إلى الاختبارات');}else if(((_error$response10=error.response)===null||_error$response10===void 0?void 0:_error$response10.status)>=500){toast.error('خطأ في الخادم، يرجى المحاولة لاحقاً');}else if(!error.response){toast.error('لا يمكن الاتصال بالخادم، تحقق من اتصال الإنترنت');}else{var _error$response11,_error$response11$dat;toast.error(\"\\u062D\\u062F\\u062B \\u062E\\u0637\\u0623 \\u0623\\u062B\\u0646\\u0627\\u0621 \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u0627\\u062E\\u062A\\u0628\\u0627\\u0631\\u0627\\u062A: \".concat(((_error$response11=error.response)===null||_error$response11===void 0?void 0:(_error$response11$dat=_error$response11.data)===null||_error$response11$dat===void 0?void 0:_error$response11$dat.message)||error.message));}setExams([]);}finally{setLoading(false);}};const fetchStudentProgress=()=>{console.log('=== FETCHING STUDENT PROGRESS ===');console.log('Student:',!!student);console.log('Student exam progress:',student===null||student===void 0?void 0:student.examProgress);// Student progress is already available in the student data\nif(student&&student.examProgress){console.log('Setting student progress:',student.examProgress.length,'progress entries');setStudentProgress(student.examProgress);calculateGroupStatus(student.examProgress);}else{console.log('No student or exam progress available');setStudentProgress([]);}};const calculateGroupStatus=progress=>{console.log('=== CALCULATING GROUP STATUS ===');console.log('Progress data:',progress);const status={};// Initialize groups 0-8 as locked\nfor(let i=0;i<=8;i++){status[i]='locked';}if(!progress||!Array.isArray(progress)){console.log('No valid progress data, all groups locked');setGroupStatus(status);return;}// Check each exam progress\nprogress.forEach(progressItem=>{try{const groupNum=progressItem.examId?progressItem.examId.examGroup:progressItem.examGroup;if(groupNum!==undefined&&groupNum!==null){if(progressItem.status==='unlocked'||progressItem.status==='in_progress'||progressItem.status==='completed'){status[groupNum]='unlocked';}}}catch(error){console.error('Error processing progress item:',error,progressItem);}});console.log('Final group status:',status);setGroupStatus(status);};const handleLockUnlockExam=async(examId,action)=>{try{console.log('=== HANDLING LOCK/UNLOCK EXAM ===');console.log('Exam ID:',examId);console.log('Action:',action);console.log('Student ID:',studentId);const endpoint=action==='lock'?'lock-exam':'unlock-exam';const url=\"/api/users/students/\".concat(studentId,\"/\").concat(endpoint);console.log('API URL:',url);const response=await axios.put(url,{examId},{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});console.log('Lock/Unlock response:',response.data);toast.success(\"\\u062A\\u0645 \".concat(action==='lock'?'قفل':'فتح',\" \\u0627\\u0644\\u0627\\u062E\\u062A\\u0628\\u0627\\u0631 \\u0628\\u0646\\u062C\\u0627\\u062D\"));await fetchStudentData();}catch(error){var _error$response12,_error$response13,_error$response14,_error$response15;console.error('=== LOCK/UNLOCK EXAM ERROR ===');console.error('Error object:',error);console.error('Error message:',error.message);console.error('Error response:',error.response);if(((_error$response12=error.response)===null||_error$response12===void 0?void 0:_error$response12.status)===404){toast.error('الاختبار أو الطالب غير موجود');}else if(((_error$response13=error.response)===null||_error$response13===void 0?void 0:_error$response13.status)===401){toast.error('انتهت صلاحية الجلسة، يرجى تسجيل الدخول مرة أخرى');localStorage.removeItem('token');navigate('/login');}else if(((_error$response14=error.response)===null||_error$response14===void 0?void 0:_error$response14.status)===403){toast.error('ليس لديك صلاحية لإجراء هذا الإجراء');}else if(((_error$response15=error.response)===null||_error$response15===void 0?void 0:_error$response15.status)>=500){toast.error('خطأ في الخادم، يرجى المحاولة لاحقاً');}else if(!error.response){toast.error('لا يمكن الاتصال بالخادم، تحقق من اتصال الإنترنت');}else{var _error$response16,_error$response16$dat;toast.error(\"\\u062D\\u062F\\u062B \\u062E\\u0637\\u0623 \\u0623\\u062B\\u0646\\u0627\\u0621 \".concat(action==='lock'?'قفل':'فتح',\" \\u0627\\u0644\\u0627\\u062E\\u062A\\u0628\\u0627\\u0631: \").concat(((_error$response16=error.response)===null||_error$response16===void 0?void 0:(_error$response16$dat=_error$response16.data)===null||_error$response16$dat===void 0?void 0:_error$response16$dat.message)||error.message));}}};const handleToggleMultipleExams=async()=>{try{const response=await axios.put(\"/api/users/students/\".concat(studentId,\"/toggle-exams\"),{examIds:selectedExams,action:lockUnlockAction},{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});toast.success(\"\\u062A\\u0645 \".concat(lockUnlockAction==='lock'?'قفل':'فتح',\" \\u0627\\u0644\\u0627\\u062E\\u062A\\u0628\\u0627\\u0631\\u0627\\u062A \\u0627\\u0644\\u0645\\u062D\\u062F\\u062F\\u0629 \\u0628\\u0646\\u062C\\u0627\\u062D\"));setShowLockUnlockModal(false);setSelectedExams([]);// Refresh student data to show updated status\nawait fetchStudentData();// Also refresh the exams list to show updated status\nawait fetchExams();// Force a re-render by updating state\nsetStudentProgress(prev=>[...prev]);}catch(error){var _error$response17,_error$response18,_error$response19,_error$response20;console.error('=== TOGGLE MULTIPLE EXAMS ERROR ===');console.error('Error object:',error);console.error('Error message:',error.message);console.error('Error response:',error.response);if(((_error$response17=error.response)===null||_error$response17===void 0?void 0:_error$response17.status)===404){toast.error('الطالب غير موجود');}else if(((_error$response18=error.response)===null||_error$response18===void 0?void 0:_error$response18.status)===401){toast.error('انتهت صلاحية الجلسة، يرجى تسجيل الدخول مرة أخرى');localStorage.removeItem('token');navigate('/login');}else if(((_error$response19=error.response)===null||_error$response19===void 0?void 0:_error$response19.status)===403){toast.error('ليس لديك صلاحية لإجراء هذا الإجراء');}else if(((_error$response20=error.response)===null||_error$response20===void 0?void 0:_error$response20.status)>=500){toast.error('خطأ في الخادم، يرجى المحاولة لاحقاً');}else if(!error.response){toast.error('لا يمكن الاتصال بالخادم، تحقق من اتصال الإنترنت');}else{var _error$response21,_error$response21$dat;toast.error(\"\\u062D\\u062F\\u062B \\u062E\\u0637\\u0623 \\u0623\\u062B\\u0646\\u0627\\u0621 \".concat(lockUnlockAction==='lock'?'قفل':'فتح',\" \\u0627\\u0644\\u0627\\u062E\\u062A\\u0628\\u0627\\u0631\\u0627\\u062A: \").concat(((_error$response21=error.response)===null||_error$response21===void 0?void 0:(_error$response21$dat=_error$response21.data)===null||_error$response21$dat===void 0?void 0:_error$response21$dat.message)||error.message));}}};const toggleGroupExpansion=groupNum=>{setExpandedGroups(prev=>_objectSpread(_objectSpread({},prev),{},{[groupNum]:!prev[groupNum]}));};const handleToggleGroup=async(groupNumber,action)=>{try{console.log('=== TOGGLING GROUP ===');console.log('Group number:',groupNumber);console.log('Action:',action);console.log('Student ID:',studentId);const response=await axios.put(\"/api/users/students/\".concat(studentId,\"/toggle-group\"),{groupNumber:parseInt(groupNumber),action},{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});console.log('Toggle group response:',response.data);toast.success(\"\\u062A\\u0645 \".concat(action==='lock'?'قفل':'فتح',\" \\u0627\\u0644\\u0645\\u062C\\u0645\\u0648\\u0639\\u0629 \").concat(groupNumber,\" \\u0628\\u0646\\u062C\\u0627\\u062D\"));await fetchStudentData();}catch(error){var _error$response22,_error$response23,_error$response24,_error$response25;console.error('=== TOGGLE GROUP ERROR ===');console.error('Error object:',error);console.error('Error message:',error.message);console.error('Error response:',error.response);if(((_error$response22=error.response)===null||_error$response22===void 0?void 0:_error$response22.status)===404){toast.error('الطالب غير موجود');}else if(((_error$response23=error.response)===null||_error$response23===void 0?void 0:_error$response23.status)===401){toast.error('انتهت صلاحية الجلسة، يرجى تسجيل الدخول مرة أخرى');localStorage.removeItem('token');navigate('/login');}else if(((_error$response24=error.response)===null||_error$response24===void 0?void 0:_error$response24.status)===403){toast.error('ليس لديك صلاحية لإجراء هذا الإجراء');}else if(((_error$response25=error.response)===null||_error$response25===void 0?void 0:_error$response25.status)>=500){toast.error('خطأ في الخادم، يرجى المحاولة لاحقاً');}else if(!error.response){toast.error('لا يمكن الاتصال بالخادم، تحقق من اتصال الإنترنت');}else{var _error$response26,_error$response26$dat;toast.error(\"\\u062D\\u062F\\u062B \\u062E\\u0637\\u0623 \\u0623\\u062B\\u0646\\u0627\\u0621 \".concat(action==='lock'?'قفل':'فتح',\" \\u0627\\u0644\\u0645\\u062C\\u0645\\u0648\\u0639\\u0629: \").concat(((_error$response26=error.response)===null||_error$response26===void 0?void 0:(_error$response26$dat=_error$response26.data)===null||_error$response26$dat===void 0?void 0:_error$response26$dat.message)||error.message));}}};const handleViewMistakes=exam=>{console.log('=== VIEWING MISTAKES ===');console.log('Exam:',exam);console.log('Student:',student);if(!exam){console.error('No exam provided');toast.error('لم يتم العثور على الاختبار');return;}if(!student){console.error('No student data available');toast.error('لم يتم العثور على بيانات الطالب');return;}setSelectedExamForMistakes(exam);setShowMistakes(true);};const handleCloseMistakes=()=>{console.log('=== CLOSING MISTAKES ===');setShowMistakes(false);setSelectedExamForMistakes(null);};const handleViewAllAnswers=()=>{console.log('=== VIEWING ALL ANSWERS ===');console.log('Student:',student);if(!student){console.error('No student data available');toast.error('لم يتم العثور على بيانات الطالب');return;}setShowAllAnswers(true);};const handleCloseAllAnswers=()=>{console.log('=== CLOSING ALL ANSWERS ===');setShowAllAnswers(false);};const handleViewSubmission=exam=>{console.log('=== VIEWING SUBMISSION ===');console.log('Exam:',exam);console.log('Student:',student);if(!exam){console.error('No exam provided');toast.error('لم يتم العثور على الاختبار');return;}if(!student){console.error('No student data available');toast.error('لم يتم العثور على بيانات الطالب');return;}setSelectedExamForSubmission(exam);setShowSubmission(true);};const handleCloseSubmission=()=>{console.log('=== CLOSING SUBMISSION ===');setShowSubmission(false);setSelectedExamForSubmission(null);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})});}if(!student){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-4\",children:\"\\u0627\\u0644\\u0637\\u0627\\u0644\\u0628 \\u063A\\u064A\\u0631 \\u0645\\u0648\\u062C\\u0648\\u062F\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/teacher/students'),className:\"btn-primary\",children:\"\\u0627\\u0644\\u0639\\u0648\\u062F\\u0629 \\u0644\\u0642\\u0627\\u0626\\u0645\\u0629 \\u0627\\u0644\\u0637\\u0644\\u0627\\u0628\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 rtl:space-x-reverse\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/teacher/students'),className:\"flex items-center space-x-2 rtl:space-x-reverse text-gray-600 hover:text-gray-800 transition-colors\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0627\\u0644\\u0639\\u0648\\u062F\\u0629\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"\\u0645\\u0644\\u0641 \\u0627\\u0644\\u0637\\u0627\\u0644\\u0628\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"\\u062A\\u062A\\u0628\\u0639 \\u062A\\u0642\\u062F\\u0645 \\u0627\\u0644\\u0637\\u0627\\u0644\\u0628 \\u0648\\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u062E\\u062A\\u0628\\u0627\\u0631\\u0627\\u062A\\u0647\"})]})]})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A \\u0627\\u0644\\u0637\\u0627\\u0644\\u0628\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 rtl:space-x-reverse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-12 w-12 rounded-full bg-primary-100 flex items-center justify-center\",children:/*#__PURE__*/_jsx(User,{className:\"h-6 w-6 text-primary-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"\\u0627\\u0644\\u0627\\u0633\\u0645\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold text-gray-900\",children:student.name})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 rtl:space-x-reverse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center\",children:/*#__PURE__*/_jsx(Mail,{className:\"h-6 w-6 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"\\u0627\\u0644\\u0628\\u0631\\u064A\\u062F \\u0627\\u0644\\u0625\\u0644\\u0643\\u062A\\u0631\\u0648\\u0646\\u064A\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold text-gray-900\",children:student.email})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 rtl:space-x-reverse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center\",children:/*#__PURE__*/_jsx(Hash,{className:\"h-6 w-6 text-green-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u062C\\u0648\\u0627\\u0644\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold text-gray-900\",children:student.phoneNumber||'غير محدد'})]})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"\\u062D\\u0627\\u0644\\u0629 \\u0627\\u0644\\u0627\\u062E\\u062A\\u0628\\u0627\\u0631\\u0627\\u062A \\u0627\\u0644\\u062D\\u0627\\u0644\\u064A\\u0629\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:\"\\u0646\\u0638\\u0631\\u0629 \\u0639\\u0627\\u0645\\u0629 \\u0639\\u0644\\u0649 \\u062D\\u0627\\u0644\\u0629 \\u0627\\u0644\\u0645\\u062C\\u0645\\u0648\\u0639\\u0627\\u062A \\u0648\\u0627\\u0644\\u0627\\u062E\\u062A\\u0628\\u0627\\u0631\\u0627\\u062A \\u0644\\u0644\\u0637\\u0627\\u0644\\u0628\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-md font-semibold text-blue-900 mb-3 flex items-center space-x-2 rtl:space-x-reverse\",children:[/*#__PURE__*/_jsx(Filter,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u062D\\u0627\\u0644\\u0629 \\u0627\\u0644\\u0645\\u062C\\u0645\\u0648\\u0639\\u0627\\u062A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-5 gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full mx-auto mb-1 flex items-center justify-center text-white text-xs font-bold \".concat(groupStatus[0]==='unlocked'?'bg-blue-500':'bg-gray-500'),children:\"\\u062A\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:groupStatus[0]==='unlocked'?'مفتوحة':'مقفلة'})]}),Array.from({length:8},(_,i)=>i+1).map(groupNum=>{const isUnlocked=groupStatus[groupNum]==='unlocked';return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full mx-auto mb-1 flex items-center justify-center text-white text-xs font-bold \".concat(isUnlocked?'bg-green-500':'bg-red-500'),children:groupNum}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:isUnlocked?'مفتوحة':'مقفلة'})]},groupNum);})]})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"\\u062C\\u062F\\u0648\\u0644 \\u0627\\u0644\\u062A\\u0642\\u062F\\u0645 \\u0627\\u0644\\u062A\\u0641\\u0635\\u064A\\u0644\\u064A\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:\"\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644 \\u0643\\u0627\\u0645\\u0644\\u0629 \\u0639\\u0646 \\u0623\\u062F\\u0627\\u0621 \\u0627\\u0644\\u0637\\u0627\\u0644\\u0628 \\u0641\\u064A \\u062C\\u0645\\u064A\\u0639 \\u0627\\u0644\\u0627\\u062E\\u062A\\u0628\\u0627\\u0631\\u0627\\u062A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-6 bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 border-b border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-bold text-gray-900 flex items-center space-x-3 rtl:space-x-reverse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-gradient-to-r from-green-500 to-blue-500 rounded-lg\",children:/*#__PURE__*/_jsx(List,{className:\"h-5 w-5 text-white\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0627\\u0644\\u0648\\u0635\\u0648\\u0644 \\u0627\\u0644\\u0633\\u0631\\u064A\\u0639 \\u0644\\u0644\\u0645\\u062C\\u0645\\u0648\\u0639\\u0627\\u062A \\u0648\\u0627\\u0644\\u0627\\u062E\\u062A\\u0628\\u0627\\u0631\\u0627\\u062A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600 bg-white px-3 py-1 rounded-full border\",children:[exams.length,\" \\u0627\\u062E\\u062A\\u0628\\u0627\\u0631 \\u0645\\u062A\\u0627\\u062D\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\",children:Array.from({length:9},(_,i)=>i).map(groupNum=>{const groupExams=exams.filter(exam=>exam.examGroup===groupNum);if(groupExams.length===0)return null;// Calculate group statistics\nconst groupProgress=groupExams.map(exam=>{var _student$examProgress;return student===null||student===void 0?void 0:(_student$examProgress=student.examProgress)===null||_student$examProgress===void 0?void 0:_student$examProgress.find(p=>p.examId===exam._id);}).filter(Boolean);const completedExams=groupProgress.filter(p=>p.status==='completed').length;const avgScore=groupProgress.length>0?Math.round(groupProgress.reduce((sum,p)=>sum+(p.percentage||0),0)/groupProgress.length):0;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl border border-gray-200 p-4 hover:shadow-lg hover:border-green-300 transition-all duration-300 group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 rtl:space-x-reverse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold\",children:groupNum}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-bold text-gray-900 text-sm\",children:groupNum===0?'اختبارات التأسيس':\"\\u0627\\u0644\\u0645\\u062C\\u0645\\u0648\\u0639\\u0629 \".concat(groupNum)}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[completedExams,\"/\",groupExams.length,\" \\u0645\\u0643\\u062A\\u0645\\u0644\"]})]})]}),avgScore>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"px-2 py-1 rounded-full text-xs font-bold \".concat(avgScore>=80?'bg-green-100 text-green-700':avgScore>=60?'bg-blue-100 text-blue-700':'bg-orange-100 text-orange-700'),children:[avgScore.toFixed(2),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[(expandedGroups[groupNum]?groupExams:groupExams.slice(0,3)).map(exam=>{var _student$examProgress2;const progress=student===null||student===void 0?void 0:(_student$examProgress2=student.examProgress)===null||_student$examProgress2===void 0?void 0:_student$examProgress2.find(p=>p.examId===exam._id);const hasTimeData=progress&&(progress.timeSpent||progress.submittedAt);return/*#__PURE__*/_jsx(\"button\",{onClick:()=>{// Scroll to the exam in the table\nconst examRow=document.querySelector(\"[data-exam-id=\\\"\".concat(exam._id,\"\\\"]\"));if(examRow){examRow.scrollIntoView({behavior:'smooth',block:'center'});examRow.classList.add('bg-yellow-50','ring-2','ring-yellow-300');setTimeout(()=>{examRow.classList.remove('bg-yellow-50','ring-2','ring-yellow-300');},3000);}},className:\"w-full text-right p-3 bg-gray-50 hover:bg-gradient-to-r hover:from-green-50 hover:to-blue-50 rounded-lg border border-gray-200 hover:border-green-300 transition-all duration-200 group/exam\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-semibold text-gray-900 group-hover/exam:text-green-700 text-sm\",children:[\"\\u0627\\u062E\\u062A\\u0628\\u0627\\u0631 \",exam.order]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:progress?\"\".concat(progress.score||0,\"/\").concat(exam.totalQuestions||0):'-'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-2 py-1 rounded-full text-xs font-bold \".concat((progress===null||progress===void 0?void 0:progress.percentage)>=80?'bg-green-100 text-green-700':(progress===null||progress===void 0?void 0:progress.percentage)>=60?'bg-blue-100 text-blue-700':(progress===null||progress===void 0?void 0:progress.percentage)>0?'bg-orange-100 text-orange-700':'bg-gray-100 text-gray-700'),children:(progress===null||progress===void 0?void 0:progress.percentage)>=80?'ممتاز':(progress===null||progress===void 0?void 0:progress.percentage)>=60?'جيد':(progress===null||progress===void 0?void 0:progress.percentage)>0?'مقبول':'-'})]}),hasTimeData&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1 pt-2 border-t border-gray-200\",children:[progress.timeSpent&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-xs\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:\"\\u0627\\u0644\\u0648\\u0642\\u062A \\u0627\\u0644\\u0645\\u0633\\u062A\\u063A\\u0631\\u0642:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-blue-600\",children:[Math.floor(progress.timeSpent/60),\":\",(progress.timeSpent%60).toString().padStart(2,'0')]})]}),progress.submittedAt&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-xs\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:\"\\u062A\\u0627\\u0631\\u064A\\u062E \\u0627\\u0644\\u0625\\u0631\\u0633\\u0627\\u0644:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-green-600\",children:new Date(progress.submittedAt).toLocaleDateString('en-GB')})]}),progress.submittedAt&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-xs\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:\"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0625\\u0631\\u0633\\u0627\\u0644:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-purple-600\",children:new Date(progress.submittedAt).toLocaleTimeString('en-US',{hour:'2-digit',minute:'2-digit',hour12:true})})]})]})]})},exam._id);}),groupExams.length>3&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center pt-2\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>toggleGroupExpansion(groupNum),className:\"text-xs text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-full px-3 py-1 inline-block transition-colors duration-200 flex items-center space-x-1 rtl:space-x-reverse mx-auto\",children:[/*#__PURE__*/_jsx(\"span\",{children:expandedGroups[groupNum]?'إخفاء الاختبارات':\"+\".concat(groupExams.length-3,\" \\u0627\\u062E\\u062A\\u0628\\u0627\\u0631\\u0627\\u062A \\u0623\\u062E\\u0631\\u0649\")}),/*#__PURE__*/_jsx(\"svg\",{className:\"w-3 h-3 transition-transform duration-200 \".concat(expandedGroups[groupNum]?'rotate-180':''),fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})]})})]})]},groupNum);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body p-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full divide-y divide-gray-200\",style:{tableLayout:'fixed',width:'1710px',minWidth:'1710px'},children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50 sticky top-0 z-20\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200\",style:{width:'180px',minWidth:'180px',maxWidth:'180px'},children:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u062C\\u0645\\u0648\\u0639\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200\",style:{width:'300px',minWidth:'300px',maxWidth:'300px'},children:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0627\\u062E\\u062A\\u0628\\u0627\\u0631\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200\",style:{width:'120px',minWidth:'120px',maxWidth:'120px'},children:\"\\u0627\\u0644\\u0646\\u0642\\u0627\\u0637\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200\",style:{width:'120px',minWidth:'120px',maxWidth:'120px'},children:\"\\u0627\\u0644\\u0646\\u0633\\u0628\\u0629 \\u0627\\u0644\\u0645\\u0626\\u0648\\u064A\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200\",style:{width:'180px',minWidth:'180px',maxWidth:'180px'},children:\"\\u0627\\u0644\\u0646\\u0633\\u0628\\u0629 \\u0627\\u0644\\u062A\\u0631\\u0627\\u0643\\u0645\\u064A\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200\",style:{width:'120px',minWidth:'120px',maxWidth:'120px'},children:\"\\u0627\\u0644\\u062D\\u0627\\u0644\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200\",style:{width:'120px',minWidth:'120px',maxWidth:'120px'},children:\"\\u0627\\u0644\\u0648\\u0642\\u062A \\u0627\\u0644\\u0645\\u0633\\u062A\\u063A\\u0631\\u0642\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200\",style:{width:'150px',minWidth:'150px',maxWidth:'150px'},children:\"\\u062A\\u0627\\u0631\\u064A\\u062E \\u0627\\u0644\\u0625\\u0631\\u0633\\u0627\\u0644\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200\",style:{width:'120px',minWidth:'120px',maxWidth:'120px'},children:\"\\u0623\\u0641\\u0636\\u0644 \\u062F\\u0631\\u062C\\u0629 \\u0645\\u0631\\u0627\\u062C\\u0639\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider\",style:{width:'180px',minWidth:'180px',maxWidth:'180px'},children:\"\\u0627\\u0644\\u0625\\u062C\\u0631\\u0627\\u0621\\u0627\\u062A\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:(()=>{// Group exams by examGroup and calculate cumulative percentages\nconst groupedExams={};const groupCumulative={};// Initialize groups (0-8, group 0 is foundation tests)\nfor(let i=0;i<=8;i++){groupedExams[i]=[];groupCumulative[i]={totalScore:0,totalQuestions:0,completedExams:0};}// Group exams and calculate cumulative data\nexams.forEach(exam=>{const groupNum=exam.examGroup;const progress=studentProgress.find(p=>p.examId&&p.examId._id===exam._id);if(progress){groupedExams[groupNum].push({exam,progress});if(progress.status==='completed'){groupCumulative[groupNum].totalScore+=progress.score||0;groupCumulative[groupNum].totalQuestions+=progress.totalQuestions||exam.totalQuestions||0;groupCumulative[groupNum].completedExams+=1;}}else{groupedExams[groupNum].push({exam,progress:null});}});// Sort exams within each group by order\nObject.keys(groupedExams).forEach(group=>{groupedExams[group].sort((a,b)=>a.exam.order-b.exam.order);});// Calculate cumulative percentages\nObject.keys(groupCumulative).forEach(group=>{const data=groupCumulative[group];if(data.totalQuestions>0){data.cumulativePercentage=Math.round(data.totalScore/data.totalQuestions*100);}else{data.cumulativePercentage=0;}});// Render table rows\nconst rows=[];// Render group 0 first (اختبارات التأسيس)\nif(groupedExams[0]&&groupedExams[0].length>0){groupedExams[0].forEach((item,index)=>{const{exam,progress}=item;const isFirstInGroup=index===0;const cumulativeData=groupCumulative[0];rows.push(/*#__PURE__*/_jsxs(\"tr\",{\"data-exam-id\":exam._id,className:\"\".concat((progress===null||progress===void 0?void 0:progress.status)==='completed'?'bg-green-50':(progress===null||progress===void 0?void 0:progress.status)==='in_progress'?'bg-yellow-50':'bg-gray-50',\" hover:bg-gray-100 transition-colors\"),children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 text-sm font-medium text-gray-900 border-r border-gray-200\",style:{width:'180px',minWidth:'180px',maxWidth:'180px'},children:isFirstInGroup&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 rtl:space-x-reverse\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-blue-700\",children:\"\\u0627\\u062E\\u062A\\u0628\\u0627\\u0631\\u0627\\u062A \\u0627\\u0644\\u062A\\u0623\\u0633\\u064A\\u0633\"}),cumulativeData.completedExams>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\",children:[cumulativeData.cumulativePercentage.toFixed(2),\"%\"]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 text-sm text-gray-900 border-r border-gray-200\",style:{width:'300px',minWidth:'300px',maxWidth:'300px'},children:/*#__PURE__*/_jsx(\"div\",{className:\"truncate\",title:exam.title,children:exam.title})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 text-sm text-gray-900 text-right border-r border-gray-200\",style:{width:'120px',minWidth:'120px',maxWidth:'120px'},children:progress?\"\".concat(progress.score||0,\"/\").concat(progress.totalQuestions||exam.totalQuestions||0):'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 text-sm text-gray-900 text-right border-r border-gray-200\",style:{width:'120px',minWidth:'120px',maxWidth:'120px'},children:progress?\"\".concat((progress.percentage||0).toFixed(2),\"%\"):'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 text-sm text-gray-900 text-right border-r border-gray-200\",style:{width:'180px',minWidth:'180px',maxWidth:'180px'},children:isFirstInGroup&&cumulativeData.completedExams>0?\"\".concat(cumulativeData.cumulativePercentage,\"%\"):'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 text-right border-r border-gray-200\",style:{width:'120px',minWidth:'120px',maxWidth:'120px'},children:progress?/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium \".concat(progress.status==='completed'?'bg-green-100 text-green-800':progress.status==='in_progress'?'bg-yellow-100 text-yellow-800':progress.status==='unlocked'?'bg-blue-100 text-blue-800':'bg-gray-100 text-gray-800'),children:progress.status==='completed'?'مكتمل':progress.status==='in_progress'?'قيد التنفيذ':progress.status==='unlocked'?'متاح':'مقفل'}):/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800\",children:\"\\u063A\\u064A\\u0631 \\u0645\\u062D\\u062F\\u062F\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 text-sm text-gray-900 text-center border-r border-gray-200\",style:{width:'120px',minWidth:'120px',maxWidth:'120px'},children:progress&&progress.timeSpent?/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-blue-600\",children:[Math.floor(progress.timeSpent/60),\":\",(progress.timeSpent%60).toString().padStart(2,'0')]}):'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 text-sm text-gray-900 text-center border-r border-gray-200\",style:{width:'150px',minWidth:'150px',maxWidth:'150px'},children:progress&&progress.submittedAt?/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:new Date(progress.submittedAt).toLocaleDateString('en-GB')}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500\",children:new Date(progress.submittedAt).toLocaleTimeString('en-US',{hour:'2-digit',minute:'2-digit',hour12:true})})]}):'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 text-sm text-gray-900 text-center border-r border-gray-200\",style:{width:'120px',minWidth:'120px',maxWidth:'120px'},children:progress&&progress.bestReviewScore?/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800\",children:[progress.bestReviewScore.toFixed(2),\"%\"]}):/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 text-xs\",children:\"-\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 text-center\",style:{width:'180px',minWidth:'180px',maxWidth:'180px'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-1 rtl:space-x-reverse\",children:progress&&progress.status==='unlocked'?/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleLockUnlockExam(exam._id,'lock'),className:\"inline-flex items-center px-2 py-1 border border-transparent text-xs font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors\",children:[/*#__PURE__*/_jsx(Lock,{className:\"w-3 h-3 ml-1\"}),\"\\u0642\\u0641\\u0644\"]}):/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleLockUnlockExam(exam._id,'unlock'),className:\"inline-flex items-center px-2 py-1 border border-transparent text-xs font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors\",children:[/*#__PURE__*/_jsx(Unlock,{className:\"w-3 h-3 ml-1\"}),\"\\u0641\\u062A\\u062D\"]})}),progress&&(progress.status==='completed'||progress.status==='in_progress')&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-1\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleViewSubmission(exam),className:\"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors\",children:[/*#__PURE__*/_jsx(Eye,{className:\"w-3 h-3 ml-1\"}),\"\\u0639\\u0631\\u0636 \\u0627\\u0644\\u0625\\u062C\\u0627\\u0628\\u0629\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleViewMistakes(exam),className:\"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-3 h-3 ml-1\"}),\"\\u0639\\u0631\\u0636 \\u0627\\u0644\\u0623\\u062E\\u0637\\u0627\\u0621\"]})]})]})})]},exam._id));});}// Render groups 1-8\nfor(let groupNum=1;groupNum<=8;groupNum++){if(groupedExams[groupNum]&&groupedExams[groupNum].length>0){groupedExams[groupNum].forEach((item,index)=>{const{exam,progress}=item;const isFirstInGroup=index===0;const cumulativeData=groupCumulative[groupNum];rows.push(/*#__PURE__*/_jsxs(\"tr\",{\"data-exam-id\":exam._id,className:\"\".concat((progress===null||progress===void 0?void 0:progress.status)==='completed'?'bg-green-50':(progress===null||progress===void 0?void 0:progress.status)==='in_progress'?'bg-yellow-50':'bg-gray-50',\" hover:bg-gray-100 transition-colors\"),children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 text-sm font-medium text-gray-900 border-r border-gray-200\",style:{width:'180px',minWidth:'180px',maxWidth:'180px'},children:isFirstInGroup&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 rtl:space-x-reverse\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold\",children:[\"\\u0627\\u0644\\u0645\\u062C\\u0645\\u0648\\u0639\\u0629 \",groupNum]}),cumulativeData.completedExams>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\",children:[cumulativeData.cumulativePercentage.toFixed(2),\"%\"]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 text-sm text-gray-900 border-r border-gray-200\",style:{width:'300px',minWidth:'300px',maxWidth:'300px'},children:/*#__PURE__*/_jsx(\"div\",{className:\"truncate\",title:exam.title,children:exam.title})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 text-sm text-gray-900 text-center border-r border-gray-200\",style:{width:'120px',minWidth:'120px',maxWidth:'120px'},children:progress?\"\".concat(progress.score||0,\"/\").concat(progress.totalQuestions||exam.totalQuestions||0):'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 text-sm text-gray-900 text-center border-r border-gray-200\",style:{width:'120px',minWidth:'120px',maxWidth:'120px'},children:progress?\"\".concat((progress.percentage||0).toFixed(2),\"%\"):'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 text-sm text-gray-900 text-center border-r border-gray-200\",style:{width:'180px',minWidth:'180px',maxWidth:'180px'},children:isFirstInGroup&&cumulativeData.completedExams>0?\"\".concat(cumulativeData.cumulativePercentage,\"%\"):'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 text-center border-r border-gray-200\",style:{width:'120px',minWidth:'120px',maxWidth:'120px'},children:progress?/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium \".concat(progress.status==='completed'?'bg-green-100 text-green-800':progress.status==='in_progress'?'bg-yellow-100 text-yellow-800':progress.status==='unlocked'?'bg-blue-100 text-blue-800':'bg-gray-100 text-gray-800'),children:progress.status==='completed'?'مكتمل':progress.status==='in_progress'?'قيد التنفيذ':progress.status==='unlocked'?'متاح':'مقفل'}):/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800\",children:\"\\u063A\\u064A\\u0631 \\u0645\\u062D\\u062F\\u062F\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 text-sm text-gray-900 text-center border-r border-gray-200\",style:{width:'120px',minWidth:'120px',maxWidth:'120px'},children:progress&&progress.timeSpent?/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-blue-600\",children:[Math.floor(progress.timeSpent/60),\":\",(progress.timeSpent%60).toString().padStart(2,'0')]}):'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 text-sm text-gray-900 text-center border-r border-gray-200\",style:{width:'150px',minWidth:'150px',maxWidth:'150px'},children:progress&&progress.submittedAt?/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:new Date(progress.submittedAt).toLocaleDateString('en-GB')}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500\",children:new Date(progress.submittedAt).toLocaleTimeString('en-US',{hour:'2-digit',minute:'2-digit',hour12:true})})]}):'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 text-sm text-gray-900 text-center border-r border-gray-200\",style:{width:'120px',minWidth:'120px',maxWidth:'120px'},children:progress&&progress.bestReviewScore?/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800\",children:[progress.bestReviewScore.toFixed(2),\"%\"]}):/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 text-xs\",children:\"-\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 text-center\",style:{width:'180px',minWidth:'180px',maxWidth:'180px'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-1 rtl:space-x-reverse\",children:progress&&progress.status==='unlocked'?/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleLockUnlockExam(exam._id,'lock'),className:\"inline-flex items-center px-2 py-1 border border-transparent text-xs font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors\",children:[/*#__PURE__*/_jsx(Lock,{className:\"w-3 h-3 ml-1\"}),\"\\u0642\\u0641\\u0644\"]}):/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleLockUnlockExam(exam._id,'unlock'),className:\"inline-flex items-center px-2 py-1 border border-transparent text-xs font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors\",children:[/*#__PURE__*/_jsx(Unlock,{className:\"w-3 h-3 ml-1\"}),\"\\u0641\\u062A\\u062D\"]})}),progress&&(progress.status==='completed'||progress.status==='in_progress')&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-1\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleViewSubmission(exam),className:\"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors\",children:[/*#__PURE__*/_jsx(Eye,{className:\"w-3 h-3 ml-1\"}),\"\\u0639\\u0631\\u0636 \\u0627\\u0644\\u0625\\u062C\\u0627\\u0628\\u0629\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleViewMistakes(exam),className:\"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-3 h-3 ml-1\"}),\"\\u0639\\u0631\\u0636 \\u0627\\u0644\\u0623\\u062E\\u0637\\u0627\\u0621\"]})]})]})})]},exam._id));});}}return rows.length>0?rows:/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"7\",className:\"px-4 py-8 text-center text-sm text-gray-500 bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(BookOpen,{className:\"w-8 h-8 text-gray-400 mb-2\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0627\\u062E\\u062A\\u0628\\u0627\\u0631\\u0627\\u062A \\u0645\\u062A\\u0627\\u062D\\u0629\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-400 mt-1\",children:exams.length===0?'لم يتم إنشاء أي اختبارات بعد':'لا توجد اختبارات في قاعدة البيانات'})]})})});})()})]})})})]}),false&&showLockUnlockModal&&/*#__PURE__*/_jsx(\"div\",{children:\"Modal temporarily disabled\"}),showMistakes&&selectedExamForMistakes&&/*#__PURE__*/_jsx(StudentMistakes,{studentId:studentId,examId:selectedExamForMistakes._id,examTitle:selectedExamForMistakes.title,onClose:handleCloseMistakes}),showAllAnswers&&student&&/*#__PURE__*/_jsx(StudentAnswersViewer,{studentId:studentId,studentName:student.name,onClose:handleCloseAllAnswers}),showSubmission&&selectedExamForSubmission&&student&&/*#__PURE__*/_jsx(StudentExamSubmission,{studentId:studentId,studentName:student.name,examId:selectedExamForSubmission._id,examTitle:selectedExamForSubmission.title,onClose:handleCloseSubmission,allExams:attemptedExams})]});};export default StudentProfile;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","toast","ArrowLeft","User","Mail","Hash","BookOpen","Lock","Unlock","Settings","Filter","AlertTriangle","Eye","RefreshCw","List","StudentMistakes","StudentAnswersViewer","StudentExamSubmission","jsx","_jsx","jsxs","_jsxs","StudentProfile","studentId","navigate","student","setStudent","exams","setExams","loading","setLoading","showLockUnlockModal","setShowLockUnlockModal","selectedExams","setSelectedExams","lockUnlockAction","setLockUnlockAction","expandedGroups","setExpandedGroups","studentProgress","setStudentProgress","groupStatus","setGroupStatus","showMistakes","setShowMistakes","selectedExamForMistakes","setSelectedExamForMistakes","showAllAnswers","setShowAllAnswers","showSubmission","setShowSubmission","selectedExamForSubmission","setSelectedExamForSubmission","attemptedExams","setAttemptedExams","refreshing","setRefreshing","console","log","length","window","location","href","error","loadData","Promise","all","fetchStudentData","fetchExams","fetchStudentProgress","examProgress","attempted","filter","progress","status","map","exam","find","e","_id","examId","handleExamChange","event","examTitle","detail","addEventListener","removeEventListener","isRefresh","arguments","undefined","concat","localStorage","getItem","response","get","headers","data","name","success","_error$response","_error$response2","_error$response3","_error$response4","_error$response5","_error$response6","_error$response7","_error$response8","message","statusText","removeItem","_error$response9","_error$response9$data","Array","isArray","_error$response0","_error$response1","_error$response10","_error$response11","_error$response11$dat","calculateGroupStatus","i","forEach","progressItem","groupNum","examGroup","handleLockUnlockExam","action","endpoint","url","put","_error$response12","_error$response13","_error$response14","_error$response15","_error$response16","_error$response16$dat","handleToggleMultipleExams","examIds","prev","_error$response17","_error$response18","_error$response19","_error$response20","_error$response21","_error$response21$dat","toggleGroupExpansion","_objectSpread","handleToggleGroup","groupNumber","parseInt","_error$response22","_error$response23","_error$response24","_error$response25","_error$response26","_error$response26$dat","handleViewMistakes","handleCloseMistakes","handleViewAllAnswers","handleCloseAllAnswers","handleViewSubmission","handleCloseSubmission","className","children","onClick","email","phoneNumber","from","_","isUnlocked","groupExams","groupProgress","_student$examProgress","p","Boolean","completedExams","avgScore","Math","round","reduce","sum","percentage","toFixed","slice","_student$examProgress2","hasTimeData","timeSpent","submittedAt","examRow","document","querySelector","scrollIntoView","behavior","block","classList","add","setTimeout","remove","order","score","totalQuestions","floor","toString","padStart","Date","toLocaleDateString","toLocaleTimeString","hour","minute","hour12","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","style","tableLayout","width","minWidth","maxWidth","groupedExams","groupCumulative","totalScore","push","Object","keys","group","sort","a","b","cumulativePercentage","rows","item","index","isFirstInGroup","cumulativeData","title","bestReviewScore","colSpan","onClose","studentName","allExams"],"sources":["M:/Qudrat/client/src/pages/Teacher/StudentProfile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\nimport { \n  ArrowLeft, \n  User, \n  Mail, \n  Hash, \n  BookOpen,\n  Lock,\n  Unlock,\n  Settings,\n  Filter,\n  AlertTriangle,\n  Eye,\n  RefreshCw,\n  List\n} from 'lucide-react';\nimport StudentMistakes from '../../components/Exam/StudentMistakes';\nimport StudentAnswersViewer from '../../components/Exam/StudentAnswersViewer';\nimport StudentExamSubmission from '../../components/Exam/StudentExamSubmission';\n\nconst StudentProfile = () => {\n  const { studentId } = useParams();\n  const navigate = useNavigate();\n  const [student, setStudent] = useState(null);\n  const [exams, setExams] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showLockUnlockModal, setShowLockUnlockModal] = useState(false);\n  const [selectedExams, setSelectedExams] = useState([]);\n  const [lockUnlockAction, setLockUnlockAction] = useState('lock');\n  const [expandedGroups, setExpandedGroups] = useState({}); // 'lock' or 'unlock'\n  const [studentProgress, setStudentProgress] = useState([]);\n  const [groupStatus, setGroupStatus] = useState({});\n  const [showMistakes, setShowMistakes] = useState(false);\n  const [selectedExamForMistakes, setSelectedExamForMistakes] = useState(null);\n  const [showAllAnswers, setShowAllAnswers] = useState(false);\n  const [showSubmission, setShowSubmission] = useState(false);\n  const [selectedExamForSubmission, setSelectedExamForSubmission] = useState(null);\n  const [attemptedExams, setAttemptedExams] = useState([]);\n  const [refreshing, setRefreshing] = useState(false);\n\n  useEffect(() => {\n    console.log('=== STUDENT PROFILE MOUNTED ===');\n    console.log('Student ID from URL:', studentId);\n    console.log('Student ID type:', typeof studentId);\n    console.log('Student ID length:', studentId?.length);\n    console.log('Current URL:', window.location.href);\n    \n    // Validate student ID format\n    if (!studentId || studentId.length < 10) {\n      console.error('Invalid student ID format:', studentId);\n      toast.error('معرف الطالب غير صحيح');\n      navigate('/teacher/students');\n      return;\n    }\n    \n    const loadData = async () => {\n      try {\n        setLoading(true);\n        console.log('Starting to load data for student:', studentId);\n        await Promise.all([\n          fetchStudentData(),\n          fetchExams()\n        ]);\n        console.log('Data loading completed successfully');\n      } catch (error) {\n        console.error('Error loading initial data:', error);\n        toast.error('حدث خطأ أثناء تحميل البيانات');\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    loadData();\n  }, [studentId]);\n\n  // Update progress when student data changes\n  useEffect(() => {\n    fetchStudentProgress();\n  }, [student]);\n\n  // Update attempted exams when student progress changes\n  useEffect(() => {\n    if (student && student.examProgress) {\n      const attempted = student.examProgress\n        .filter(progress => progress.status === 'completed' || progress.status === 'in_progress')\n        .map(progress => {\n          const exam = exams.find(e => e._id === progress.examId);\n          return exam;\n        })\n        .filter(exam => exam); // Remove undefined exams\n      \n      setAttemptedExams(attempted);\n    }\n  }, [student, exams]);\n\n  // Listen for exam changes from the submission modal\n  useEffect(() => {\n    const handleExamChange = (event) => {\n      const { examId, examTitle } = event.detail;\n      const exam = attemptedExams.find(e => e._id === examId);\n      if (exam) {\n        setSelectedExamForSubmission(exam);\n      }\n    };\n\n    window.addEventListener('examChanged', handleExamChange);\n    return () => window.removeEventListener('examChanged', handleExamChange);\n  }, [attemptedExams]);\n\n  const fetchStudentData = async (isRefresh = false) => {\n    try {\n      if (isRefresh) {\n        setRefreshing(true);\n      }\n      \n      console.log('=== FETCHING STUDENT DATA ===');\n      console.log('Student ID:', studentId);\n      console.log('API URL:', `/api/users/students/${studentId}`);\n      console.log('Token present:', !!localStorage.getItem('token'));\n      \n      const response = await axios.get(`/api/users/students/${studentId}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      \n      \n      if (response.data && response.data.data) {\n      setStudent(response.data.data);\n        console.log('Student set successfully:', response.data.data);\n        \n        // Validate student data\n        if (!response.data.data._id || !response.data.data.name) {\n          console.error('Invalid student data structure');\n          toast.error('بيانات الطالب غير صحيحة');\n          navigate('/teacher/students');\n          return;\n        }\n      } else {\n        console.error('No student data in response');\n        console.error('Response structure:', response.data);\n        toast.error('لم يتم العثور على بيانات الطالب');\n        navigate('/teacher/students');\n        return;\n      }\n      \n      if (isRefresh) {\n        toast.success('تم تحديث بيانات الطالب بنجاح');\n      }\n    } catch (error) {\n      console.error('=== STUDENT DATA ERROR ===');\n      console.error('Error object:', error);\n      console.error('Error message:', error.message);\n      console.error('Error response:', error.response);\n      console.error('Error details:', {\n        message: error.message,\n        status: error.response?.status,\n        statusText: error.response?.statusText,\n        data: error.response?.data,\n        headers: error.response?.headers\n      });\n      \n      if (error.response?.status === 404) {\n        toast.error('الطالب غير موجود');\n      } else if (error.response?.status === 401) {\n        toast.error('انتهت صلاحية الجلسة، يرجى تسجيل الدخول مرة أخرى');\n        localStorage.removeItem('token');\n        navigate('/login');\n      } else if (error.response?.status === 403) {\n        toast.error('ليس لديك صلاحية للوصول إلى بيانات هذا الطالب');\n      } else if (error.response?.status >= 500) {\n        toast.error('خطأ في الخادم، يرجى المحاولة لاحقاً');\n      } else if (!error.response) {\n        toast.error('لا يمكن الاتصال بالخادم، تحقق من اتصال الإنترنت');\n      } else {\n        toast.error(`حدث خطأ أثناء تحميل بيانات الطالب: ${error.response?.data?.message || error.message}`);\n      }\n      \n      navigate('/teacher/students');\n    } finally {\n      if (isRefresh) {\n        setRefreshing(false);\n      }\n    }\n  };\n\n  const fetchExams = async () => {\n    try {\n      console.log('=== FETCHING EXAMS ===');\n      console.log('API URL:', '/api/exams');\n      \n      const response = await axios.get('/api/exams', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      \n      console.log('=== EXAMS RESPONSE ===');\n      console.log('Status:', response.status);\n      console.log('Data:', response.data);\n      console.log('Exams data:', response.data.data);\n      \n      if (response.data && response.data.data) {\n      setExams(response.data.data);\n        console.log('Exams set successfully:', response.data.data.length, 'exams');\n        \n        // Validate exams data\n        if (!Array.isArray(response.data.data)) {\n          console.error('Invalid exams data structure - not an array');\n          toast.error('بيانات الاختبارات غير صحيحة');\n          setExams([]);\n          return;\n        }\n      } else {\n        console.error('No exams data in response');\n        console.error('Response structure:', response.data);\n        toast.error('لم يتم العثور على اختبارات');\n        setExams([]);\n      }\n    } catch (error) {\n      console.error('=== EXAMS ERROR ===');\n      console.error('Error object:', error);\n      console.error('Error message:', error.message);\n      console.error('Error response:', error.response);\n      \n      if (error.response?.status === 401) {\n        toast.error('انتهت صلاحية الجلسة، يرجى تسجيل الدخول مرة أخرى');\n        localStorage.removeItem('token');\n        navigate('/login');\n      } else if (error.response?.status === 403) {\n        toast.error('ليس لديك صلاحية للوصول إلى الاختبارات');\n      } else if (error.response?.status >= 500) {\n        toast.error('خطأ في الخادم، يرجى المحاولة لاحقاً');\n      } else if (!error.response) {\n        toast.error('لا يمكن الاتصال بالخادم، تحقق من اتصال الإنترنت');\n      } else {\n        toast.error(`حدث خطأ أثناء تحميل الاختبارات: ${error.response?.data?.message || error.message}`);\n      }\n      setExams([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchStudentProgress = () => {\n    console.log('=== FETCHING STUDENT PROGRESS ===');\n    console.log('Student:', !!student);\n    console.log('Student exam progress:', student?.examProgress);\n    \n    // Student progress is already available in the student data\n    if (student && student.examProgress) {\n      console.log('Setting student progress:', student.examProgress.length, 'progress entries');\n      setStudentProgress(student.examProgress);\n      calculateGroupStatus(student.examProgress);\n    } else {\n      console.log('No student or exam progress available');\n      setStudentProgress([]);\n    }\n  };\n\n  const calculateGroupStatus = (progress) => {\n    console.log('=== CALCULATING GROUP STATUS ===');\n    console.log('Progress data:', progress);\n    \n    const status = {};\n    \n    // Initialize groups 0-8 as locked\n    for (let i = 0; i <= 8; i++) {\n      status[i] = 'locked';\n    }\n    \n    if (!progress || !Array.isArray(progress)) {\n      console.log('No valid progress data, all groups locked');\n      setGroupStatus(status);\n      return;\n    }\n    \n    // Check each exam progress\n    progress.forEach(progressItem => {\n      try {\n        const groupNum = progressItem.examId ? progressItem.examId.examGroup : progressItem.examGroup;\n        if (groupNum !== undefined && groupNum !== null) {\n      if (progressItem.status === 'unlocked' || progressItem.status === 'in_progress' || progressItem.status === 'completed') {\n        status[groupNum] = 'unlocked';\n          }\n        }\n      } catch (error) {\n        console.error('Error processing progress item:', error, progressItem);\n      }\n    });\n    \n    console.log('Final group status:', status);\n    setGroupStatus(status);\n  };\n\n\n\n  const handleLockUnlockExam = async (examId, action) => {\n    try {\n      console.log('=== HANDLING LOCK/UNLOCK EXAM ===');\n      console.log('Exam ID:', examId);\n      console.log('Action:', action);\n      console.log('Student ID:', studentId);\n      \n      const endpoint = action === 'lock' ? 'lock-exam' : 'unlock-exam';\n      const url = `/api/users/students/${studentId}/${endpoint}`;\n      \n      console.log('API URL:', url);\n      \n      const response = await axios.put(url, {\n        examId\n      }, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      \n      console.log('Lock/Unlock response:', response.data);\n      \n      toast.success(`تم ${action === 'lock' ? 'قفل' : 'فتح'} الاختبار بنجاح`);\n      await fetchStudentData();\n    } catch (error) {\n      console.error('=== LOCK/UNLOCK EXAM ERROR ===');\n      console.error('Error object:', error);\n      console.error('Error message:', error.message);\n      console.error('Error response:', error.response);\n      \n      if (error.response?.status === 404) {\n        toast.error('الاختبار أو الطالب غير موجود');\n      } else if (error.response?.status === 401) {\n        toast.error('انتهت صلاحية الجلسة، يرجى تسجيل الدخول مرة أخرى');\n        localStorage.removeItem('token');\n        navigate('/login');\n      } else if (error.response?.status === 403) {\n        toast.error('ليس لديك صلاحية لإجراء هذا الإجراء');\n      } else if (error.response?.status >= 500) {\n        toast.error('خطأ في الخادم، يرجى المحاولة لاحقاً');\n      } else if (!error.response) {\n        toast.error('لا يمكن الاتصال بالخادم، تحقق من اتصال الإنترنت');\n      } else {\n        toast.error(`حدث خطأ أثناء ${action === 'lock' ? 'قفل' : 'فتح'} الاختبار: ${error.response?.data?.message || error.message}`);\n      }\n    }\n  };\n\n  const handleToggleMultipleExams = async () => {\n    try {\n      \n      const response = await axios.put(`/api/users/students/${studentId}/toggle-exams`, {\n        examIds: selectedExams,\n        action: lockUnlockAction\n      }, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      \n      \n      toast.success(`تم ${lockUnlockAction === 'lock' ? 'قفل' : 'فتح'} الاختبارات المحددة بنجاح`);\n      setShowLockUnlockModal(false);\n      setSelectedExams([]);\n      \n      // Refresh student data to show updated status\n      await fetchStudentData();\n      \n      // Also refresh the exams list to show updated status\n      await fetchExams();\n      \n      // Force a re-render by updating state\n      setStudentProgress(prev => [...prev]);\n    } catch (error) {\n      console.error('=== TOGGLE MULTIPLE EXAMS ERROR ===');\n      console.error('Error object:', error);\n      console.error('Error message:', error.message);\n      console.error('Error response:', error.response);\n      \n      if (error.response?.status === 404) {\n        toast.error('الطالب غير موجود');\n      } else if (error.response?.status === 401) {\n        toast.error('انتهت صلاحية الجلسة، يرجى تسجيل الدخول مرة أخرى');\n        localStorage.removeItem('token');\n        navigate('/login');\n      } else if (error.response?.status === 403) {\n        toast.error('ليس لديك صلاحية لإجراء هذا الإجراء');\n      } else if (error.response?.status >= 500) {\n        toast.error('خطأ في الخادم، يرجى المحاولة لاحقاً');\n      } else if (!error.response) {\n        toast.error('لا يمكن الاتصال بالخادم، تحقق من اتصال الإنترنت');\n      } else {\n        toast.error(`حدث خطأ أثناء ${lockUnlockAction === 'lock' ? 'قفل' : 'فتح'} الاختبارات: ${error.response?.data?.message || error.message}`);\n      }\n    }\n  };\n\n  const toggleGroupExpansion = (groupNum) => {\n    setExpandedGroups(prev => ({\n      ...prev,\n      [groupNum]: !prev[groupNum]\n    }));\n  };\n\n  const handleToggleGroup = async (groupNumber, action) => {\n    try {\n      console.log('=== TOGGLING GROUP ===');\n      console.log('Group number:', groupNumber);\n      console.log('Action:', action);\n      console.log('Student ID:', studentId);\n      \n      const response = await axios.put(`/api/users/students/${studentId}/toggle-group`, {\n        groupNumber: parseInt(groupNumber),\n        action\n      }, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      \n      console.log('Toggle group response:', response.data);\n      \n      toast.success(`تم ${action === 'lock' ? 'قفل' : 'فتح'} المجموعة ${groupNumber} بنجاح`);\n      await fetchStudentData();\n    } catch (error) {\n      console.error('=== TOGGLE GROUP ERROR ===');\n      console.error('Error object:', error);\n      console.error('Error message:', error.message);\n      console.error('Error response:', error.response);\n      \n      if (error.response?.status === 404) {\n        toast.error('الطالب غير موجود');\n      } else if (error.response?.status === 401) {\n        toast.error('انتهت صلاحية الجلسة، يرجى تسجيل الدخول مرة أخرى');\n        localStorage.removeItem('token');\n        navigate('/login');\n      } else if (error.response?.status === 403) {\n        toast.error('ليس لديك صلاحية لإجراء هذا الإجراء');\n      } else if (error.response?.status >= 500) {\n        toast.error('خطأ في الخادم، يرجى المحاولة لاحقاً');\n      } else if (!error.response) {\n        toast.error('لا يمكن الاتصال بالخادم، تحقق من اتصال الإنترنت');\n      } else {\n        toast.error(`حدث خطأ أثناء ${action === 'lock' ? 'قفل' : 'فتح'} المجموعة: ${error.response?.data?.message || error.message}`);\n      }\n    }\n  };\n\n  const handleViewMistakes = (exam) => {\n    console.log('=== VIEWING MISTAKES ===');\n    console.log('Exam:', exam);\n    console.log('Student:', student);\n    \n    if (!exam) {\n      console.error('No exam provided');\n      toast.error('لم يتم العثور على الاختبار');\n      return;\n    }\n    \n    if (!student) {\n      console.error('No student data available');\n      toast.error('لم يتم العثور على بيانات الطالب');\n      return;\n    }\n    \n    setSelectedExamForMistakes(exam);\n    setShowMistakes(true);\n  };\n\n  const handleCloseMistakes = () => {\n    console.log('=== CLOSING MISTAKES ===');\n    setShowMistakes(false);\n    setSelectedExamForMistakes(null);\n  };\n\n  const handleViewAllAnswers = () => {\n    console.log('=== VIEWING ALL ANSWERS ===');\n    console.log('Student:', student);\n    \n    if (!student) {\n      console.error('No student data available');\n      toast.error('لم يتم العثور على بيانات الطالب');\n      return;\n    }\n    \n    setShowAllAnswers(true);\n  };\n\n  const handleCloseAllAnswers = () => {\n    console.log('=== CLOSING ALL ANSWERS ===');\n    setShowAllAnswers(false);\n  };\n\n  const handleViewSubmission = (exam) => {\n    console.log('=== VIEWING SUBMISSION ===');\n    console.log('Exam:', exam);\n    console.log('Student:', student);\n    \n    if (!exam) {\n      console.error('No exam provided');\n      toast.error('لم يتم العثور على الاختبار');\n      return;\n    }\n    \n    if (!student) {\n      console.error('No student data available');\n      toast.error('لم يتم العثور على بيانات الطالب');\n      return;\n    }\n    \n    setSelectedExamForSubmission(exam);\n    setShowSubmission(true);\n  };\n\n  const handleCloseSubmission = () => {\n    console.log('=== CLOSING SUBMISSION ===');\n    setShowSubmission(false);\n    setSelectedExamForSubmission(null);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"spinner\"></div>\n      </div>\n    );\n  }\n\n  if (!student) {\n    return (\n      <div className=\"text-center py-12\">\n        <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">الطالب غير موجود</h2>\n        <button\n          onClick={() => navigate('/teacher/students')}\n          className=\"btn-primary\"\n        >\n          العودة لقائمة الطلاب\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-6xl mx-auto space-y-6\">\n      {/* Header */}\n      <div className=\"card\">\n        <div className=\"card-body\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-4 rtl:space-x-reverse\">\n              <button\n                onClick={() => navigate('/teacher/students')}\n                className=\"flex items-center space-x-2 rtl:space-x-reverse text-gray-600 hover:text-gray-800 transition-colors\"\n              >\n                <ArrowLeft className=\"h-4 w-4\" />\n                <span>العودة</span>\n              </button>\n              <div>\n                <h1 className=\"text-2xl font-bold text-gray-900\">ملف الطالب</h1>\n                <p className=\"text-gray-600\">تتبع تقدم الطالب وإدارة اختباراته</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Student Info */}\n      <div className=\"card\">\n        <div className=\"card-header\">\n          <h3 className=\"text-lg font-semibold text-gray-900\">معلومات الطالب</h3>\n        </div>\n        <div className=\"card-body\">\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n            <div className=\"flex items-center space-x-3 rtl:space-x-reverse\">\n              <div className=\"h-12 w-12 rounded-full bg-primary-100 flex items-center justify-center\">\n                <User className=\"h-6 w-6 text-primary-600\" />\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-gray-500\">الاسم</p>\n                <p className=\"text-lg font-semibold text-gray-900\">{student.name}</p>\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-3 rtl:space-x-reverse\">\n              <div className=\"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center\">\n                <Mail className=\"h-6 w-6 text-blue-600\" />\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-gray-500\">البريد الإلكتروني</p>\n                <p className=\"text-lg font-semibold text-gray-900\">{student.email}</p>\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-3 rtl:space-x-reverse\">\n              <div className=\"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center\">\n                <Hash className=\"h-6 w-6 text-green-600\" />\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-gray-500\">رقم الجوال</p>\n                <p className=\"text-lg font-semibold text-gray-900\">{student.phoneNumber || 'غير محدد'}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n\n      {/* Status Summary */}\n      <div className=\"card\">\n        <div className=\"card-header\">\n          <h3 className=\"text-lg font-semibold text-gray-900\">حالة الاختبارات الحالية</h3>\n          <p className=\"text-sm text-gray-600 mt-1\">نظرة عامة على حالة المجموعات والاختبارات للطالب</p>\n        </div>\n        <div className=\"card-body\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            {/* Group Status Summary */}\n            <div className=\"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-lg p-4\">\n              <h4 className=\"text-md font-semibold text-blue-900 mb-3 flex items-center space-x-2 rtl:space-x-reverse\">\n                <Filter className=\"h-5 w-5\" />\n                <span>حالة المجموعات</span>\n              </h4>\n              <div className=\"grid grid-cols-5 gap-2\">\n                {/* Group 0 - اختبارات التأسيس */}\n                <div className=\"text-center\">\n                  <div className={`w-8 h-8 rounded-full mx-auto mb-1 flex items-center justify-center text-white text-xs font-bold ${\n                    groupStatus[0] === 'unlocked' ? 'bg-blue-500' : 'bg-gray-500'\n                  }`}>\n                    ت\n                  </div>\n                  <div className=\"text-xs text-gray-600\">\n                    {groupStatus[0] === 'unlocked' ? 'مفتوحة' : 'مقفلة'}\n                  </div>\n                </div>\n                {/* Groups 1-8 */}\n                {Array.from({ length: 8 }, (_, i) => i + 1).map((groupNum) => {\n                  const isUnlocked = groupStatus[groupNum] === 'unlocked';\n                  return (\n                    <div key={groupNum} className=\"text-center\">\n                      <div className={`w-8 h-8 rounded-full mx-auto mb-1 flex items-center justify-center text-white text-xs font-bold ${\n                        isUnlocked ? 'bg-green-500' : 'bg-red-500'\n                      }`}>\n                        {groupNum}\n                      </div>\n                      <div className=\"text-xs text-gray-600\">\n                        {isUnlocked ? 'مفتوحة' : 'مقفلة'}\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n\n                </div>\n        </div>\n      </div>\n\n        {/* Detailed Progress Table */}\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <h3 className=\"text-lg font-semibold text-gray-900\">جدول التقدم التفصيلي</h3>\n            <p className=\"text-sm text-gray-600 mt-1\">تفاصيل كاملة عن أداء الطالب في جميع الاختبارات</p>\n          </div>\n          \n          {/* Enhanced Quick Access Section */}\n          <div className=\"px-6 py-6 bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 border-b border-gray-200\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h4 className=\"text-lg font-bold text-gray-900 flex items-center space-x-3 rtl:space-x-reverse\">\n                <div className=\"p-2 bg-gradient-to-r from-green-500 to-blue-500 rounded-lg\">\n                  <List className=\"h-5 w-5 text-white\" />\n                </div>\n                <span>الوصول السريع للمجموعات والاختبارات</span>\n              </h4>\n              <div className=\"text-sm text-gray-600 bg-white px-3 py-1 rounded-full border\">\n                {exams.length} اختبار متاح\n              </div>\n            </div>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\n              {Array.from({ length: 9 }, (_, i) => i).map(groupNum => {\n                const groupExams = exams.filter(exam => exam.examGroup === groupNum);\n                \n                if (groupExams.length === 0) return null;\n                \n                // Calculate group statistics\n                const groupProgress = groupExams.map(exam => \n                  student?.examProgress?.find(p => p.examId === exam._id)\n                ).filter(Boolean);\n                \n                const completedExams = groupProgress.filter(p => p.status === 'completed').length;\n                const avgScore = groupProgress.length > 0 \n                  ? Math.round(groupProgress.reduce((sum, p) => sum + (p.percentage || 0), 0) / groupProgress.length)\n                  : 0;\n                \n                return (\n                  <div key={groupNum} className=\"bg-white rounded-xl border border-gray-200 p-4 hover:shadow-lg hover:border-green-300 transition-all duration-300 group\">\n                    {/* Group Header */}\n                    <div className=\"flex items-center justify-between mb-4\">\n                      <div className=\"flex items-center space-x-3 rtl:space-x-reverse\">\n                        <div className=\"w-8 h-8 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold\">\n                          {groupNum}\n                        </div>\n                        <div>\n                          <h5 className=\"font-bold text-gray-900 text-sm\">\n                            {groupNum === 0 ? 'اختبارات التأسيس' : `المجموعة ${groupNum}`}\n                          </h5>\n                          <p className=\"text-xs text-gray-500\">\n                            {completedExams}/{groupExams.length} مكتمل\n                          </p>\n                        </div>\n                      </div>\n                      {avgScore > 0 && (\n                        <div className={`px-2 py-1 rounded-full text-xs font-bold ${\n                          avgScore >= 80 ? 'bg-green-100 text-green-700' :\n                          avgScore >= 60 ? 'bg-blue-100 text-blue-700' :\n                          'bg-orange-100 text-orange-700'\n                        }`}>\n                          {avgScore.toFixed(2)}%\n                        </div>\n                      )}\n                    </div>\n                    \n                    {/* Exams List */}\n              <div className=\"space-y-2\">\n                      {(expandedGroups[groupNum] ? groupExams : groupExams.slice(0, 3)).map(exam => {\n                        const progress = student?.examProgress?.find(p => p.examId === exam._id);\n                        const hasTimeData = progress && (progress.timeSpent || progress.submittedAt);\n                        \n                        return (\n                          <button\n                            key={exam._id}\n                            onClick={() => {\n                              // Scroll to the exam in the table\n                              const examRow = document.querySelector(`[data-exam-id=\"${exam._id}\"]`);\n                              if (examRow) {\n                                examRow.scrollIntoView({ behavior: 'smooth', block: 'center' });\n                                examRow.classList.add('bg-yellow-50', 'ring-2', 'ring-yellow-300');\n                                setTimeout(() => {\n                                  examRow.classList.remove('bg-yellow-50', 'ring-2', 'ring-yellow-300');\n                                }, 3000);\n                              }\n                            }}\n                            className=\"w-full text-right p-3 bg-gray-50 hover:bg-gradient-to-r hover:from-green-50 hover:to-blue-50 rounded-lg border border-gray-200 hover:border-green-300 transition-all duration-200 group/exam\"\n                          >\n                            <div className=\"space-y-2\">\n                              {/* Exam Title and Score */}\n                              <div className=\"flex items-center justify-between\">\n                                <div className=\"flex-1\">\n                                  <div className=\"font-semibold text-gray-900 group-hover/exam:text-green-700 text-sm\">\n                                    اختبار {exam.order}\n                </div>\n                                  <div className=\"text-xs text-gray-600\">\n                                    {progress ? `${progress.score || 0}/${exam.totalQuestions || 0}` : '-'}\n                                  </div>\n                                </div>\n                                <div className={`px-2 py-1 rounded-full text-xs font-bold ${\n                                  progress?.percentage >= 80 ? 'bg-green-100 text-green-700' :\n                                  progress?.percentage >= 60 ? 'bg-blue-100 text-blue-700' :\n                                  progress?.percentage > 0 ? 'bg-orange-100 text-orange-700' :\n                                  'bg-gray-100 text-gray-700'\n                                }`}>\n                                  {progress?.percentage >= 80 ? 'ممتاز' :\n                                   progress?.percentage >= 60 ? 'جيد' :\n                                   progress?.percentage > 0 ? 'مقبول' : '-'}\n                                </div>\n                              </div>\n                              \n                              {/* Time and Date Information */}\n                              {hasTimeData && (\n                                <div className=\"space-y-1 pt-2 border-t border-gray-200\">\n                                  {progress.timeSpent && (\n                                    <div className=\"flex items-center justify-between text-xs\">\n                                      <span className=\"text-gray-500\">الوقت المستغرق:</span>\n                                      <span className=\"font-medium text-blue-600\">\n                                        {Math.floor(progress.timeSpent / 60)}:{(progress.timeSpent % 60).toString().padStart(2, '0')}\n                  </span>\n                </div>\n                                  )}\n                                  {progress.submittedAt && (\n                                    <div className=\"flex items-center justify-between text-xs\">\n                                      <span className=\"text-gray-500\">تاريخ الإرسال:</span>\n                                      <span className=\"font-medium text-green-600\">\n                                        {new Date(progress.submittedAt).toLocaleDateString('en-GB')}\n                  </span>\n                </div>\n                                  )}\n                                  {progress.submittedAt && (\n                                    <div className=\"flex items-center justify-between text-xs\">\n                                      <span className=\"text-gray-500\">وقت الإرسال:</span>\n                                      <span className=\"font-medium text-purple-600\">\n                                        {new Date(progress.submittedAt).toLocaleTimeString('en-US', { \n                                          hour: '2-digit', \n                                          minute: '2-digit',\n                                          hour12: true\n                                        })}\n                                      </span>\n              </div>\n                                  )}\n            </div>\n                              )}\n          </div>\n                          </button>\n                        );\n                      })}\n                      \n                      {groupExams.length > 3 && (\n                        <div className=\"text-center pt-2\">\n                          <button\n                            onClick={() => toggleGroupExpansion(groupNum)}\n                            className=\"text-xs text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-full px-3 py-1 inline-block transition-colors duration-200 flex items-center space-x-1 rtl:space-x-reverse mx-auto\"\n                          >\n                            <span>\n                              {expandedGroups[groupNum] \n                                ? 'إخفاء الاختبارات' \n                                : `+${groupExams.length - 3} اختبارات أخرى`\n                              }\n                            </span>\n                            <svg \n                              className={`w-3 h-3 transition-transform duration-200 ${expandedGroups[groupNum] ? 'rotate-180' : ''}`} \n                              fill=\"none\" \n                              stroke=\"currentColor\" \n                              viewBox=\"0 0 24 24\"\n                            >\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                            </svg>\n                          </button>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                );\n              })}\n        </div>\n      </div>\n\n        <div className=\"card-body p-0\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full divide-y divide-gray-200\" style={{ \n              tableLayout: 'fixed',\n              width: '1710px',\n              minWidth: '1710px'\n            }}>\n              <thead className=\"bg-gray-50 sticky top-0 z-20\">\n                <tr>\n                  <th className=\"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200\" style={{ \n                    width: '180px',\n                    minWidth: '180px',\n                    maxWidth: '180px'\n                  }}>\n                    اسم المجموعة\n                  </th>\n                  <th className=\"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200\" style={{ \n                    width: '300px',\n                    minWidth: '300px',\n                    maxWidth: '300px'\n                  }}>\n                    اسم الاختبار\n                  </th>\n                  <th className=\"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200\" style={{ \n                    width: '120px',\n                    minWidth: '120px',\n                    maxWidth: '120px'\n                  }}>\n                    النقاط\n                  </th>\n                  <th className=\"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200\" style={{ \n                    width: '120px',\n                    minWidth: '120px',\n                    maxWidth: '120px'\n                  }}>\n                    النسبة المئوية\n                  </th>\n                  <th className=\"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200\" style={{ \n                    width: '180px',\n                    minWidth: '180px',\n                    maxWidth: '180px'\n                  }}>\n                    النسبة التراكمية\n                  </th>\n                  <th className=\"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200\" style={{ \n                    width: '120px',\n                    minWidth: '120px',\n                    maxWidth: '120px'\n                  }}>\n                    الحالة\n                  </th>\n                  <th className=\"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200\" style={{ \n                    width: '120px',\n                    minWidth: '120px',\n                    maxWidth: '120px'\n                  }}>\n                    الوقت المستغرق\n                  </th>\n                  <th className=\"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200\" style={{ \n                    width: '150px',\n                    minWidth: '150px',\n                    maxWidth: '150px'\n                  }}>\n                    تاريخ الإرسال\n                  </th>\n                  <th className=\"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200\" style={{ \n                    width: '120px',\n                    minWidth: '120px',\n                    maxWidth: '120px'\n                  }}>\n                    أفضل درجة مراجعة\n                  </th>\n                  <th className=\"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider\" style={{ \n                    width: '180px',\n                    minWidth: '180px',\n                    maxWidth: '180px'\n                  }}>\n                    الإجراءات\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {(() => {\n                  // Group exams by examGroup and calculate cumulative percentages\n                  const groupedExams = {};\n                  const groupCumulative = {};\n                  \n                  // Initialize groups (0-8, group 0 is foundation tests)\n                  for (let i = 0; i <= 8; i++) {\n                    groupedExams[i] = [];\n                    groupCumulative[i] = { totalScore: 0, totalQuestions: 0, completedExams: 0 };\n                  }\n                  \n                  // Group exams and calculate cumulative data\n                  exams.forEach(exam => {\n                    const groupNum = exam.examGroup;\n                    const progress = studentProgress.find(p => p.examId && p.examId._id === exam._id);\n                    \n                    if (progress) {\n                      groupedExams[groupNum].push({ exam, progress });\n                      \n                      if (progress.status === 'completed') {\n                        groupCumulative[groupNum].totalScore += progress.score || 0;\n                        groupCumulative[groupNum].totalQuestions += progress.totalQuestions || exam.totalQuestions || 0;\n                        groupCumulative[groupNum].completedExams += 1;\n                      }\n                    } else {\n                      groupedExams[groupNum].push({ exam, progress: null });\n                    }\n                  });\n                  \n                  // Sort exams within each group by order\n                  Object.keys(groupedExams).forEach(group => {\n                    groupedExams[group].sort((a, b) => a.exam.order - b.exam.order);\n                  });\n                  \n                  // Calculate cumulative percentages\n                  Object.keys(groupCumulative).forEach(group => {\n                    const data = groupCumulative[group];\n                    if (data.totalQuestions > 0) {\n                      data.cumulativePercentage = Math.round((data.totalScore / data.totalQuestions) * 100);\n                    } else {\n                      data.cumulativePercentage = 0;\n                    }\n                  });\n                  \n                  // Render table rows\n                  const rows = [];\n                  \n                  // Render group 0 first (اختبارات التأسيس)\n                  if (groupedExams[0] && groupedExams[0].length > 0) {\n                    groupedExams[0].forEach((item, index) => {\n                      const { exam, progress } = item;\n                      const isFirstInGroup = index === 0;\n                      const cumulativeData = groupCumulative[0];\n                      \n                      rows.push(\n                        <tr key={exam._id} data-exam-id={exam._id} className={`${progress?.status === 'completed' ? 'bg-green-50' : progress?.status === 'in_progress' ? 'bg-yellow-50' : 'bg-gray-50'} hover:bg-gray-100 transition-colors`}>\n                          <td className=\"px-4 py-4 text-sm font-medium text-gray-900 border-r border-gray-200\" style={{ width: '180px', minWidth: '180px', maxWidth: '180px' }}>\n                            {isFirstInGroup && (\n                              <div className=\"flex items-center space-x-2 rtl:space-x-reverse\">\n                                <span className=\"font-semibold text-blue-700\">اختبارات التأسيس</span>\n                                {cumulativeData.completedExams > 0 && (\n                                  <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n                                    {cumulativeData.cumulativePercentage.toFixed(2)}%\n                  </span>\n                                )}\n        </div>\n                            )}\n                          </td>\n                          <td className=\"px-4 py-4 text-sm text-gray-900 border-r border-gray-200\" style={{ width: '300px', minWidth: '300px', maxWidth: '300px' }}>\n                            <div className=\"truncate\" title={exam.title}>\n                              {exam.title}\n                </div>\n                          </td>\n                          <td className=\"px-4 py-4 text-sm text-gray-900 text-right border-r border-gray-200\" style={{ width: '120px', minWidth: '120px', maxWidth: '120px' }}>\n                            {progress ? `${progress.score || 0}/${progress.totalQuestions || exam.totalQuestions || 0}` : '-'}\n                          </td>\n                          <td className=\"px-4 py-4 text-sm text-gray-900 text-right border-r border-gray-200\" style={{ width: '120px', minWidth: '120px', maxWidth: '120px' }}>\n                            {progress ? `${(progress.percentage || 0).toFixed(2)}%` : '-'}\n                          </td>\n                          <td className=\"px-4 py-4 text-sm text-gray-900 text-right border-r border-gray-200\" style={{ width: '180px', minWidth: '180px', maxWidth: '180px' }}>\n                            {isFirstInGroup && cumulativeData.completedExams > 0 ? `${cumulativeData.cumulativePercentage}%` : '-'}\n                          </td>\n                          <td className=\"px-4 py-4 text-right border-r border-gray-200\" style={{ width: '120px', minWidth: '120px', maxWidth: '120px' }}>\n                            {progress ? (\n                              <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${\n                                progress.status === 'completed' \n                                  ? 'bg-green-100 text-green-800'\n                                  : progress.status === 'in_progress'\n                                  ? 'bg-yellow-100 text-yellow-800'\n                                  : progress.status === 'unlocked'\n                                  ? 'bg-blue-100 text-blue-800'\n                                  : 'bg-gray-100 text-gray-800'\n                              }`}>\n                                {progress.status === 'completed' ? 'مكتمل' : \n                                 progress.status === 'in_progress' ? 'قيد التنفيذ' :\n                                 progress.status === 'unlocked' ? 'متاح' : 'مقفل'}\n                  </span>\n                            ) : (\n                              <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800\">\n                                غير محدد\n                              </span>\n                            )}\n                          </td>\n                          <td className=\"px-4 py-4 text-sm text-gray-900 text-center border-r border-gray-200\" style={{ width: '120px', minWidth: '120px', maxWidth: '120px' }}>\n                            {progress && progress.timeSpent ? (\n                              <span className=\"font-medium text-blue-600\">\n                                {Math.floor(progress.timeSpent / 60)}:{(progress.timeSpent % 60).toString().padStart(2, '0')}\n                              </span>\n                            ) : '-'}\n                          </td>\n                          <td className=\"px-4 py-4 text-sm text-gray-900 text-center border-r border-gray-200\" style={{ width: '150px', minWidth: '150px', maxWidth: '150px' }}>\n                            {progress && progress.submittedAt ? (\n                              <div className=\"text-xs\">\n                                <div className=\"font-medium text-gray-900\">\n                                  {new Date(progress.submittedAt).toLocaleDateString('en-GB')}\n                </div>\n                                <div className=\"text-gray-500\">\n                                  {new Date(progress.submittedAt).toLocaleTimeString('en-US', { \n                                    hour: '2-digit', \n                                    minute: '2-digit',\n                                    hour12: true\n                                  })}\n              </div>\n            </div>\n                            ) : '-'}\n                          </td>\n                          <td className=\"px-4 py-4 text-sm text-gray-900 text-center border-r border-gray-200\" style={{ width: '120px', minWidth: '120px', maxWidth: '120px' }}>\n                            {progress && progress.bestReviewScore ? (\n                              <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800\">\n                                {progress.bestReviewScore.toFixed(2)}%\n                              </span>\n                            ) : (\n                              <span className=\"text-gray-400 text-xs\">-</span>\n                            )}\n                          </td>\n                          <td className=\"px-4 py-4 text-center\" style={{ width: '180px', minWidth: '180px', maxWidth: '180px' }}>\n                            <div className=\"flex flex-col space-y-2\">\n                              {/* Lock/Unlock Buttons */}\n                              <div className=\"flex space-x-1 rtl:space-x-reverse\">\n                                {progress && progress.status === 'unlocked' ? (\n                                  <button\n                                    onClick={() => handleLockUnlockExam(exam._id, 'lock')}\n                                    className=\"inline-flex items-center px-2 py-1 border border-transparent text-xs font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors\"\n                                  >\n                                    <Lock className=\"w-3 h-3 ml-1\" />\n                                    قفل\n                                  </button>\n                                ) : (\n                                  <button\n                                    onClick={() => handleLockUnlockExam(exam._id, 'unlock')}\n                                    className=\"inline-flex items-center px-2 py-1 border border-transparent text-xs font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors\"\n                                  >\n                                    <Unlock className=\"w-3 h-3 ml-1\" />\n                                    فتح\n                                  </button>\n                                )}\n                              </div>\n                              \n                              {/* View Answer Button */}\n                              {progress && (progress.status === 'completed' || progress.status === 'in_progress') && (\n                                <div className=\"flex flex-col space-y-1\">\n                                  <button\n                                    onClick={() => handleViewSubmission(exam)}\n                                    className=\"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors\"\n                                  >\n                                    <Eye className=\"w-3 h-3 ml-1\" />\n                                    عرض الإجابة\n                                  </button>\n                                  <button\n                                    onClick={() => handleViewMistakes(exam)}\n                                    className=\"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors\"\n                                  >\n                                    <AlertTriangle className=\"w-3 h-3 ml-1\" />\n                                    عرض الأخطاء\n                                  </button>\n                                </div>\n                              )}\n                            </div>\n                          </td>\n                        </tr>\n                      );\n                    });\n                  }\n                  \n                  // Render groups 1-8\n                  for (let groupNum = 1; groupNum <= 8; groupNum++) {\n                    if (groupedExams[groupNum] && groupedExams[groupNum].length > 0) {\n                      groupedExams[groupNum].forEach((item, index) => {\n                        const { exam, progress } = item;\n                        const isFirstInGroup = index === 0;\n                        const cumulativeData = groupCumulative[groupNum];\n                        \n                        rows.push(\n                          <tr key={exam._id} data-exam-id={exam._id} className={`${progress?.status === 'completed' ? 'bg-green-50' : progress?.status === 'in_progress' ? 'bg-yellow-50' : 'bg-gray-50'} hover:bg-gray-100 transition-colors`}>\n                            <td className=\"px-4 py-4 text-sm font-medium text-gray-900 border-r border-gray-200\" style={{ width: '180px', minWidth: '180px', maxWidth: '180px' }}>\n                              {isFirstInGroup && (\n                                <div className=\"flex items-center space-x-2 rtl:space-x-reverse\">\n                                  <span className=\"font-semibold\">المجموعة {groupNum}</span>\n                                  {cumulativeData.completedExams > 0 && (\n                                    <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n                                      {cumulativeData.cumulativePercentage.toFixed(2)}%\n                                    </span>\n                                  )}\n                </div>\n                              )}\n                            </td>\n                            <td className=\"px-4 py-4 text-sm text-gray-900 border-r border-gray-200\" style={{ width: '300px', minWidth: '300px', maxWidth: '300px' }}>\n                              <div className=\"truncate\" title={exam.title}>\n                                {exam.title}\n                </div>\n                            </td>\n                            <td className=\"px-4 py-4 text-sm text-gray-900 text-center border-r border-gray-200\" style={{ width: '120px', minWidth: '120px', maxWidth: '120px' }}>\n                              {progress ? `${progress.score || 0}/${progress.totalQuestions || exam.totalQuestions || 0}` : '-'}\n                            </td>\n                            <td className=\"px-4 py-4 text-sm text-gray-900 text-center border-r border-gray-200\" style={{ width: '120px', minWidth: '120px', maxWidth: '120px' }}>\n                              {progress ? `${(progress.percentage || 0).toFixed(2)}%` : '-'}\n                            </td>\n                            <td className=\"px-4 py-4 text-sm text-gray-900 text-center border-r border-gray-200\" style={{ width: '180px', minWidth: '180px', maxWidth: '180px' }}>\n                              {isFirstInGroup && cumulativeData.completedExams > 0 ? `${cumulativeData.cumulativePercentage}%` : '-'}\n                            </td>\n                            <td className=\"px-4 py-4 text-center border-r border-gray-200\" style={{ width: '120px', minWidth: '120px', maxWidth: '120px' }}>\n                              {progress ? (\n                                <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${\n                                  progress.status === 'completed' \n                                    ? 'bg-green-100 text-green-800'\n                                    : progress.status === 'in_progress'\n                                    ? 'bg-yellow-100 text-yellow-800'\n                                    : progress.status === 'unlocked'\n                                    ? 'bg-blue-100 text-blue-800'\n                                    : 'bg-gray-100 text-gray-800'\n                                }`}>\n                                  {progress.status === 'completed' ? 'مكتمل' : \n                                   progress.status === 'in_progress' ? 'قيد التنفيذ' :\n                                   progress.status === 'unlocked' ? 'متاح' : 'مقفل'}\n                                </span>\n                              ) : (\n                                <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800\">\n                                  غير محدد\n                                </span>\n                              )}\n                            </td>\n                            <td className=\"px-4 py-4 text-sm text-gray-900 text-center border-r border-gray-200\" style={{ width: '120px', minWidth: '120px', maxWidth: '120px' }}>\n                              {progress && progress.timeSpent ? (\n                                <span className=\"font-medium text-blue-600\">\n                                  {Math.floor(progress.timeSpent / 60)}:{(progress.timeSpent % 60).toString().padStart(2, '0')}\n                                </span>\n                              ) : '-'}\n                            </td>\n                            <td className=\"px-4 py-4 text-sm text-gray-900 text-center border-r border-gray-200\" style={{ width: '150px', minWidth: '150px', maxWidth: '150px' }}>\n                              {progress && progress.submittedAt ? (\n                                <div className=\"text-xs\">\n                                  <div className=\"font-medium text-gray-900\">\n                                    {new Date(progress.submittedAt).toLocaleDateString('en-GB')}\n                      </div>\n                                  <div className=\"text-gray-500\">\n                                    {new Date(progress.submittedAt).toLocaleTimeString('en-US', { \n                                      hour: '2-digit', \n                                      minute: '2-digit',\n                                      hour12: true\n                                    })}\n                                  </div>\n                                </div>\n                              ) : '-'}\n                            </td>\n                            <td className=\"px-4 py-4 text-sm text-gray-900 text-center border-r border-gray-200\" style={{ width: '120px', minWidth: '120px', maxWidth: '120px' }}>\n                              {progress && progress.bestReviewScore ? (\n                                <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800\">\n                                  {progress.bestReviewScore.toFixed(2)}%\n                                </span>\n                              ) : (\n                                <span className=\"text-gray-400 text-xs\">-</span>\n                              )}\n                            </td>\n                            <td className=\"px-4 py-4 text-center\" style={{ width: '180px', minWidth: '180px', maxWidth: '180px' }}>\n                              <div className=\"flex flex-col space-y-2\">\n                                {/* Lock/Unlock Buttons */}\n                                <div className=\"flex space-x-1 rtl:space-x-reverse\">\n                                  {progress && progress.status === 'unlocked' ? (\n                                    <button\n                                      onClick={() => handleLockUnlockExam(exam._id, 'lock')}\n                                      className=\"inline-flex items-center px-2 py-1 border border-transparent text-xs font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors\"\n                                    >\n                                      <Lock className=\"w-3 h-3 ml-1\" />\n                                      قفل\n                                    </button>\n                                  ) : (\n                                    <button\n                                      onClick={() => handleLockUnlockExam(exam._id, 'unlock')}\n                                      className=\"inline-flex items-center px-2 py-1 border border-transparent text-xs font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors\"\n                                    >\n                                      <Unlock className=\"w-3 h-3 ml-1\" />\n                                      فتح\n                                    </button>\n                                  )}\n                                </div>\n                                \n                                {/* View Answer Button */}\n                                {progress && (progress.status === 'completed' || progress.status === 'in_progress') && (\n                                  <div className=\"flex flex-col space-y-1\">\n                                    <button\n                                      onClick={() => handleViewSubmission(exam)}\n                                      className=\"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors\"\n                                    >\n                                      <Eye className=\"w-3 h-3 ml-1\" />\n                                      عرض الإجابة\n                                    </button>\n                                    <button\n                                      onClick={() => handleViewMistakes(exam)}\n                                      className=\"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors\"\n                                    >\n                                      <AlertTriangle className=\"w-3 h-3 ml-1\" />\n                                      عرض الأخطاء\n                                    </button>\n                                  </div>\n                                )}\n                              </div>\n                            </td>\n                          </tr>\n                        );\n                      });\n                    }\n                  }\n                  \n                  return rows.length > 0 ? rows : (\n                    <tr>\n                      <td colSpan=\"7\" className=\"px-4 py-8 text-center text-sm text-gray-500 bg-gray-50\">\n                        <div className=\"flex flex-col items-center\">\n                          <BookOpen className=\"w-8 h-8 text-gray-400 mb-2\" />\n                          <span>لا توجد اختبارات متاحة</span>\n                          <span className=\"text-xs text-gray-400 mt-1\">\n                            {exams.length === 0 ? 'لم يتم إنشاء أي اختبارات بعد' : 'لا توجد اختبارات في قاعدة البيانات'}\n                          </span>\n                    </div>\n                      </td>\n                    </tr>\n                  );\n                })()}\n              </tbody>\n            </table>\n              </div>\n            </div>\n          </div>\n\n\n\n\n      {/* Lock/Unlock Modal - Temporarily Disabled for Build Fix */}\n      {false && showLockUnlockModal && (\n        <div>Modal temporarily disabled</div>\n      )}\n\n      {/* Student Mistakes Modal */}\n      {showMistakes && selectedExamForMistakes && (\n        <StudentMistakes\n          studentId={studentId}\n          examId={selectedExamForMistakes._id}\n          examTitle={selectedExamForMistakes.title}\n          onClose={handleCloseMistakes}\n        />\n      )}\n\n      {/* Student Answers Viewer Modal */}\n      {showAllAnswers && student && (\n        <StudentAnswersViewer\n          studentId={studentId}\n          studentName={student.name}\n          onClose={handleCloseAllAnswers}\n        />\n      )}\n\n      {/* Student Exam Submission Modal */}\n      {showSubmission && selectedExamForSubmission && student && (\n        <StudentExamSubmission\n          studentId={studentId}\n          studentName={student.name}\n          examId={selectedExamForSubmission._id}\n          examTitle={selectedExamForSubmission.title}\n          onClose={handleCloseSubmission}\n          allExams={attemptedExams}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default StudentProfile;\n"],"mappings":"qGAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CACnC,OACEC,SAAS,CACTC,IAAI,CACJC,IAAI,CACJC,IAAI,CACJC,QAAQ,CACRC,IAAI,CACJC,MAAM,CACNC,QAAQ,CACRC,MAAM,CACNC,aAAa,CACbC,GAAG,CACHC,SAAS,CACTC,IAAI,KACC,cAAc,CACrB,MAAO,CAAAC,eAAe,KAAM,uCAAuC,CACnE,MAAO,CAAAC,oBAAoB,KAAM,4CAA4C,CAC7E,MAAO,CAAAC,qBAAqB,KAAM,6CAA6C,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhF,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAAEC,SAAU,CAAC,CAAGzB,SAAS,CAAC,CAAC,CACjC,KAAM,CAAA0B,QAAQ,CAAGzB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAC0B,OAAO,CAAEC,UAAU,CAAC,CAAG9B,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAC+B,KAAK,CAAEC,QAAQ,CAAC,CAAGhC,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACiC,OAAO,CAAEC,UAAU,CAAC,CAAGlC,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACmC,mBAAmB,CAAEC,sBAAsB,CAAC,CAAGpC,QAAQ,CAAC,KAAK,CAAC,CACrE,KAAM,CAACqC,aAAa,CAAEC,gBAAgB,CAAC,CAAGtC,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACuC,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGxC,QAAQ,CAAC,MAAM,CAAC,CAChE,KAAM,CAACyC,cAAc,CAAEC,iBAAiB,CAAC,CAAG1C,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAE;AAC1D,KAAM,CAAC2C,eAAe,CAAEC,kBAAkB,CAAC,CAAG5C,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAAC6C,WAAW,CAAEC,cAAc,CAAC,CAAG9C,QAAQ,CAAC,CAAC,CAAC,CAAC,CAClD,KAAM,CAAC+C,YAAY,CAAEC,eAAe,CAAC,CAAGhD,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACiD,uBAAuB,CAAEC,0BAA0B,CAAC,CAAGlD,QAAQ,CAAC,IAAI,CAAC,CAC5E,KAAM,CAACmD,cAAc,CAAEC,iBAAiB,CAAC,CAAGpD,QAAQ,CAAC,KAAK,CAAC,CAC3D,KAAM,CAACqD,cAAc,CAAEC,iBAAiB,CAAC,CAAGtD,QAAQ,CAAC,KAAK,CAAC,CAC3D,KAAM,CAACuD,yBAAyB,CAAEC,4BAA4B,CAAC,CAAGxD,QAAQ,CAAC,IAAI,CAAC,CAChF,KAAM,CAACyD,cAAc,CAAEC,iBAAiB,CAAC,CAAG1D,QAAQ,CAAC,EAAE,CAAC,CACxD,KAAM,CAAC2D,UAAU,CAAEC,aAAa,CAAC,CAAG5D,QAAQ,CAAC,KAAK,CAAC,CAEnDC,SAAS,CAAC,IAAM,CACd4D,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC,CAC9CD,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAEnC,SAAS,CAAC,CAC9CkC,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAE,MAAO,CAAAnC,SAAS,CAAC,CACjDkC,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAEnC,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAEoC,MAAM,CAAC,CACpDF,OAAO,CAACC,GAAG,CAAC,cAAc,CAAEE,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAC,CAEjD;AACA,GAAI,CAACvC,SAAS,EAAIA,SAAS,CAACoC,MAAM,CAAG,EAAE,CAAE,CACvCF,OAAO,CAACM,KAAK,CAAC,4BAA4B,CAAExC,SAAS,CAAC,CACtDtB,KAAK,CAAC8D,KAAK,CAAC,sBAAsB,CAAC,CACnCvC,QAAQ,CAAC,mBAAmB,CAAC,CAC7B,OACF,CAEA,KAAM,CAAAwC,QAAQ,CAAG,KAAAA,CAAA,GAAY,CAC3B,GAAI,CACFlC,UAAU,CAAC,IAAI,CAAC,CAChB2B,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAEnC,SAAS,CAAC,CAC5D,KAAM,CAAA0C,OAAO,CAACC,GAAG,CAAC,CAChBC,gBAAgB,CAAC,CAAC,CAClBC,UAAU,CAAC,CAAC,CACb,CAAC,CACFX,OAAO,CAACC,GAAG,CAAC,qCAAqC,CAAC,CACpD,CAAE,MAAOK,KAAK,CAAE,CACdN,OAAO,CAACM,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACnD9D,KAAK,CAAC8D,KAAK,CAAC,8BAA8B,CAAC,CAC7C,CAAC,OAAS,CACRjC,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDkC,QAAQ,CAAC,CAAC,CACZ,CAAC,CAAE,CAACzC,SAAS,CAAC,CAAC,CAEf;AACA1B,SAAS,CAAC,IAAM,CACdwE,oBAAoB,CAAC,CAAC,CACxB,CAAC,CAAE,CAAC5C,OAAO,CAAC,CAAC,CAEb;AACA5B,SAAS,CAAC,IAAM,CACd,GAAI4B,OAAO,EAAIA,OAAO,CAAC6C,YAAY,CAAE,CACnC,KAAM,CAAAC,SAAS,CAAG9C,OAAO,CAAC6C,YAAY,CACnCE,MAAM,CAACC,QAAQ,EAAIA,QAAQ,CAACC,MAAM,GAAK,WAAW,EAAID,QAAQ,CAACC,MAAM,GAAK,aAAa,CAAC,CACxFC,GAAG,CAACF,QAAQ,EAAI,CACf,KAAM,CAAAG,IAAI,CAAGjD,KAAK,CAACkD,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACC,GAAG,GAAKN,QAAQ,CAACO,MAAM,CAAC,CACvD,MAAO,CAAAJ,IAAI,CACb,CAAC,CAAC,CACDJ,MAAM,CAACI,IAAI,EAAIA,IAAI,CAAC,CAAE;AAEzBtB,iBAAiB,CAACiB,SAAS,CAAC,CAC9B,CACF,CAAC,CAAE,CAAC9C,OAAO,CAAEE,KAAK,CAAC,CAAC,CAEpB;AACA9B,SAAS,CAAC,IAAM,CACd,KAAM,CAAAoF,gBAAgB,CAAIC,KAAK,EAAK,CAClC,KAAM,CAAEF,MAAM,CAAEG,SAAU,CAAC,CAAGD,KAAK,CAACE,MAAM,CAC1C,KAAM,CAAAR,IAAI,CAAGvB,cAAc,CAACwB,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACC,GAAG,GAAKC,MAAM,CAAC,CACvD,GAAIJ,IAAI,CAAE,CACRxB,4BAA4B,CAACwB,IAAI,CAAC,CACpC,CACF,CAAC,CAEDhB,MAAM,CAACyB,gBAAgB,CAAC,aAAa,CAAEJ,gBAAgB,CAAC,CACxD,MAAO,IAAMrB,MAAM,CAAC0B,mBAAmB,CAAC,aAAa,CAAEL,gBAAgB,CAAC,CAC1E,CAAC,CAAE,CAAC5B,cAAc,CAAC,CAAC,CAEpB,KAAM,CAAAc,gBAAgB,CAAG,cAAAA,CAAA,CAA6B,IAAtB,CAAAoB,SAAS,CAAAC,SAAA,CAAA7B,MAAA,IAAA6B,SAAA,MAAAC,SAAA,CAAAD,SAAA,IAAG,KAAK,CAC/C,GAAI,CACF,GAAID,SAAS,CAAE,CACb/B,aAAa,CAAC,IAAI,CAAC,CACrB,CAEAC,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC,CAC5CD,OAAO,CAACC,GAAG,CAAC,aAAa,CAAEnC,SAAS,CAAC,CACrCkC,OAAO,CAACC,GAAG,CAAC,UAAU,wBAAAgC,MAAA,CAAyBnE,SAAS,CAAE,CAAC,CAC3DkC,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAE,CAAC,CAACiC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAE9D,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAA7F,KAAK,CAAC8F,GAAG,wBAAAJ,MAAA,CAAwBnE,SAAS,EAAI,CACnEwE,OAAO,CAAE,CACP,eAAe,WAAAL,MAAA,CAAYC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC1D,CACF,CAAC,CAAC,CAGF,GAAIC,QAAQ,CAACG,IAAI,EAAIH,QAAQ,CAACG,IAAI,CAACA,IAAI,CAAE,CACzCtE,UAAU,CAACmE,QAAQ,CAACG,IAAI,CAACA,IAAI,CAAC,CAC5BvC,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAEmC,QAAQ,CAACG,IAAI,CAACA,IAAI,CAAC,CAE5D;AACA,GAAI,CAACH,QAAQ,CAACG,IAAI,CAACA,IAAI,CAACjB,GAAG,EAAI,CAACc,QAAQ,CAACG,IAAI,CAACA,IAAI,CAACC,IAAI,CAAE,CACvDxC,OAAO,CAACM,KAAK,CAAC,gCAAgC,CAAC,CAC/C9D,KAAK,CAAC8D,KAAK,CAAC,yBAAyB,CAAC,CACtCvC,QAAQ,CAAC,mBAAmB,CAAC,CAC7B,OACF,CACF,CAAC,IAAM,CACLiC,OAAO,CAACM,KAAK,CAAC,6BAA6B,CAAC,CAC5CN,OAAO,CAACM,KAAK,CAAC,qBAAqB,CAAE8B,QAAQ,CAACG,IAAI,CAAC,CACnD/F,KAAK,CAAC8D,KAAK,CAAC,iCAAiC,CAAC,CAC9CvC,QAAQ,CAAC,mBAAmB,CAAC,CAC7B,OACF,CAEA,GAAI+D,SAAS,CAAE,CACbtF,KAAK,CAACiG,OAAO,CAAC,8BAA8B,CAAC,CAC/C,CACF,CAAE,MAAOnC,KAAK,CAAE,KAAAoC,eAAA,CAAAC,gBAAA,CAAAC,gBAAA,CAAAC,gBAAA,CAAAC,gBAAA,CAAAC,gBAAA,CAAAC,gBAAA,CAAAC,gBAAA,CACdjD,OAAO,CAACM,KAAK,CAAC,4BAA4B,CAAC,CAC3CN,OAAO,CAACM,KAAK,CAAC,eAAe,CAAEA,KAAK,CAAC,CACrCN,OAAO,CAACM,KAAK,CAAC,gBAAgB,CAAEA,KAAK,CAAC4C,OAAO,CAAC,CAC9ClD,OAAO,CAACM,KAAK,CAAC,iBAAiB,CAAEA,KAAK,CAAC8B,QAAQ,CAAC,CAChDpC,OAAO,CAACM,KAAK,CAAC,gBAAgB,CAAE,CAC9B4C,OAAO,CAAE5C,KAAK,CAAC4C,OAAO,CACtBjC,MAAM,EAAAyB,eAAA,CAAEpC,KAAK,CAAC8B,QAAQ,UAAAM,eAAA,iBAAdA,eAAA,CAAgBzB,MAAM,CAC9BkC,UAAU,EAAAR,gBAAA,CAAErC,KAAK,CAAC8B,QAAQ,UAAAO,gBAAA,iBAAdA,gBAAA,CAAgBQ,UAAU,CACtCZ,IAAI,EAAAK,gBAAA,CAAEtC,KAAK,CAAC8B,QAAQ,UAAAQ,gBAAA,iBAAdA,gBAAA,CAAgBL,IAAI,CAC1BD,OAAO,EAAAO,gBAAA,CAAEvC,KAAK,CAAC8B,QAAQ,UAAAS,gBAAA,iBAAdA,gBAAA,CAAgBP,OAC3B,CAAC,CAAC,CAEF,GAAI,EAAAQ,gBAAA,CAAAxC,KAAK,CAAC8B,QAAQ,UAAAU,gBAAA,iBAAdA,gBAAA,CAAgB7B,MAAM,IAAK,GAAG,CAAE,CAClCzE,KAAK,CAAC8D,KAAK,CAAC,kBAAkB,CAAC,CACjC,CAAC,IAAM,IAAI,EAAAyC,gBAAA,CAAAzC,KAAK,CAAC8B,QAAQ,UAAAW,gBAAA,iBAAdA,gBAAA,CAAgB9B,MAAM,IAAK,GAAG,CAAE,CACzCzE,KAAK,CAAC8D,KAAK,CAAC,iDAAiD,CAAC,CAC9D4B,YAAY,CAACkB,UAAU,CAAC,OAAO,CAAC,CAChCrF,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,IAAM,IAAI,EAAAiF,gBAAA,CAAA1C,KAAK,CAAC8B,QAAQ,UAAAY,gBAAA,iBAAdA,gBAAA,CAAgB/B,MAAM,IAAK,GAAG,CAAE,CACzCzE,KAAK,CAAC8D,KAAK,CAAC,8CAA8C,CAAC,CAC7D,CAAC,IAAM,IAAI,EAAA2C,gBAAA,CAAA3C,KAAK,CAAC8B,QAAQ,UAAAa,gBAAA,iBAAdA,gBAAA,CAAgBhC,MAAM,GAAI,GAAG,CAAE,CACxCzE,KAAK,CAAC8D,KAAK,CAAC,qCAAqC,CAAC,CACpD,CAAC,IAAM,IAAI,CAACA,KAAK,CAAC8B,QAAQ,CAAE,CAC1B5F,KAAK,CAAC8D,KAAK,CAAC,iDAAiD,CAAC,CAChE,CAAC,IAAM,KAAA+C,gBAAA,CAAAC,qBAAA,CACL9G,KAAK,CAAC8D,KAAK,mLAAA2B,MAAA,CAAuC,EAAAoB,gBAAA,CAAA/C,KAAK,CAAC8B,QAAQ,UAAAiB,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBd,IAAI,UAAAe,qBAAA,iBAApBA,qBAAA,CAAsBJ,OAAO,GAAI5C,KAAK,CAAC4C,OAAO,CAAE,CAAC,CACrG,CAEAnF,QAAQ,CAAC,mBAAmB,CAAC,CAC/B,CAAC,OAAS,CACR,GAAI+D,SAAS,CAAE,CACb/B,aAAa,CAAC,KAAK,CAAC,CACtB,CACF,CACF,CAAC,CAED,KAAM,CAAAY,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACFX,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC,CACrCD,OAAO,CAACC,GAAG,CAAC,UAAU,CAAE,YAAY,CAAC,CAErC,KAAM,CAAAmC,QAAQ,CAAG,KAAM,CAAA7F,KAAK,CAAC8F,GAAG,CAAC,YAAY,CAAE,CAC7CC,OAAO,CAAE,CACP,eAAe,WAAAL,MAAA,CAAYC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC1D,CACF,CAAC,CAAC,CAEFnC,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC,CACrCD,OAAO,CAACC,GAAG,CAAC,SAAS,CAAEmC,QAAQ,CAACnB,MAAM,CAAC,CACvCjB,OAAO,CAACC,GAAG,CAAC,OAAO,CAAEmC,QAAQ,CAACG,IAAI,CAAC,CACnCvC,OAAO,CAACC,GAAG,CAAC,aAAa,CAAEmC,QAAQ,CAACG,IAAI,CAACA,IAAI,CAAC,CAE9C,GAAIH,QAAQ,CAACG,IAAI,EAAIH,QAAQ,CAACG,IAAI,CAACA,IAAI,CAAE,CACzCpE,QAAQ,CAACiE,QAAQ,CAACG,IAAI,CAACA,IAAI,CAAC,CAC1BvC,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAEmC,QAAQ,CAACG,IAAI,CAACA,IAAI,CAACrC,MAAM,CAAE,OAAO,CAAC,CAE1E;AACA,GAAI,CAACqD,KAAK,CAACC,OAAO,CAACpB,QAAQ,CAACG,IAAI,CAACA,IAAI,CAAC,CAAE,CACtCvC,OAAO,CAACM,KAAK,CAAC,6CAA6C,CAAC,CAC5D9D,KAAK,CAAC8D,KAAK,CAAC,6BAA6B,CAAC,CAC1CnC,QAAQ,CAAC,EAAE,CAAC,CACZ,OACF,CACF,CAAC,IAAM,CACL6B,OAAO,CAACM,KAAK,CAAC,2BAA2B,CAAC,CAC1CN,OAAO,CAACM,KAAK,CAAC,qBAAqB,CAAE8B,QAAQ,CAACG,IAAI,CAAC,CACnD/F,KAAK,CAAC8D,KAAK,CAAC,4BAA4B,CAAC,CACzCnC,QAAQ,CAAC,EAAE,CAAC,CACd,CACF,CAAE,MAAOmC,KAAK,CAAE,KAAAmD,gBAAA,CAAAC,gBAAA,CAAAC,iBAAA,CACd3D,OAAO,CAACM,KAAK,CAAC,qBAAqB,CAAC,CACpCN,OAAO,CAACM,KAAK,CAAC,eAAe,CAAEA,KAAK,CAAC,CACrCN,OAAO,CAACM,KAAK,CAAC,gBAAgB,CAAEA,KAAK,CAAC4C,OAAO,CAAC,CAC9ClD,OAAO,CAACM,KAAK,CAAC,iBAAiB,CAAEA,KAAK,CAAC8B,QAAQ,CAAC,CAEhD,GAAI,EAAAqB,gBAAA,CAAAnD,KAAK,CAAC8B,QAAQ,UAAAqB,gBAAA,iBAAdA,gBAAA,CAAgBxC,MAAM,IAAK,GAAG,CAAE,CAClCzE,KAAK,CAAC8D,KAAK,CAAC,iDAAiD,CAAC,CAC9D4B,YAAY,CAACkB,UAAU,CAAC,OAAO,CAAC,CAChCrF,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,IAAM,IAAI,EAAA2F,gBAAA,CAAApD,KAAK,CAAC8B,QAAQ,UAAAsB,gBAAA,iBAAdA,gBAAA,CAAgBzC,MAAM,IAAK,GAAG,CAAE,CACzCzE,KAAK,CAAC8D,KAAK,CAAC,uCAAuC,CAAC,CACtD,CAAC,IAAM,IAAI,EAAAqD,iBAAA,CAAArD,KAAK,CAAC8B,QAAQ,UAAAuB,iBAAA,iBAAdA,iBAAA,CAAgB1C,MAAM,GAAI,GAAG,CAAE,CACxCzE,KAAK,CAAC8D,KAAK,CAAC,qCAAqC,CAAC,CACpD,CAAC,IAAM,IAAI,CAACA,KAAK,CAAC8B,QAAQ,CAAE,CAC1B5F,KAAK,CAAC8D,KAAK,CAAC,iDAAiD,CAAC,CAChE,CAAC,IAAM,KAAAsD,iBAAA,CAAAC,qBAAA,CACLrH,KAAK,CAAC8D,KAAK,sKAAA2B,MAAA,CAAoC,EAAA2B,iBAAA,CAAAtD,KAAK,CAAC8B,QAAQ,UAAAwB,iBAAA,kBAAAC,qBAAA,CAAdD,iBAAA,CAAgBrB,IAAI,UAAAsB,qBAAA,iBAApBA,qBAAA,CAAsBX,OAAO,GAAI5C,KAAK,CAAC4C,OAAO,CAAE,CAAC,CAClG,CACA/E,QAAQ,CAAC,EAAE,CAAC,CACd,CAAC,OAAS,CACRE,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAuC,oBAAoB,CAAGA,CAAA,GAAM,CACjCZ,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC,CAChDD,OAAO,CAACC,GAAG,CAAC,UAAU,CAAE,CAAC,CAACjC,OAAO,CAAC,CAClCgC,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAEjC,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAE6C,YAAY,CAAC,CAE5D;AACA,GAAI7C,OAAO,EAAIA,OAAO,CAAC6C,YAAY,CAAE,CACnCb,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAEjC,OAAO,CAAC6C,YAAY,CAACX,MAAM,CAAE,kBAAkB,CAAC,CACzFnB,kBAAkB,CAACf,OAAO,CAAC6C,YAAY,CAAC,CACxCiD,oBAAoB,CAAC9F,OAAO,CAAC6C,YAAY,CAAC,CAC5C,CAAC,IAAM,CACLb,OAAO,CAACC,GAAG,CAAC,uCAAuC,CAAC,CACpDlB,kBAAkB,CAAC,EAAE,CAAC,CACxB,CACF,CAAC,CAED,KAAM,CAAA+E,oBAAoB,CAAI9C,QAAQ,EAAK,CACzChB,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC,CAC/CD,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAEe,QAAQ,CAAC,CAEvC,KAAM,CAAAC,MAAM,CAAG,CAAC,CAAC,CAEjB;AACA,IAAK,GAAI,CAAA8C,CAAC,CAAG,CAAC,CAAEA,CAAC,EAAI,CAAC,CAAEA,CAAC,EAAE,CAAE,CAC3B9C,MAAM,CAAC8C,CAAC,CAAC,CAAG,QAAQ,CACtB,CAEA,GAAI,CAAC/C,QAAQ,EAAI,CAACuC,KAAK,CAACC,OAAO,CAACxC,QAAQ,CAAC,CAAE,CACzChB,OAAO,CAACC,GAAG,CAAC,2CAA2C,CAAC,CACxDhB,cAAc,CAACgC,MAAM,CAAC,CACtB,OACF,CAEA;AACAD,QAAQ,CAACgD,OAAO,CAACC,YAAY,EAAI,CAC/B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAGD,YAAY,CAAC1C,MAAM,CAAG0C,YAAY,CAAC1C,MAAM,CAAC4C,SAAS,CAAGF,YAAY,CAACE,SAAS,CAC7F,GAAID,QAAQ,GAAKlC,SAAS,EAAIkC,QAAQ,GAAK,IAAI,CAAE,CACnD,GAAID,YAAY,CAAChD,MAAM,GAAK,UAAU,EAAIgD,YAAY,CAAChD,MAAM,GAAK,aAAa,EAAIgD,YAAY,CAAChD,MAAM,GAAK,WAAW,CAAE,CACtHA,MAAM,CAACiD,QAAQ,CAAC,CAAG,UAAU,CAC3B,CACF,CACF,CAAE,MAAO5D,KAAK,CAAE,CACdN,OAAO,CAACM,KAAK,CAAC,iCAAiC,CAAEA,KAAK,CAAE2D,YAAY,CAAC,CACvE,CACF,CAAC,CAAC,CAEFjE,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAEgB,MAAM,CAAC,CAC1ChC,cAAc,CAACgC,MAAM,CAAC,CACxB,CAAC,CAID,KAAM,CAAAmD,oBAAoB,CAAG,KAAAA,CAAO7C,MAAM,CAAE8C,MAAM,GAAK,CACrD,GAAI,CACFrE,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC,CAChDD,OAAO,CAACC,GAAG,CAAC,UAAU,CAAEsB,MAAM,CAAC,CAC/BvB,OAAO,CAACC,GAAG,CAAC,SAAS,CAAEoE,MAAM,CAAC,CAC9BrE,OAAO,CAACC,GAAG,CAAC,aAAa,CAAEnC,SAAS,CAAC,CAErC,KAAM,CAAAwG,QAAQ,CAAGD,MAAM,GAAK,MAAM,CAAG,WAAW,CAAG,aAAa,CAChE,KAAM,CAAAE,GAAG,wBAAAtC,MAAA,CAA0BnE,SAAS,MAAAmE,MAAA,CAAIqC,QAAQ,CAAE,CAE1DtE,OAAO,CAACC,GAAG,CAAC,UAAU,CAAEsE,GAAG,CAAC,CAE5B,KAAM,CAAAnC,QAAQ,CAAG,KAAM,CAAA7F,KAAK,CAACiI,GAAG,CAACD,GAAG,CAAE,CACpChD,MACF,CAAC,CAAE,CACDe,OAAO,CAAE,CACP,eAAe,WAAAL,MAAA,CAAYC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC1D,CACF,CAAC,CAAC,CAEFnC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAEmC,QAAQ,CAACG,IAAI,CAAC,CAEnD/F,KAAK,CAACiG,OAAO,iBAAAR,MAAA,CAAOoC,MAAM,GAAK,MAAM,CAAG,KAAK,CAAG,KAAK,oFAAiB,CAAC,CACvE,KAAM,CAAA3D,gBAAgB,CAAC,CAAC,CAC1B,CAAE,MAAOJ,KAAK,CAAE,KAAAmE,iBAAA,CAAAC,iBAAA,CAAAC,iBAAA,CAAAC,iBAAA,CACd5E,OAAO,CAACM,KAAK,CAAC,gCAAgC,CAAC,CAC/CN,OAAO,CAACM,KAAK,CAAC,eAAe,CAAEA,KAAK,CAAC,CACrCN,OAAO,CAACM,KAAK,CAAC,gBAAgB,CAAEA,KAAK,CAAC4C,OAAO,CAAC,CAC9ClD,OAAO,CAACM,KAAK,CAAC,iBAAiB,CAAEA,KAAK,CAAC8B,QAAQ,CAAC,CAEhD,GAAI,EAAAqC,iBAAA,CAAAnE,KAAK,CAAC8B,QAAQ,UAAAqC,iBAAA,iBAAdA,iBAAA,CAAgBxD,MAAM,IAAK,GAAG,CAAE,CAClCzE,KAAK,CAAC8D,KAAK,CAAC,8BAA8B,CAAC,CAC7C,CAAC,IAAM,IAAI,EAAAoE,iBAAA,CAAApE,KAAK,CAAC8B,QAAQ,UAAAsC,iBAAA,iBAAdA,iBAAA,CAAgBzD,MAAM,IAAK,GAAG,CAAE,CACzCzE,KAAK,CAAC8D,KAAK,CAAC,iDAAiD,CAAC,CAC9D4B,YAAY,CAACkB,UAAU,CAAC,OAAO,CAAC,CAChCrF,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,IAAM,IAAI,EAAA4G,iBAAA,CAAArE,KAAK,CAAC8B,QAAQ,UAAAuC,iBAAA,iBAAdA,iBAAA,CAAgB1D,MAAM,IAAK,GAAG,CAAE,CACzCzE,KAAK,CAAC8D,KAAK,CAAC,oCAAoC,CAAC,CACnD,CAAC,IAAM,IAAI,EAAAsE,iBAAA,CAAAtE,KAAK,CAAC8B,QAAQ,UAAAwC,iBAAA,iBAAdA,iBAAA,CAAgB3D,MAAM,GAAI,GAAG,CAAE,CACxCzE,KAAK,CAAC8D,KAAK,CAAC,qCAAqC,CAAC,CACpD,CAAC,IAAM,IAAI,CAACA,KAAK,CAAC8B,QAAQ,CAAE,CAC1B5F,KAAK,CAAC8D,KAAK,CAAC,iDAAiD,CAAC,CAChE,CAAC,IAAM,KAAAuE,iBAAA,CAAAC,qBAAA,CACLtI,KAAK,CAAC8D,KAAK,yEAAA2B,MAAA,CAAkBoC,MAAM,GAAK,MAAM,CAAG,KAAK,CAAG,KAAK,wDAAApC,MAAA,CAAc,EAAA4C,iBAAA,CAAAvE,KAAK,CAAC8B,QAAQ,UAAAyC,iBAAA,kBAAAC,qBAAA,CAAdD,iBAAA,CAAgBtC,IAAI,UAAAuC,qBAAA,iBAApBA,qBAAA,CAAsB5B,OAAO,GAAI5C,KAAK,CAAC4C,OAAO,CAAE,CAAC,CAC/H,CACF,CACF,CAAC,CAED,KAAM,CAAA6B,yBAAyB,CAAG,KAAAA,CAAA,GAAY,CAC5C,GAAI,CAEF,KAAM,CAAA3C,QAAQ,CAAG,KAAM,CAAA7F,KAAK,CAACiI,GAAG,wBAAAvC,MAAA,CAAwBnE,SAAS,kBAAiB,CAChFkH,OAAO,CAAExG,aAAa,CACtB6F,MAAM,CAAE3F,gBACV,CAAC,CAAE,CACD4D,OAAO,CAAE,CACP,eAAe,WAAAL,MAAA,CAAYC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC1D,CACF,CAAC,CAAC,CAGF3F,KAAK,CAACiG,OAAO,iBAAAR,MAAA,CAAOvD,gBAAgB,GAAK,MAAM,CAAG,KAAK,CAAG,KAAK,2IAA2B,CAAC,CAC3FH,sBAAsB,CAAC,KAAK,CAAC,CAC7BE,gBAAgB,CAAC,EAAE,CAAC,CAEpB;AACA,KAAM,CAAAiC,gBAAgB,CAAC,CAAC,CAExB;AACA,KAAM,CAAAC,UAAU,CAAC,CAAC,CAElB;AACA5B,kBAAkB,CAACkG,IAAI,EAAI,CAAC,GAAGA,IAAI,CAAC,CAAC,CACvC,CAAE,MAAO3E,KAAK,CAAE,KAAA4E,iBAAA,CAAAC,iBAAA,CAAAC,iBAAA,CAAAC,iBAAA,CACdrF,OAAO,CAACM,KAAK,CAAC,qCAAqC,CAAC,CACpDN,OAAO,CAACM,KAAK,CAAC,eAAe,CAAEA,KAAK,CAAC,CACrCN,OAAO,CAACM,KAAK,CAAC,gBAAgB,CAAEA,KAAK,CAAC4C,OAAO,CAAC,CAC9ClD,OAAO,CAACM,KAAK,CAAC,iBAAiB,CAAEA,KAAK,CAAC8B,QAAQ,CAAC,CAEhD,GAAI,EAAA8C,iBAAA,CAAA5E,KAAK,CAAC8B,QAAQ,UAAA8C,iBAAA,iBAAdA,iBAAA,CAAgBjE,MAAM,IAAK,GAAG,CAAE,CAClCzE,KAAK,CAAC8D,KAAK,CAAC,kBAAkB,CAAC,CACjC,CAAC,IAAM,IAAI,EAAA6E,iBAAA,CAAA7E,KAAK,CAAC8B,QAAQ,UAAA+C,iBAAA,iBAAdA,iBAAA,CAAgBlE,MAAM,IAAK,GAAG,CAAE,CACzCzE,KAAK,CAAC8D,KAAK,CAAC,iDAAiD,CAAC,CAC9D4B,YAAY,CAACkB,UAAU,CAAC,OAAO,CAAC,CAChCrF,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,IAAM,IAAI,EAAAqH,iBAAA,CAAA9E,KAAK,CAAC8B,QAAQ,UAAAgD,iBAAA,iBAAdA,iBAAA,CAAgBnE,MAAM,IAAK,GAAG,CAAE,CACzCzE,KAAK,CAAC8D,KAAK,CAAC,oCAAoC,CAAC,CACnD,CAAC,IAAM,IAAI,EAAA+E,iBAAA,CAAA/E,KAAK,CAAC8B,QAAQ,UAAAiD,iBAAA,iBAAdA,iBAAA,CAAgBpE,MAAM,GAAI,GAAG,CAAE,CACxCzE,KAAK,CAAC8D,KAAK,CAAC,qCAAqC,CAAC,CACpD,CAAC,IAAM,IAAI,CAACA,KAAK,CAAC8B,QAAQ,CAAE,CAC1B5F,KAAK,CAAC8D,KAAK,CAAC,iDAAiD,CAAC,CAChE,CAAC,IAAM,KAAAgF,iBAAA,CAAAC,qBAAA,CACL/I,KAAK,CAAC8D,KAAK,yEAAA2B,MAAA,CAAkBvD,gBAAgB,GAAK,MAAM,CAAG,KAAK,CAAG,KAAK,oEAAAuD,MAAA,CAAgB,EAAAqD,iBAAA,CAAAhF,KAAK,CAAC8B,QAAQ,UAAAkD,iBAAA,kBAAAC,qBAAA,CAAdD,iBAAA,CAAgB/C,IAAI,UAAAgD,qBAAA,iBAApBA,qBAAA,CAAsBrC,OAAO,GAAI5C,KAAK,CAAC4C,OAAO,CAAE,CAAC,CAC3I,CACF,CACF,CAAC,CAED,KAAM,CAAAsC,oBAAoB,CAAItB,QAAQ,EAAK,CACzCrF,iBAAiB,CAACoG,IAAI,EAAAQ,aAAA,CAAAA,aAAA,IACjBR,IAAI,MACP,CAACf,QAAQ,EAAG,CAACe,IAAI,CAACf,QAAQ,CAAC,EAC3B,CAAC,CACL,CAAC,CAED,KAAM,CAAAwB,iBAAiB,CAAG,KAAAA,CAAOC,WAAW,CAAEtB,MAAM,GAAK,CACvD,GAAI,CACFrE,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC,CACrCD,OAAO,CAACC,GAAG,CAAC,eAAe,CAAE0F,WAAW,CAAC,CACzC3F,OAAO,CAACC,GAAG,CAAC,SAAS,CAAEoE,MAAM,CAAC,CAC9BrE,OAAO,CAACC,GAAG,CAAC,aAAa,CAAEnC,SAAS,CAAC,CAErC,KAAM,CAAAsE,QAAQ,CAAG,KAAM,CAAA7F,KAAK,CAACiI,GAAG,wBAAAvC,MAAA,CAAwBnE,SAAS,kBAAiB,CAChF6H,WAAW,CAAEC,QAAQ,CAACD,WAAW,CAAC,CAClCtB,MACF,CAAC,CAAE,CACD/B,OAAO,CAAE,CACP,eAAe,WAAAL,MAAA,CAAYC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC1D,CACF,CAAC,CAAC,CAEFnC,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAEmC,QAAQ,CAACG,IAAI,CAAC,CAEpD/F,KAAK,CAACiG,OAAO,iBAAAR,MAAA,CAAOoC,MAAM,GAAK,MAAM,CAAG,KAAK,CAAG,KAAK,uDAAApC,MAAA,CAAa0D,WAAW,mCAAQ,CAAC,CACtF,KAAM,CAAAjF,gBAAgB,CAAC,CAAC,CAC1B,CAAE,MAAOJ,KAAK,CAAE,KAAAuF,iBAAA,CAAAC,iBAAA,CAAAC,iBAAA,CAAAC,iBAAA,CACdhG,OAAO,CAACM,KAAK,CAAC,4BAA4B,CAAC,CAC3CN,OAAO,CAACM,KAAK,CAAC,eAAe,CAAEA,KAAK,CAAC,CACrCN,OAAO,CAACM,KAAK,CAAC,gBAAgB,CAAEA,KAAK,CAAC4C,OAAO,CAAC,CAC9ClD,OAAO,CAACM,KAAK,CAAC,iBAAiB,CAAEA,KAAK,CAAC8B,QAAQ,CAAC,CAEhD,GAAI,EAAAyD,iBAAA,CAAAvF,KAAK,CAAC8B,QAAQ,UAAAyD,iBAAA,iBAAdA,iBAAA,CAAgB5E,MAAM,IAAK,GAAG,CAAE,CAClCzE,KAAK,CAAC8D,KAAK,CAAC,kBAAkB,CAAC,CACjC,CAAC,IAAM,IAAI,EAAAwF,iBAAA,CAAAxF,KAAK,CAAC8B,QAAQ,UAAA0D,iBAAA,iBAAdA,iBAAA,CAAgB7E,MAAM,IAAK,GAAG,CAAE,CACzCzE,KAAK,CAAC8D,KAAK,CAAC,iDAAiD,CAAC,CAC9D4B,YAAY,CAACkB,UAAU,CAAC,OAAO,CAAC,CAChCrF,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,IAAM,IAAI,EAAAgI,iBAAA,CAAAzF,KAAK,CAAC8B,QAAQ,UAAA2D,iBAAA,iBAAdA,iBAAA,CAAgB9E,MAAM,IAAK,GAAG,CAAE,CACzCzE,KAAK,CAAC8D,KAAK,CAAC,oCAAoC,CAAC,CACnD,CAAC,IAAM,IAAI,EAAA0F,iBAAA,CAAA1F,KAAK,CAAC8B,QAAQ,UAAA4D,iBAAA,iBAAdA,iBAAA,CAAgB/E,MAAM,GAAI,GAAG,CAAE,CACxCzE,KAAK,CAAC8D,KAAK,CAAC,qCAAqC,CAAC,CACpD,CAAC,IAAM,IAAI,CAACA,KAAK,CAAC8B,QAAQ,CAAE,CAC1B5F,KAAK,CAAC8D,KAAK,CAAC,iDAAiD,CAAC,CAChE,CAAC,IAAM,KAAA2F,iBAAA,CAAAC,qBAAA,CACL1J,KAAK,CAAC8D,KAAK,yEAAA2B,MAAA,CAAkBoC,MAAM,GAAK,MAAM,CAAG,KAAK,CAAG,KAAK,wDAAApC,MAAA,CAAc,EAAAgE,iBAAA,CAAA3F,KAAK,CAAC8B,QAAQ,UAAA6D,iBAAA,kBAAAC,qBAAA,CAAdD,iBAAA,CAAgB1D,IAAI,UAAA2D,qBAAA,iBAApBA,qBAAA,CAAsBhD,OAAO,GAAI5C,KAAK,CAAC4C,OAAO,CAAE,CAAC,CAC/H,CACF,CACF,CAAC,CAED,KAAM,CAAAiD,kBAAkB,CAAIhF,IAAI,EAAK,CACnCnB,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC,CACvCD,OAAO,CAACC,GAAG,CAAC,OAAO,CAAEkB,IAAI,CAAC,CAC1BnB,OAAO,CAACC,GAAG,CAAC,UAAU,CAAEjC,OAAO,CAAC,CAEhC,GAAI,CAACmD,IAAI,CAAE,CACTnB,OAAO,CAACM,KAAK,CAAC,kBAAkB,CAAC,CACjC9D,KAAK,CAAC8D,KAAK,CAAC,4BAA4B,CAAC,CACzC,OACF,CAEA,GAAI,CAACtC,OAAO,CAAE,CACZgC,OAAO,CAACM,KAAK,CAAC,2BAA2B,CAAC,CAC1C9D,KAAK,CAAC8D,KAAK,CAAC,iCAAiC,CAAC,CAC9C,OACF,CAEAjB,0BAA0B,CAAC8B,IAAI,CAAC,CAChChC,eAAe,CAAC,IAAI,CAAC,CACvB,CAAC,CAED,KAAM,CAAAiH,mBAAmB,CAAGA,CAAA,GAAM,CAChCpG,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC,CACvCd,eAAe,CAAC,KAAK,CAAC,CACtBE,0BAA0B,CAAC,IAAI,CAAC,CAClC,CAAC,CAED,KAAM,CAAAgH,oBAAoB,CAAGA,CAAA,GAAM,CACjCrG,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC,CAC1CD,OAAO,CAACC,GAAG,CAAC,UAAU,CAAEjC,OAAO,CAAC,CAEhC,GAAI,CAACA,OAAO,CAAE,CACZgC,OAAO,CAACM,KAAK,CAAC,2BAA2B,CAAC,CAC1C9D,KAAK,CAAC8D,KAAK,CAAC,iCAAiC,CAAC,CAC9C,OACF,CAEAf,iBAAiB,CAAC,IAAI,CAAC,CACzB,CAAC,CAED,KAAM,CAAA+G,qBAAqB,CAAGA,CAAA,GAAM,CAClCtG,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC,CAC1CV,iBAAiB,CAAC,KAAK,CAAC,CAC1B,CAAC,CAED,KAAM,CAAAgH,oBAAoB,CAAIpF,IAAI,EAAK,CACrCnB,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC,CACzCD,OAAO,CAACC,GAAG,CAAC,OAAO,CAAEkB,IAAI,CAAC,CAC1BnB,OAAO,CAACC,GAAG,CAAC,UAAU,CAAEjC,OAAO,CAAC,CAEhC,GAAI,CAACmD,IAAI,CAAE,CACTnB,OAAO,CAACM,KAAK,CAAC,kBAAkB,CAAC,CACjC9D,KAAK,CAAC8D,KAAK,CAAC,4BAA4B,CAAC,CACzC,OACF,CAEA,GAAI,CAACtC,OAAO,CAAE,CACZgC,OAAO,CAACM,KAAK,CAAC,2BAA2B,CAAC,CAC1C9D,KAAK,CAAC8D,KAAK,CAAC,iCAAiC,CAAC,CAC9C,OACF,CAEAX,4BAA4B,CAACwB,IAAI,CAAC,CAClC1B,iBAAiB,CAAC,IAAI,CAAC,CACzB,CAAC,CAED,KAAM,CAAA+G,qBAAqB,CAAGA,CAAA,GAAM,CAClCxG,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC,CACzCR,iBAAiB,CAAC,KAAK,CAAC,CACxBE,4BAA4B,CAAC,IAAI,CAAC,CACpC,CAAC,CAED,GAAIvB,OAAO,CAAE,CACX,mBACEV,IAAA,QAAK+I,SAAS,CAAC,uCAAuC,CAAAC,QAAA,cACpDhJ,IAAA,QAAK+I,SAAS,CAAC,SAAS,CAAM,CAAC,CAC5B,CAAC,CAEV,CAEA,GAAI,CAACzI,OAAO,CAAE,CACZ,mBACEJ,KAAA,QAAK6I,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChChJ,IAAA,OAAI+I,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,wFAAgB,CAAI,CAAC,cAC9EhJ,IAAA,WACEiJ,OAAO,CAAEA,CAAA,GAAM5I,QAAQ,CAAC,mBAAmB,CAAE,CAC7C0I,SAAS,CAAC,aAAa,CAAAC,QAAA,CACxB,gHAED,CAAQ,CAAC,EACN,CAAC,CAEV,CAEA,mBACE9I,KAAA,QAAK6I,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAE1ChJ,IAAA,QAAK+I,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnBhJ,IAAA,QAAK+I,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBhJ,IAAA,QAAK+I,SAAS,CAAC,mCAAmC,CAAAC,QAAA,cAChD9I,KAAA,QAAK6I,SAAS,CAAC,iDAAiD,CAAAC,QAAA,eAC9D9I,KAAA,WACE+I,OAAO,CAAEA,CAAA,GAAM5I,QAAQ,CAAC,mBAAmB,CAAE,CAC7C0I,SAAS,CAAC,qGAAqG,CAAAC,QAAA,eAE/GhJ,IAAA,CAACjB,SAAS,EAACgK,SAAS,CAAC,SAAS,CAAE,CAAC,cACjC/I,IAAA,SAAAgJ,QAAA,CAAM,sCAAM,CAAM,CAAC,EACb,CAAC,cACT9I,KAAA,QAAA8I,QAAA,eACEhJ,IAAA,OAAI+I,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,yDAAU,CAAI,CAAC,cAChEhJ,IAAA,MAAG+I,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,oLAAiC,CAAG,CAAC,EAC/D,CAAC,EACH,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,cAGN9I,KAAA,QAAK6I,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBhJ,IAAA,QAAK+I,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1BhJ,IAAA,OAAI+I,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,iFAAc,CAAI,CAAC,CACpE,CAAC,cACNhJ,IAAA,QAAK+I,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxB9I,KAAA,QAAK6I,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpD9I,KAAA,QAAK6I,SAAS,CAAC,iDAAiD,CAAAC,QAAA,eAC9DhJ,IAAA,QAAK+I,SAAS,CAAC,wEAAwE,CAAAC,QAAA,cACrFhJ,IAAA,CAAChB,IAAI,EAAC+J,SAAS,CAAC,0BAA0B,CAAE,CAAC,CAC1C,CAAC,cACN7I,KAAA,QAAA8I,QAAA,eACEhJ,IAAA,MAAG+I,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,gCAAK,CAAG,CAAC,cAC1DhJ,IAAA,MAAG+I,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAE1I,OAAO,CAACwE,IAAI,CAAI,CAAC,EAClE,CAAC,EACH,CAAC,cACN5E,KAAA,QAAK6I,SAAS,CAAC,iDAAiD,CAAAC,QAAA,eAC9DhJ,IAAA,QAAK+I,SAAS,CAAC,qEAAqE,CAAAC,QAAA,cAClFhJ,IAAA,CAACf,IAAI,EAAC8J,SAAS,CAAC,uBAAuB,CAAE,CAAC,CACvC,CAAC,cACN7I,KAAA,QAAA8I,QAAA,eACEhJ,IAAA,MAAG+I,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,mGAAiB,CAAG,CAAC,cACtEhJ,IAAA,MAAG+I,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAE1I,OAAO,CAAC4I,KAAK,CAAI,CAAC,EACnE,CAAC,EACH,CAAC,cACNhJ,KAAA,QAAK6I,SAAS,CAAC,iDAAiD,CAAAC,QAAA,eAC9DhJ,IAAA,QAAK+I,SAAS,CAAC,sEAAsE,CAAAC,QAAA,cACnFhJ,IAAA,CAACd,IAAI,EAAC6J,SAAS,CAAC,wBAAwB,CAAE,CAAC,CACxC,CAAC,cACN7I,KAAA,QAAA8I,QAAA,eACEhJ,IAAA,MAAG+I,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,yDAAU,CAAG,CAAC,cAC/DhJ,IAAA,MAAG+I,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAE1I,OAAO,CAAC6I,WAAW,EAAI,UAAU,CAAI,CAAC,EACvF,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,EACH,CAAC,cAINjJ,KAAA,QAAK6I,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB9I,KAAA,QAAK6I,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BhJ,IAAA,OAAI+I,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,kIAAuB,CAAI,CAAC,cAChFhJ,IAAA,MAAG+I,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,8PAA+C,CAAG,CAAC,EAC1F,CAAC,cACNhJ,IAAA,QAAK+I,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBhJ,IAAA,QAAK+I,SAAS,CAAC,uCAAuC,CAAAC,QAAA,cAEpD9I,KAAA,QAAK6I,SAAS,CAAC,kFAAkF,CAAAC,QAAA,eAC/F9I,KAAA,OAAI6I,SAAS,CAAC,0FAA0F,CAAAC,QAAA,eACtGhJ,IAAA,CAACT,MAAM,EAACwJ,SAAS,CAAC,SAAS,CAAE,CAAC,cAC9B/I,IAAA,SAAAgJ,QAAA,CAAM,iFAAc,CAAM,CAAC,EACzB,CAAC,cACL9I,KAAA,QAAK6I,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eAErC9I,KAAA,QAAK6I,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BhJ,IAAA,QAAK+I,SAAS,oGAAAxE,MAAA,CACZjD,WAAW,CAAC,CAAC,CAAC,GAAK,UAAU,CAAG,aAAa,CAAG,aAAa,CAC5D,CAAA0H,QAAA,CAAC,QAEJ,CAAK,CAAC,cACNhJ,IAAA,QAAK+I,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CACnC1H,WAAW,CAAC,CAAC,CAAC,GAAK,UAAU,CAAG,QAAQ,CAAG,OAAO,CAChD,CAAC,EACH,CAAC,CAELuE,KAAK,CAACuD,IAAI,CAAC,CAAE5G,MAAM,CAAE,CAAE,CAAC,CAAE,CAAC6G,CAAC,CAAEhD,CAAC,GAAKA,CAAC,CAAG,CAAC,CAAC,CAAC7C,GAAG,CAAEgD,QAAQ,EAAK,CAC5D,KAAM,CAAA8C,UAAU,CAAGhI,WAAW,CAACkF,QAAQ,CAAC,GAAK,UAAU,CACvD,mBACEtG,KAAA,QAAoB6I,SAAS,CAAC,aAAa,CAAAC,QAAA,eACzChJ,IAAA,QAAK+I,SAAS,oGAAAxE,MAAA,CACZ+E,UAAU,CAAG,cAAc,CAAG,YAAY,CACzC,CAAAN,QAAA,CACAxC,QAAQ,CACN,CAAC,cACNxG,IAAA,QAAK+I,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CACnCM,UAAU,CAAG,QAAQ,CAAG,OAAO,CAC7B,CAAC,GARE9C,QASL,CAAC,CAEV,CAAC,CAAC,EACC,CAAC,EACH,CAAC,CAEG,CAAC,CACT,CAAC,EACH,CAAC,cAGJtG,KAAA,QAAK6I,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB9I,KAAA,QAAK6I,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BhJ,IAAA,OAAI+I,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,gHAAoB,CAAI,CAAC,cAC7EhJ,IAAA,MAAG+I,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,mPAA8C,CAAG,CAAC,EACzF,CAAC,cAGN9I,KAAA,QAAK6I,SAAS,CAAC,6FAA6F,CAAAC,QAAA,eAC1G9I,KAAA,QAAK6I,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrD9I,KAAA,OAAI6I,SAAS,CAAC,iFAAiF,CAAAC,QAAA,eAC7FhJ,IAAA,QAAK+I,SAAS,CAAC,4DAA4D,CAAAC,QAAA,cACzEhJ,IAAA,CAACL,IAAI,EAACoJ,SAAS,CAAC,oBAAoB,CAAE,CAAC,CACpC,CAAC,cACN/I,IAAA,SAAAgJ,QAAA,CAAM,qMAAmC,CAAM,CAAC,EAC9C,CAAC,cACL9I,KAAA,QAAK6I,SAAS,CAAC,8DAA8D,CAAAC,QAAA,EAC1ExI,KAAK,CAACgC,MAAM,CAAC,gEAChB,EAAK,CAAC,EACH,CAAC,cAENxC,IAAA,QAAK+I,SAAS,CAAC,qEAAqE,CAAAC,QAAA,CACjFnD,KAAK,CAACuD,IAAI,CAAC,CAAE5G,MAAM,CAAE,CAAE,CAAC,CAAE,CAAC6G,CAAC,CAAEhD,CAAC,GAAKA,CAAC,CAAC,CAAC7C,GAAG,CAACgD,QAAQ,EAAI,CACtD,KAAM,CAAA+C,UAAU,CAAG/I,KAAK,CAAC6C,MAAM,CAACI,IAAI,EAAIA,IAAI,CAACgD,SAAS,GAAKD,QAAQ,CAAC,CAEpE,GAAI+C,UAAU,CAAC/G,MAAM,GAAK,CAAC,CAAE,MAAO,KAAI,CAExC;AACA,KAAM,CAAAgH,aAAa,CAAGD,UAAU,CAAC/F,GAAG,CAACC,IAAI,OAAAgG,qBAAA,OACvC,CAAAnJ,OAAO,SAAPA,OAAO,kBAAAmJ,qBAAA,CAAPnJ,OAAO,CAAE6C,YAAY,UAAAsG,qBAAA,iBAArBA,qBAAA,CAAuB/F,IAAI,CAACgG,CAAC,EAAIA,CAAC,CAAC7F,MAAM,GAAKJ,IAAI,CAACG,GAAG,CAAC,EACzD,CAAC,CAACP,MAAM,CAACsG,OAAO,CAAC,CAEjB,KAAM,CAAAC,cAAc,CAAGJ,aAAa,CAACnG,MAAM,CAACqG,CAAC,EAAIA,CAAC,CAACnG,MAAM,GAAK,WAAW,CAAC,CAACf,MAAM,CACjF,KAAM,CAAAqH,QAAQ,CAAGL,aAAa,CAAChH,MAAM,CAAG,CAAC,CACrCsH,IAAI,CAACC,KAAK,CAACP,aAAa,CAACQ,MAAM,CAAC,CAACC,GAAG,CAAEP,CAAC,GAAKO,GAAG,EAAIP,CAAC,CAACQ,UAAU,EAAI,CAAC,CAAC,CAAE,CAAC,CAAC,CAAGV,aAAa,CAAChH,MAAM,CAAC,CACjG,CAAC,CAEL,mBACEtC,KAAA,QAAoB6I,SAAS,CAAC,yHAAyH,CAAAC,QAAA,eAErJ9I,KAAA,QAAK6I,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrD9I,KAAA,QAAK6I,SAAS,CAAC,iDAAiD,CAAAC,QAAA,eAC9DhJ,IAAA,QAAK+I,SAAS,CAAC,gIAAgI,CAAAC,QAAA,CAC5IxC,QAAQ,CACN,CAAC,cACNtG,KAAA,QAAA8I,QAAA,eACEhJ,IAAA,OAAI+I,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAC5CxC,QAAQ,GAAK,CAAC,CAAG,kBAAkB,qDAAAjC,MAAA,CAAeiC,QAAQ,CAAE,CAC3D,CAAC,cACLtG,KAAA,MAAG6I,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EACjCY,cAAc,CAAC,GAAC,CAACL,UAAU,CAAC/G,MAAM,CAAC,iCACtC,EAAG,CAAC,EACD,CAAC,EACH,CAAC,CACLqH,QAAQ,CAAG,CAAC,eACX3J,KAAA,QAAK6I,SAAS,6CAAAxE,MAAA,CACZsF,QAAQ,EAAI,EAAE,CAAG,6BAA6B,CAC9CA,QAAQ,EAAI,EAAE,CAAG,2BAA2B,CAC5C,+BAA+B,CAC9B,CAAAb,QAAA,EACAa,QAAQ,CAACM,OAAO,CAAC,CAAC,CAAC,CAAC,GACvB,EAAK,CACN,EACE,CAAC,cAGZjK,KAAA,QAAK6I,SAAS,CAAC,WAAW,CAAAC,QAAA,EACjB,CAAC9H,cAAc,CAACsF,QAAQ,CAAC,CAAG+C,UAAU,CAAGA,UAAU,CAACa,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,EAAE5G,GAAG,CAACC,IAAI,EAAI,KAAA4G,sBAAA,CAC5E,KAAM,CAAA/G,QAAQ,CAAGhD,OAAO,SAAPA,OAAO,kBAAA+J,sBAAA,CAAP/J,OAAO,CAAE6C,YAAY,UAAAkH,sBAAA,iBAArBA,sBAAA,CAAuB3G,IAAI,CAACgG,CAAC,EAAIA,CAAC,CAAC7F,MAAM,GAAKJ,IAAI,CAACG,GAAG,CAAC,CACxE,KAAM,CAAA0G,WAAW,CAAGhH,QAAQ,GAAKA,QAAQ,CAACiH,SAAS,EAAIjH,QAAQ,CAACkH,WAAW,CAAC,CAE5E,mBACExK,IAAA,WAEEiJ,OAAO,CAAEA,CAAA,GAAM,CACb;AACA,KAAM,CAAAwB,OAAO,CAAGC,QAAQ,CAACC,aAAa,oBAAApG,MAAA,CAAmBd,IAAI,CAACG,GAAG,OAAI,CAAC,CACtE,GAAI6G,OAAO,CAAE,CACXA,OAAO,CAACG,cAAc,CAAC,CAAEC,QAAQ,CAAE,QAAQ,CAAEC,KAAK,CAAE,QAAS,CAAC,CAAC,CAC/DL,OAAO,CAACM,SAAS,CAACC,GAAG,CAAC,cAAc,CAAE,QAAQ,CAAE,iBAAiB,CAAC,CAClEC,UAAU,CAAC,IAAM,CACfR,OAAO,CAACM,SAAS,CAACG,MAAM,CAAC,cAAc,CAAE,QAAQ,CAAE,iBAAiB,CAAC,CACvE,CAAC,CAAE,IAAI,CAAC,CACV,CACF,CAAE,CACFnC,SAAS,CAAC,8LAA8L,CAAAC,QAAA,cAExM9I,KAAA,QAAK6I,SAAS,CAAC,WAAW,CAAAC,QAAA,eAExB9I,KAAA,QAAK6I,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChD9I,KAAA,QAAK6I,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrB9I,KAAA,QAAK6I,SAAS,CAAC,qEAAqE,CAAAC,QAAA,EAAC,uCAC5E,CAACvF,IAAI,CAAC0H,KAAK,EACjC,CAAC,cACYnL,IAAA,QAAK+I,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CACnC1F,QAAQ,IAAAiB,MAAA,CAAMjB,QAAQ,CAAC8H,KAAK,EAAI,CAAC,MAAA7G,MAAA,CAAId,IAAI,CAAC4H,cAAc,EAAI,CAAC,EAAK,GAAG,CACnE,CAAC,EACH,CAAC,cACNrL,IAAA,QAAK+I,SAAS,6CAAAxE,MAAA,CACZ,CAAAjB,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAE4G,UAAU,GAAI,EAAE,CAAG,6BAA6B,CAC1D,CAAA5G,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAE4G,UAAU,GAAI,EAAE,CAAG,2BAA2B,CACxD,CAAA5G,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAE4G,UAAU,EAAG,CAAC,CAAG,+BAA+B,CAC1D,2BAA2B,CAC1B,CAAAlB,QAAA,CACA,CAAA1F,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAE4G,UAAU,GAAI,EAAE,CAAG,OAAO,CACpC,CAAA5G,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAE4G,UAAU,GAAI,EAAE,CAAG,KAAK,CAClC,CAAA5G,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAE4G,UAAU,EAAG,CAAC,CAAG,OAAO,CAAG,GAAG,CACtC,CAAC,EACH,CAAC,CAGLI,WAAW,eACVpK,KAAA,QAAK6I,SAAS,CAAC,yCAAyC,CAAAC,QAAA,EACrD1F,QAAQ,CAACiH,SAAS,eACjBrK,KAAA,QAAK6I,SAAS,CAAC,2CAA2C,CAAAC,QAAA,eACxDhJ,IAAA,SAAM+I,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,kFAAe,CAAM,CAAC,cACtD9I,KAAA,SAAM6I,SAAS,CAAC,2BAA2B,CAAAC,QAAA,EACxCc,IAAI,CAACwB,KAAK,CAAChI,QAAQ,CAACiH,SAAS,CAAG,EAAE,CAAC,CAAC,GAAC,CAAC,CAACjH,QAAQ,CAACiH,SAAS,CAAG,EAAE,EAAEgB,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,EAC5G,CAAC,EACJ,CACc,CACAlI,QAAQ,CAACkH,WAAW,eACnBtK,KAAA,QAAK6I,SAAS,CAAC,2CAA2C,CAAAC,QAAA,eACxDhJ,IAAA,SAAM+I,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,4EAAc,CAAM,CAAC,cACrDhJ,IAAA,SAAM+I,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CACzC,GAAI,CAAAyC,IAAI,CAACnI,QAAQ,CAACkH,WAAW,CAAC,CAACkB,kBAAkB,CAAC,OAAO,CAAC,CAC3E,CAAC,EACJ,CACc,CACApI,QAAQ,CAACkH,WAAW,eACnBtK,KAAA,QAAK6I,SAAS,CAAC,2CAA2C,CAAAC,QAAA,eACxDhJ,IAAA,SAAM+I,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,gEAAY,CAAM,CAAC,cACnDhJ,IAAA,SAAM+I,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAC1C,GAAI,CAAAyC,IAAI,CAACnI,QAAQ,CAACkH,WAAW,CAAC,CAACmB,kBAAkB,CAAC,OAAO,CAAE,CAC1DC,IAAI,CAAE,SAAS,CACfC,MAAM,CAAE,SAAS,CACjBC,MAAM,CAAE,IACV,CAAC,CAAC,CACE,CAAC,EAC1B,CACgB,EAClB,CACc,EAChB,CAAC,EAtEiBrI,IAAI,CAACG,GAuEJ,CAAC,CAEb,CAAC,CAAC,CAED2F,UAAU,CAAC/G,MAAM,CAAG,CAAC,eACpBxC,IAAA,QAAK+I,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/B9I,KAAA,WACE+I,OAAO,CAAEA,CAAA,GAAMnB,oBAAoB,CAACtB,QAAQ,CAAE,CAC9CuC,SAAS,CAAC,+KAA+K,CAAAC,QAAA,eAEzLhJ,IAAA,SAAAgJ,QAAA,CACG9H,cAAc,CAACsF,QAAQ,CAAC,CACrB,kBAAkB,KAAAjC,MAAA,CACdgF,UAAU,CAAC/G,MAAM,CAAG,CAAC,8EAAgB,CAEzC,CAAC,cACPxC,IAAA,QACE+I,SAAS,8CAAAxE,MAAA,CAA+CrD,cAAc,CAACsF,QAAQ,CAAC,CAAG,YAAY,CAAG,EAAE,CAAG,CACvGuF,IAAI,CAAC,MAAM,CACXC,MAAM,CAAC,cAAc,CACrBC,OAAO,CAAC,WAAW,CAAAjD,QAAA,cAEnBhJ,IAAA,SAAMkM,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,gBAAgB,CAAE,CAAC,CACrF,CAAC,EACA,CAAC,CACN,CACN,EACE,CAAC,GArIE7F,QAsIL,CAAC,CAEV,CAAC,CAAC,CACH,CAAC,EACH,CAAC,cAEJxG,IAAA,QAAK+I,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BhJ,IAAA,QAAK+I,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9B9I,KAAA,UAAO6I,SAAS,CAAC,iCAAiC,CAACuD,KAAK,CAAE,CACxDC,WAAW,CAAE,OAAO,CACpBC,KAAK,CAAE,QAAQ,CACfC,QAAQ,CAAE,QACZ,CAAE,CAAAzD,QAAA,eACAhJ,IAAA,UAAO+I,SAAS,CAAC,8BAA8B,CAAAC,QAAA,cAC7C9I,KAAA,OAAA8I,QAAA,eACEhJ,IAAA,OAAI+I,SAAS,CAAC,4GAA4G,CAACuD,KAAK,CAAE,CAChIE,KAAK,CAAE,OAAO,CACdC,QAAQ,CAAE,OAAO,CACjBC,QAAQ,CAAE,OACZ,CAAE,CAAA1D,QAAA,CAAC,qEAEH,CAAI,CAAC,cACLhJ,IAAA,OAAI+I,SAAS,CAAC,4GAA4G,CAACuD,KAAK,CAAE,CAChIE,KAAK,CAAE,OAAO,CACdC,QAAQ,CAAE,OAAO,CACjBC,QAAQ,CAAE,OACZ,CAAE,CAAA1D,QAAA,CAAC,qEAEH,CAAI,CAAC,cACLhJ,IAAA,OAAI+I,SAAS,CAAC,4GAA4G,CAACuD,KAAK,CAAE,CAChIE,KAAK,CAAE,OAAO,CACdC,QAAQ,CAAE,OAAO,CACjBC,QAAQ,CAAE,OACZ,CAAE,CAAA1D,QAAA,CAAC,sCAEH,CAAI,CAAC,cACLhJ,IAAA,OAAI+I,SAAS,CAAC,4GAA4G,CAACuD,KAAK,CAAE,CAChIE,KAAK,CAAE,OAAO,CACdC,QAAQ,CAAE,OAAO,CACjBC,QAAQ,CAAE,OACZ,CAAE,CAAA1D,QAAA,CAAC,iFAEH,CAAI,CAAC,cACLhJ,IAAA,OAAI+I,SAAS,CAAC,4GAA4G,CAACuD,KAAK,CAAE,CAChIE,KAAK,CAAE,OAAO,CACdC,QAAQ,CAAE,OAAO,CACjBC,QAAQ,CAAE,OACZ,CAAE,CAAA1D,QAAA,CAAC,6FAEH,CAAI,CAAC,cACLhJ,IAAA,OAAI+I,SAAS,CAAC,4GAA4G,CAACuD,KAAK,CAAE,CAChIE,KAAK,CAAE,OAAO,CACdC,QAAQ,CAAE,OAAO,CACjBC,QAAQ,CAAE,OACZ,CAAE,CAAA1D,QAAA,CAAC,sCAEH,CAAI,CAAC,cACLhJ,IAAA,OAAI+I,SAAS,CAAC,4GAA4G,CAACuD,KAAK,CAAE,CAChIE,KAAK,CAAE,OAAO,CACdC,QAAQ,CAAE,OAAO,CACjBC,QAAQ,CAAE,OACZ,CAAE,CAAA1D,QAAA,CAAC,iFAEH,CAAI,CAAC,cACLhJ,IAAA,OAAI+I,SAAS,CAAC,4GAA4G,CAACuD,KAAK,CAAE,CAChIE,KAAK,CAAE,OAAO,CACdC,QAAQ,CAAE,OAAO,CACjBC,QAAQ,CAAE,OACZ,CAAE,CAAA1D,QAAA,CAAC,2EAEH,CAAI,CAAC,cACLhJ,IAAA,OAAI+I,SAAS,CAAC,4GAA4G,CAACuD,KAAK,CAAE,CAChIE,KAAK,CAAE,OAAO,CACdC,QAAQ,CAAE,OAAO,CACjBC,QAAQ,CAAE,OACZ,CAAE,CAAA1D,QAAA,CAAC,wFAEH,CAAI,CAAC,cACLhJ,IAAA,OAAI+I,SAAS,CAAC,mFAAmF,CAACuD,KAAK,CAAE,CACvGE,KAAK,CAAE,OAAO,CACdC,QAAQ,CAAE,OAAO,CACjBC,QAAQ,CAAE,OACZ,CAAE,CAAA1D,QAAA,CAAC,wDAEH,CAAI,CAAC,EACH,CAAC,CACA,CAAC,cACRhJ,IAAA,UAAO+I,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CACjD,CAAC,IAAM,CACN;AACA,KAAM,CAAA2D,YAAY,CAAG,CAAC,CAAC,CACvB,KAAM,CAAAC,eAAe,CAAG,CAAC,CAAC,CAE1B;AACA,IAAK,GAAI,CAAAvG,CAAC,CAAG,CAAC,CAAEA,CAAC,EAAI,CAAC,CAAEA,CAAC,EAAE,CAAE,CAC3BsG,YAAY,CAACtG,CAAC,CAAC,CAAG,EAAE,CACpBuG,eAAe,CAACvG,CAAC,CAAC,CAAG,CAAEwG,UAAU,CAAE,CAAC,CAAExB,cAAc,CAAE,CAAC,CAAEzB,cAAc,CAAE,CAAE,CAAC,CAC9E,CAEA;AACApJ,KAAK,CAAC8F,OAAO,CAAC7C,IAAI,EAAI,CACpB,KAAM,CAAA+C,QAAQ,CAAG/C,IAAI,CAACgD,SAAS,CAC/B,KAAM,CAAAnD,QAAQ,CAAGlC,eAAe,CAACsC,IAAI,CAACgG,CAAC,EAAIA,CAAC,CAAC7F,MAAM,EAAI6F,CAAC,CAAC7F,MAAM,CAACD,GAAG,GAAKH,IAAI,CAACG,GAAG,CAAC,CAEjF,GAAIN,QAAQ,CAAE,CACZqJ,YAAY,CAACnG,QAAQ,CAAC,CAACsG,IAAI,CAAC,CAAErJ,IAAI,CAAEH,QAAS,CAAC,CAAC,CAE/C,GAAIA,QAAQ,CAACC,MAAM,GAAK,WAAW,CAAE,CACnCqJ,eAAe,CAACpG,QAAQ,CAAC,CAACqG,UAAU,EAAIvJ,QAAQ,CAAC8H,KAAK,EAAI,CAAC,CAC3DwB,eAAe,CAACpG,QAAQ,CAAC,CAAC6E,cAAc,EAAI/H,QAAQ,CAAC+H,cAAc,EAAI5H,IAAI,CAAC4H,cAAc,EAAI,CAAC,CAC/FuB,eAAe,CAACpG,QAAQ,CAAC,CAACoD,cAAc,EAAI,CAAC,CAC/C,CACF,CAAC,IAAM,CACL+C,YAAY,CAACnG,QAAQ,CAAC,CAACsG,IAAI,CAAC,CAAErJ,IAAI,CAAEH,QAAQ,CAAE,IAAK,CAAC,CAAC,CACvD,CACF,CAAC,CAAC,CAEF;AACAyJ,MAAM,CAACC,IAAI,CAACL,YAAY,CAAC,CAACrG,OAAO,CAAC2G,KAAK,EAAI,CACzCN,YAAY,CAACM,KAAK,CAAC,CAACC,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKD,CAAC,CAAC1J,IAAI,CAAC0H,KAAK,CAAGiC,CAAC,CAAC3J,IAAI,CAAC0H,KAAK,CAAC,CACjE,CAAC,CAAC,CAEF;AACA4B,MAAM,CAACC,IAAI,CAACJ,eAAe,CAAC,CAACtG,OAAO,CAAC2G,KAAK,EAAI,CAC5C,KAAM,CAAApI,IAAI,CAAG+H,eAAe,CAACK,KAAK,CAAC,CACnC,GAAIpI,IAAI,CAACwG,cAAc,CAAG,CAAC,CAAE,CAC3BxG,IAAI,CAACwI,oBAAoB,CAAGvD,IAAI,CAACC,KAAK,CAAElF,IAAI,CAACgI,UAAU,CAAGhI,IAAI,CAACwG,cAAc,CAAI,GAAG,CAAC,CACvF,CAAC,IAAM,CACLxG,IAAI,CAACwI,oBAAoB,CAAG,CAAC,CAC/B,CACF,CAAC,CAAC,CAEF;AACA,KAAM,CAAAC,IAAI,CAAG,EAAE,CAEf;AACA,GAAIX,YAAY,CAAC,CAAC,CAAC,EAAIA,YAAY,CAAC,CAAC,CAAC,CAACnK,MAAM,CAAG,CAAC,CAAE,CACjDmK,YAAY,CAAC,CAAC,CAAC,CAACrG,OAAO,CAAC,CAACiH,IAAI,CAAEC,KAAK,GAAK,CACvC,KAAM,CAAE/J,IAAI,CAAEH,QAAS,CAAC,CAAGiK,IAAI,CAC/B,KAAM,CAAAE,cAAc,CAAGD,KAAK,GAAK,CAAC,CAClC,KAAM,CAAAE,cAAc,CAAGd,eAAe,CAAC,CAAC,CAAC,CAEzCU,IAAI,CAACR,IAAI,cACP5M,KAAA,OAAmB,eAAcuD,IAAI,CAACG,GAAI,CAACmF,SAAS,IAAAxE,MAAA,CAAK,CAAAjB,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEC,MAAM,IAAK,WAAW,CAAG,aAAa,CAAG,CAAAD,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEC,MAAM,IAAK,aAAa,CAAG,cAAc,CAAG,YAAY,wCAAuC,CAAAyF,QAAA,eACnNhJ,IAAA,OAAI+I,SAAS,CAAC,sEAAsE,CAACuD,KAAK,CAAE,CAAEE,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAQ,CAAE,CAAA1D,QAAA,CAClJyE,cAAc,eACbvN,KAAA,QAAK6I,SAAS,CAAC,iDAAiD,CAAAC,QAAA,eAC9DhJ,IAAA,SAAM+I,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,6FAAgB,CAAM,CAAC,CACpE0E,cAAc,CAAC9D,cAAc,CAAG,CAAC,eAChC1J,KAAA,SAAM6I,SAAS,CAAC,+FAA+F,CAAAC,QAAA,EAC5G0E,cAAc,CAACL,oBAAoB,CAAClD,OAAO,CAAC,CAAC,CAAC,CAAC,GAClE,EAAM,CACS,EACpB,CACgB,CACC,CAAC,cACLnK,IAAA,OAAI+I,SAAS,CAAC,0DAA0D,CAACuD,KAAK,CAAE,CAAEE,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAQ,CAAE,CAAA1D,QAAA,cACvIhJ,IAAA,QAAK+I,SAAS,CAAC,UAAU,CAAC4E,KAAK,CAAElK,IAAI,CAACkK,KAAM,CAAA3E,QAAA,CACzCvF,IAAI,CAACkK,KAAK,CACpB,CAAC,CACQ,CAAC,cACL3N,IAAA,OAAI+I,SAAS,CAAC,qEAAqE,CAACuD,KAAK,CAAE,CAAEE,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAQ,CAAE,CAAA1D,QAAA,CACjJ1F,QAAQ,IAAAiB,MAAA,CAAMjB,QAAQ,CAAC8H,KAAK,EAAI,CAAC,MAAA7G,MAAA,CAAIjB,QAAQ,CAAC+H,cAAc,EAAI5H,IAAI,CAAC4H,cAAc,EAAI,CAAC,EAAK,GAAG,CAC/F,CAAC,cACLrL,IAAA,OAAI+I,SAAS,CAAC,qEAAqE,CAACuD,KAAK,CAAE,CAAEE,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAQ,CAAE,CAAA1D,QAAA,CACjJ1F,QAAQ,IAAAiB,MAAA,CAAM,CAACjB,QAAQ,CAAC4G,UAAU,EAAI,CAAC,EAAEC,OAAO,CAAC,CAAC,CAAC,MAAM,GAAG,CAC3D,CAAC,cACLnK,IAAA,OAAI+I,SAAS,CAAC,qEAAqE,CAACuD,KAAK,CAAE,CAAEE,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAQ,CAAE,CAAA1D,QAAA,CACjJyE,cAAc,EAAIC,cAAc,CAAC9D,cAAc,CAAG,CAAC,IAAArF,MAAA,CAAMmJ,cAAc,CAACL,oBAAoB,MAAM,GAAG,CACpG,CAAC,cACLrN,IAAA,OAAI+I,SAAS,CAAC,+CAA+C,CAACuD,KAAK,CAAE,CAAEE,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAQ,CAAE,CAAA1D,QAAA,CAC3H1F,QAAQ,cACPtD,IAAA,SAAM+I,SAAS,wEAAAxE,MAAA,CACbjB,QAAQ,CAACC,MAAM,GAAK,WAAW,CAC3B,6BAA6B,CAC7BD,QAAQ,CAACC,MAAM,GAAK,aAAa,CACjC,+BAA+B,CAC/BD,QAAQ,CAACC,MAAM,GAAK,UAAU,CAC9B,2BAA2B,CAC3B,2BAA2B,CAC9B,CAAAyF,QAAA,CACA1F,QAAQ,CAACC,MAAM,GAAK,WAAW,CAAG,OAAO,CACzCD,QAAQ,CAACC,MAAM,GAAK,aAAa,CAAG,aAAa,CACjDD,QAAQ,CAACC,MAAM,GAAK,UAAU,CAAG,MAAM,CAAG,MAAM,CACzD,CAAC,cAEKvD,IAAA,SAAM+I,SAAS,CAAC,+FAA+F,CAAAC,QAAA,CAAC,6CAEhH,CAAM,CACP,CACC,CAAC,cACLhJ,IAAA,OAAI+I,SAAS,CAAC,sEAAsE,CAACuD,KAAK,CAAE,CAAEE,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAQ,CAAE,CAAA1D,QAAA,CAClJ1F,QAAQ,EAAIA,QAAQ,CAACiH,SAAS,cAC7BrK,KAAA,SAAM6I,SAAS,CAAC,2BAA2B,CAAAC,QAAA,EACxCc,IAAI,CAACwB,KAAK,CAAChI,QAAQ,CAACiH,SAAS,CAAG,EAAE,CAAC,CAAC,GAAC,CAAC,CAACjH,QAAQ,CAACiH,SAAS,CAAG,EAAE,EAAEgB,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,EACxF,CAAC,CACL,GAAG,CACL,CAAC,cACLxL,IAAA,OAAI+I,SAAS,CAAC,sEAAsE,CAACuD,KAAK,CAAE,CAAEE,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAQ,CAAE,CAAA1D,QAAA,CAClJ1F,QAAQ,EAAIA,QAAQ,CAACkH,WAAW,cAC/BtK,KAAA,QAAK6I,SAAS,CAAC,SAAS,CAAAC,QAAA,eACtBhJ,IAAA,QAAK+I,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CACvC,GAAI,CAAAyC,IAAI,CAACnI,QAAQ,CAACkH,WAAW,CAAC,CAACkB,kBAAkB,CAAC,OAAO,CAAC,CACxE,CAAC,cACU1L,IAAA,QAAK+I,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC3B,GAAI,CAAAyC,IAAI,CAACnI,QAAQ,CAACkH,WAAW,CAAC,CAACmB,kBAAkB,CAAC,OAAO,CAAE,CAC1DC,IAAI,CAAE,SAAS,CACfC,MAAM,CAAE,SAAS,CACjBC,MAAM,CAAE,IACV,CAAC,CAAC,CACjB,CAAC,EACH,CAAC,CACc,GAAG,CACL,CAAC,cACL9L,IAAA,OAAI+I,SAAS,CAAC,sEAAsE,CAACuD,KAAK,CAAE,CAAEE,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAQ,CAAE,CAAA1D,QAAA,CAClJ1F,QAAQ,EAAIA,QAAQ,CAACsK,eAAe,cACnC1N,KAAA,SAAM6I,SAAS,CAAC,mGAAmG,CAAAC,QAAA,EAChH1F,QAAQ,CAACsK,eAAe,CAACzD,OAAO,CAAC,CAAC,CAAC,CAAC,GACvC,EAAM,CAAC,cAEPnK,IAAA,SAAM+I,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,GAAC,CAAM,CAChD,CACC,CAAC,cACLhJ,IAAA,OAAI+I,SAAS,CAAC,uBAAuB,CAACuD,KAAK,CAAE,CAAEE,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAQ,CAAE,CAAA1D,QAAA,cACpG9I,KAAA,QAAK6I,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eAEtChJ,IAAA,QAAK+I,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAChD1F,QAAQ,EAAIA,QAAQ,CAACC,MAAM,GAAK,UAAU,cACzCrD,KAAA,WACE+I,OAAO,CAAEA,CAAA,GAAMvC,oBAAoB,CAACjD,IAAI,CAACG,GAAG,CAAE,MAAM,CAAE,CACtDmF,SAAS,CAAC,6NAA6N,CAAAC,QAAA,eAEvOhJ,IAAA,CAACZ,IAAI,EAAC2J,SAAS,CAAC,cAAc,CAAE,CAAC,qBAEnC,EAAQ,CAAC,cAET7I,KAAA,WACE+I,OAAO,CAAEA,CAAA,GAAMvC,oBAAoB,CAACjD,IAAI,CAACG,GAAG,CAAE,QAAQ,CAAE,CACxDmF,SAAS,CAAC,mOAAmO,CAAAC,QAAA,eAE7OhJ,IAAA,CAACX,MAAM,EAAC0J,SAAS,CAAC,cAAc,CAAE,CAAC,qBAErC,EAAQ,CACT,CACE,CAAC,CAGLzF,QAAQ,GAAKA,QAAQ,CAACC,MAAM,GAAK,WAAW,EAAID,QAAQ,CAACC,MAAM,GAAK,aAAa,CAAC,eACjFrD,KAAA,QAAK6I,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtC9I,KAAA,WACE+I,OAAO,CAAEA,CAAA,GAAMJ,oBAAoB,CAACpF,IAAI,CAAE,CAC1CsF,SAAS,CAAC,kOAAkO,CAAAC,QAAA,eAE5OhJ,IAAA,CAACP,GAAG,EAACsJ,SAAS,CAAC,cAAc,CAAE,CAAC,gEAElC,EAAQ,CAAC,cACT7I,KAAA,WACE+I,OAAO,CAAEA,CAAA,GAAMR,kBAAkB,CAAChF,IAAI,CAAE,CACxCsF,SAAS,CAAC,+NAA+N,CAAAC,QAAA,eAEzOhJ,IAAA,CAACR,aAAa,EAACuJ,SAAS,CAAC,cAAc,CAAE,CAAC,gEAE5C,EAAQ,CAAC,EACN,CACN,EACE,CAAC,CACJ,CAAC,GA3HEtF,IAAI,CAACG,GA4HV,CACN,CAAC,CACH,CAAC,CAAC,CACJ,CAEA;AACA,IAAK,GAAI,CAAA4C,QAAQ,CAAG,CAAC,CAAEA,QAAQ,EAAI,CAAC,CAAEA,QAAQ,EAAE,CAAE,CAChD,GAAImG,YAAY,CAACnG,QAAQ,CAAC,EAAImG,YAAY,CAACnG,QAAQ,CAAC,CAAChE,MAAM,CAAG,CAAC,CAAE,CAC/DmK,YAAY,CAACnG,QAAQ,CAAC,CAACF,OAAO,CAAC,CAACiH,IAAI,CAAEC,KAAK,GAAK,CAC9C,KAAM,CAAE/J,IAAI,CAAEH,QAAS,CAAC,CAAGiK,IAAI,CAC/B,KAAM,CAAAE,cAAc,CAAGD,KAAK,GAAK,CAAC,CAClC,KAAM,CAAAE,cAAc,CAAGd,eAAe,CAACpG,QAAQ,CAAC,CAEhD8G,IAAI,CAACR,IAAI,cACP5M,KAAA,OAAmB,eAAcuD,IAAI,CAACG,GAAI,CAACmF,SAAS,IAAAxE,MAAA,CAAK,CAAAjB,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEC,MAAM,IAAK,WAAW,CAAG,aAAa,CAAG,CAAAD,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEC,MAAM,IAAK,aAAa,CAAG,cAAc,CAAG,YAAY,wCAAuC,CAAAyF,QAAA,eACnNhJ,IAAA,OAAI+I,SAAS,CAAC,sEAAsE,CAACuD,KAAK,CAAE,CAAEE,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAQ,CAAE,CAAA1D,QAAA,CAClJyE,cAAc,eACbvN,KAAA,QAAK6I,SAAS,CAAC,iDAAiD,CAAAC,QAAA,eAC9D9I,KAAA,SAAM6I,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAC,mDAAS,CAACxC,QAAQ,EAAO,CAAC,CACzDkH,cAAc,CAAC9D,cAAc,CAAG,CAAC,eAChC1J,KAAA,SAAM6I,SAAS,CAAC,+FAA+F,CAAAC,QAAA,EAC5G0E,cAAc,CAACL,oBAAoB,CAAClD,OAAO,CAAC,CAAC,CAAC,CAAC,GAClD,EAAM,CACP,EACd,CACU,CACC,CAAC,cACLnK,IAAA,OAAI+I,SAAS,CAAC,0DAA0D,CAACuD,KAAK,CAAE,CAAEE,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAQ,CAAE,CAAA1D,QAAA,cACvIhJ,IAAA,QAAK+I,SAAS,CAAC,UAAU,CAAC4E,KAAK,CAAElK,IAAI,CAACkK,KAAM,CAAA3E,QAAA,CACzCvF,IAAI,CAACkK,KAAK,CACtB,CAAC,CACU,CAAC,cACL3N,IAAA,OAAI+I,SAAS,CAAC,sEAAsE,CAACuD,KAAK,CAAE,CAAEE,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAQ,CAAE,CAAA1D,QAAA,CAClJ1F,QAAQ,IAAAiB,MAAA,CAAMjB,QAAQ,CAAC8H,KAAK,EAAI,CAAC,MAAA7G,MAAA,CAAIjB,QAAQ,CAAC+H,cAAc,EAAI5H,IAAI,CAAC4H,cAAc,EAAI,CAAC,EAAK,GAAG,CAC/F,CAAC,cACLrL,IAAA,OAAI+I,SAAS,CAAC,sEAAsE,CAACuD,KAAK,CAAE,CAAEE,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAQ,CAAE,CAAA1D,QAAA,CAClJ1F,QAAQ,IAAAiB,MAAA,CAAM,CAACjB,QAAQ,CAAC4G,UAAU,EAAI,CAAC,EAAEC,OAAO,CAAC,CAAC,CAAC,MAAM,GAAG,CAC3D,CAAC,cACLnK,IAAA,OAAI+I,SAAS,CAAC,sEAAsE,CAACuD,KAAK,CAAE,CAAEE,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAQ,CAAE,CAAA1D,QAAA,CAClJyE,cAAc,EAAIC,cAAc,CAAC9D,cAAc,CAAG,CAAC,IAAArF,MAAA,CAAMmJ,cAAc,CAACL,oBAAoB,MAAM,GAAG,CACpG,CAAC,cACLrN,IAAA,OAAI+I,SAAS,CAAC,gDAAgD,CAACuD,KAAK,CAAE,CAAEE,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAQ,CAAE,CAAA1D,QAAA,CAC5H1F,QAAQ,cACPtD,IAAA,SAAM+I,SAAS,wEAAAxE,MAAA,CACbjB,QAAQ,CAACC,MAAM,GAAK,WAAW,CAC3B,6BAA6B,CAC7BD,QAAQ,CAACC,MAAM,GAAK,aAAa,CACjC,+BAA+B,CAC/BD,QAAQ,CAACC,MAAM,GAAK,UAAU,CAC9B,2BAA2B,CAC3B,2BAA2B,CAC9B,CAAAyF,QAAA,CACA1F,QAAQ,CAACC,MAAM,GAAK,WAAW,CAAG,OAAO,CACzCD,QAAQ,CAACC,MAAM,GAAK,aAAa,CAAG,aAAa,CACjDD,QAAQ,CAACC,MAAM,GAAK,UAAU,CAAG,MAAM,CAAG,MAAM,CAC7C,CAAC,cAEPvD,IAAA,SAAM+I,SAAS,CAAC,+FAA+F,CAAAC,QAAA,CAAC,6CAEhH,CAAM,CACP,CACC,CAAC,cACLhJ,IAAA,OAAI+I,SAAS,CAAC,sEAAsE,CAACuD,KAAK,CAAE,CAAEE,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAQ,CAAE,CAAA1D,QAAA,CAClJ1F,QAAQ,EAAIA,QAAQ,CAACiH,SAAS,cAC7BrK,KAAA,SAAM6I,SAAS,CAAC,2BAA2B,CAAAC,QAAA,EACxCc,IAAI,CAACwB,KAAK,CAAChI,QAAQ,CAACiH,SAAS,CAAG,EAAE,CAAC,CAAC,GAAC,CAAC,CAACjH,QAAQ,CAACiH,SAAS,CAAG,EAAE,EAAEgB,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,EACxF,CAAC,CACL,GAAG,CACL,CAAC,cACLxL,IAAA,OAAI+I,SAAS,CAAC,sEAAsE,CAACuD,KAAK,CAAE,CAAEE,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAQ,CAAE,CAAA1D,QAAA,CAClJ1F,QAAQ,EAAIA,QAAQ,CAACkH,WAAW,cAC/BtK,KAAA,QAAK6I,SAAS,CAAC,SAAS,CAAAC,QAAA,eACtBhJ,IAAA,QAAK+I,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CACvC,GAAI,CAAAyC,IAAI,CAACnI,QAAQ,CAACkH,WAAW,CAAC,CAACkB,kBAAkB,CAAC,OAAO,CAAC,CACpE,CAAC,cACM1L,IAAA,QAAK+I,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC3B,GAAI,CAAAyC,IAAI,CAACnI,QAAQ,CAACkH,WAAW,CAAC,CAACmB,kBAAkB,CAAC,OAAO,CAAE,CAC1DC,IAAI,CAAE,SAAS,CACfC,MAAM,CAAE,SAAS,CACjBC,MAAM,CAAE,IACV,CAAC,CAAC,CACC,CAAC,EACH,CAAC,CACJ,GAAG,CACL,CAAC,cACL9L,IAAA,OAAI+I,SAAS,CAAC,sEAAsE,CAACuD,KAAK,CAAE,CAAEE,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAQ,CAAE,CAAA1D,QAAA,CAClJ1F,QAAQ,EAAIA,QAAQ,CAACsK,eAAe,cACnC1N,KAAA,SAAM6I,SAAS,CAAC,mGAAmG,CAAAC,QAAA,EAChH1F,QAAQ,CAACsK,eAAe,CAACzD,OAAO,CAAC,CAAC,CAAC,CAAC,GACvC,EAAM,CAAC,cAEPnK,IAAA,SAAM+I,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,GAAC,CAAM,CAChD,CACC,CAAC,cACLhJ,IAAA,OAAI+I,SAAS,CAAC,uBAAuB,CAACuD,KAAK,CAAE,CAAEE,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAO,CAAEC,QAAQ,CAAE,OAAQ,CAAE,CAAA1D,QAAA,cACpG9I,KAAA,QAAK6I,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eAEtChJ,IAAA,QAAK+I,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAChD1F,QAAQ,EAAIA,QAAQ,CAACC,MAAM,GAAK,UAAU,cACzCrD,KAAA,WACE+I,OAAO,CAAEA,CAAA,GAAMvC,oBAAoB,CAACjD,IAAI,CAACG,GAAG,CAAE,MAAM,CAAE,CACtDmF,SAAS,CAAC,6NAA6N,CAAAC,QAAA,eAEvOhJ,IAAA,CAACZ,IAAI,EAAC2J,SAAS,CAAC,cAAc,CAAE,CAAC,qBAEnC,EAAQ,CAAC,cAET7I,KAAA,WACE+I,OAAO,CAAEA,CAAA,GAAMvC,oBAAoB,CAACjD,IAAI,CAACG,GAAG,CAAE,QAAQ,CAAE,CACxDmF,SAAS,CAAC,mOAAmO,CAAAC,QAAA,eAE7OhJ,IAAA,CAACX,MAAM,EAAC0J,SAAS,CAAC,cAAc,CAAE,CAAC,qBAErC,EAAQ,CACT,CACE,CAAC,CAGLzF,QAAQ,GAAKA,QAAQ,CAACC,MAAM,GAAK,WAAW,EAAID,QAAQ,CAACC,MAAM,GAAK,aAAa,CAAC,eACjFrD,KAAA,QAAK6I,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtC9I,KAAA,WACE+I,OAAO,CAAEA,CAAA,GAAMJ,oBAAoB,CAACpF,IAAI,CAAE,CAC1CsF,SAAS,CAAC,kOAAkO,CAAAC,QAAA,eAE5OhJ,IAAA,CAACP,GAAG,EAACsJ,SAAS,CAAC,cAAc,CAAE,CAAC,gEAElC,EAAQ,CAAC,cACT7I,KAAA,WACE+I,OAAO,CAAEA,CAAA,GAAMR,kBAAkB,CAAChF,IAAI,CAAE,CACxCsF,SAAS,CAAC,+NAA+N,CAAAC,QAAA,eAEzOhJ,IAAA,CAACR,aAAa,EAACuJ,SAAS,CAAC,cAAc,CAAE,CAAC,gEAE5C,EAAQ,CAAC,EACN,CACN,EACE,CAAC,CACJ,CAAC,GA3HEtF,IAAI,CAACG,GA4HV,CACN,CAAC,CACH,CAAC,CAAC,CACJ,CACF,CAEA,MAAO,CAAA0J,IAAI,CAAC9K,MAAM,CAAG,CAAC,CAAG8K,IAAI,cAC3BtN,IAAA,OAAAgJ,QAAA,cACEhJ,IAAA,OAAI6N,OAAO,CAAC,GAAG,CAAC9E,SAAS,CAAC,wDAAwD,CAAAC,QAAA,cAChF9I,KAAA,QAAK6I,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzChJ,IAAA,CAACb,QAAQ,EAAC4J,SAAS,CAAC,4BAA4B,CAAE,CAAC,cACnD/I,IAAA,SAAAgJ,QAAA,CAAM,uHAAsB,CAAM,CAAC,cACnChJ,IAAA,SAAM+I,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CACzCxI,KAAK,CAACgC,MAAM,GAAK,CAAC,CAAG,8BAA8B,CAAG,oCAAoC,CACvF,CAAC,EACR,CAAC,CACA,CAAC,CACH,CACL,CACH,CAAC,EAAE,CAAC,CACC,CAAC,EACH,CAAC,CACD,CAAC,CACH,CAAC,EACH,CAAC,CAMT,KAAK,EAAI5B,mBAAmB,eAC3BZ,IAAA,QAAAgJ,QAAA,CAAK,4BAA0B,CAAK,CACrC,CAGAxH,YAAY,EAAIE,uBAAuB,eACtC1B,IAAA,CAACJ,eAAe,EACdQ,SAAS,CAAEA,SAAU,CACrByD,MAAM,CAAEnC,uBAAuB,CAACkC,GAAI,CACpCI,SAAS,CAAEtC,uBAAuB,CAACiM,KAAM,CACzCG,OAAO,CAAEpF,mBAAoB,CAC9B,CACF,CAGA9G,cAAc,EAAItB,OAAO,eACxBN,IAAA,CAACH,oBAAoB,EACnBO,SAAS,CAAEA,SAAU,CACrB2N,WAAW,CAAEzN,OAAO,CAACwE,IAAK,CAC1BgJ,OAAO,CAAElF,qBAAsB,CAChC,CACF,CAGA9G,cAAc,EAAIE,yBAAyB,EAAI1B,OAAO,eACrDN,IAAA,CAACF,qBAAqB,EACpBM,SAAS,CAAEA,SAAU,CACrB2N,WAAW,CAAEzN,OAAO,CAACwE,IAAK,CAC1BjB,MAAM,CAAE7B,yBAAyB,CAAC4B,GAAI,CACtCI,SAAS,CAAEhC,yBAAyB,CAAC2L,KAAM,CAC3CG,OAAO,CAAEhF,qBAAsB,CAC/BkF,QAAQ,CAAE9L,cAAe,CAC1B,CACF,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAA/B,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}