{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Clock,AlertTriangle}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ExamTimer=_ref=>{let{timeLimit,onTimeUp,onWarning,onTimeUpdate}=_ref;const[timeLeft,setTimeLeft]=useState(timeLimit*60);// Convert minutes to seconds\nconst[warningShown,setWarningShown]=useState(false);useEffect(()=>{if(timeLeft<=0){onTimeUp();return;}// Show warning when 5 minutes left\nif(timeLeft<=300&&!warningShown){onWarning();setWarningShown(true);}const timer=setInterval(()=>{setTimeLeft(prev=>{const newTimeLeft=prev-1;// Calculate time spent and notify parent component\nif(onTimeUpdate){const timeSpent=timeLimit*60-newTimeLeft;onTimeUpdate(timeSpent);}return newTimeLeft;});},1000);return()=>clearInterval(timer);},[timeLeft,onTimeUp,onWarning,warningShown]);const formatTime=seconds=>{const hours=Math.floor(seconds/3600);const minutes=Math.floor(seconds%3600/60);const secs=seconds%60;if(hours>0){return\"\".concat(hours,\":\").concat(minutes.toString().padStart(2,'0'),\":\").concat(secs.toString().padStart(2,'0'));}return\"\".concat(minutes,\":\").concat(secs.toString().padStart(2,'0'));};const getTimerColor=()=>{if(timeLeft<=60)return'text-red-600 bg-red-100';if(timeLeft<=300)return'text-orange-600 bg-orange-100';return'text-blue-600 bg-blue-100';};const getTimerIcon=()=>{if(timeLeft<=60)return/*#__PURE__*/_jsx(AlertTriangle,{className:\"h-4 w-4\"});return/*#__PURE__*/_jsx(Clock,{className:\"h-4 w-4\"});};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 rtl:space-x-reverse px-3 py-2 rounded-lg \".concat(getTimerColor()),children:[getTimerIcon(),/*#__PURE__*/_jsx(\"span\",{className:\"font-mono font-semibold\",children:formatTime(timeLeft)})]});};export default ExamTimer;","map":{"version":3,"names":["React","useState","useEffect","Clock","AlertTriangle","jsx","_jsx","jsxs","_jsxs","ExamTimer","_ref","timeLimit","onTimeUp","onWarning","onTimeUpdate","timeLeft","setTimeLeft","warningShown","setWarningShown","timer","setInterval","prev","newTimeLeft","timeSpent","clearInterval","formatTime","seconds","hours","Math","floor","minutes","secs","concat","toString","padStart","getTimerColor","getTimerIcon","className","children"],"sources":["M:/Qudrat/client/src/components/Exam/ExamTimer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Clock, AlertTriangle } from 'lucide-react';\r\n\r\nconst ExamTimer = ({ timeLimit, onTimeUp, onWarning, onTimeUpdate }) => {\r\n  const [timeLeft, setTimeLeft] = useState(timeLimit * 60); // Convert minutes to seconds\r\n  const [warningShown, setWarningShown] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (timeLeft <= 0) {\r\n      onTimeUp();\r\n      return;\r\n    }\r\n\r\n    // Show warning when 5 minutes left\r\n    if (timeLeft <= 300 && !warningShown) {\r\n      onWarning();\r\n      setWarningShown(true);\r\n    }\r\n\r\n    const timer = setInterval(() => {\r\n      setTimeLeft(prev => {\r\n        const newTimeLeft = prev - 1;\r\n        // Calculate time spent and notify parent component\r\n        if (onTimeUpdate) {\r\n          const timeSpent = (timeLimit * 60) - newTimeLeft;\r\n          onTimeUpdate(timeSpent);\r\n        }\r\n        return newTimeLeft;\r\n      });\r\n    }, 1000);\r\n\r\n    return () => clearInterval(timer);\r\n  }, [timeLeft, onTimeUp, onWarning, warningShown]);\r\n\r\n  const formatTime = (seconds) => {\r\n    const hours = Math.floor(seconds / 3600);\r\n    const minutes = Math.floor((seconds % 3600) / 60);\r\n    const secs = seconds % 60;\r\n\r\n    if (hours > 0) {\r\n      return `${hours}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\r\n    }\r\n    return `${minutes}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  const getTimerColor = () => {\r\n    if (timeLeft <= 60) return 'text-red-600 bg-red-100';\r\n    if (timeLeft <= 300) return 'text-orange-600 bg-orange-100';\r\n    return 'text-blue-600 bg-blue-100';\r\n  };\r\n\r\n  const getTimerIcon = () => {\r\n    if (timeLeft <= 60) return <AlertTriangle className=\"h-4 w-4\" />;\r\n    return <Clock className=\"h-4 w-4\" />;\r\n  };\r\n\r\n  return (\r\n    <div className={`flex items-center space-x-2 rtl:space-x-reverse px-3 py-2 rounded-lg ${getTimerColor()}`}>\r\n      {getTimerIcon()}\r\n      <span className=\"font-mono font-semibold\">\r\n        {formatTime(timeLeft)}\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ExamTimer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}