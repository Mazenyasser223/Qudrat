{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import toast from'react-hot-toast';import{X,Eye,EyeOff,CheckCircle,XCircle,AlertCircle,BookOpen,Clock,TrendingUp,User,Award,Target,Zap,Star,ChevronLeft,ChevronRight,List,ChevronDown}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const StudentExamSubmission=_ref=>{let{studentId,studentName,examId,examTitle,onClose,allExams=[]}=_ref;const[submission,setSubmission]=useState(null);const[loading,setLoading]=useState(true);const[showAnswers,setShowAnswers]=useState(false);const[currentExamIndex,setCurrentExamIndex]=useState(0);const[showExamSelector,setShowExamSelector]=useState(false);useEffect(()=>{fetchSubmission();},[studentId,examId]);useEffect(()=>{// Find the current exam index when examId changes\nif(allExams.length>0){const index=allExams.findIndex(exam=>exam._id===examId);if(index!==-1){setCurrentExamIndex(index);}}},[examId,allExams]);// Close dropdown when clicking outside\nuseEffect(()=>{const handleClickOutside=event=>{if(showExamSelector&&!event.target.closest('.exam-selector')){setShowExamSelector(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>document.removeEventListener('mousedown',handleClickOutside);},[showExamSelector]);const fetchSubmission=async()=>{try{setLoading(true);const response=await axios.get(\"/api/exams/\".concat(examId,\"/student-submission/\").concat(studentId),{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});setSubmission(response.data.data);}catch(error){console.error('Error fetching submission:',error);toast.error('حدث خطأ أثناء تحميل إجابة الطالب');setSubmission(null);}finally{setLoading(false);}};const getAnswerStatus=(question,studentAnswer)=>{if(!studentAnswer||studentAnswer.trim()===''){return{status:'unanswered',icon:AlertCircle,color:'text-yellow-600',bgColor:'bg-yellow-100'};}else if(studentAnswer===question.correctAnswer){return{status:'correct',icon:CheckCircle,color:'text-green-600',bgColor:'bg-green-100'};}else{return{status:'wrong',icon:XCircle,color:'text-red-600',bgColor:'bg-red-100'};}};const getAnswerLabel=answer=>{const labels={'A':'أ','B':'ب','C':'ج','D':'د'};return labels[answer]||answer;};const getGroupName=examGroup=>{return examGroup===0?'اختبارات التأسيس':\"\\u0627\\u0644\\u0645\\u062C\\u0645\\u0648\\u0639\\u0629 \".concat(examGroup);};const getStatusColor=status=>{switch(status){case'completed':return'bg-green-100 text-green-800';case'in_progress':return'bg-yellow-100 text-yellow-800';case'unlocked':return'bg-blue-100 text-blue-800';default:return'bg-gray-100 text-gray-800';}};const getStatusText=status=>{switch(status){case'completed':return'مكتمل';case'in_progress':return'قيد التنفيذ';case'unlocked':return'متاح';default:return'مقفل';}};const navigateToExam=direction=>{if(allExams.length===0)return;let newIndex;if(direction==='prev'){newIndex=currentExamIndex>0?currentExamIndex-1:allExams.length-1;}else{newIndex=currentExamIndex<allExams.length-1?currentExamIndex+1:0;}setCurrentExamIndex(newIndex);const newExam=allExams[newIndex];// Trigger a custom event to update the parent component\nwindow.dispatchEvent(new CustomEvent('examChanged',{detail:{examId:newExam._id,examTitle:newExam.title}}));};const getCurrentExam=()=>{return allExams.length>0?allExams[currentExamIndex]:null;};const selectExam=examIndex=>{setCurrentExamIndex(examIndex);const exam=allExams[examIndex];setShowExamSelector(false);// Trigger a custom event to update the parent component\nwindow.dispatchEvent(new CustomEvent('examChanged',{detail:{examId:exam._id,examTitle:exam.title}}));};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-indigo-900/20 backdrop-blur-sm flex items-center justify-center z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/95 backdrop-blur-md rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl border border-white/20\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-4 border-blue-200\"}),/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent absolute top-0 left-0\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-2\",children:\"\\u062C\\u0627\\u0631\\u064A \\u0627\\u0644\\u062A\\u062D\\u0645\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"\\u0646\\u062D\\u0636\\u0631 \\u0625\\u062C\\u0627\\u0628\\u0629 \\u0627\\u0644\\u0637\\u0627\\u0644\\u0628 \\u0644\\u0643...\"})]})]})})});}if(!submission){return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-indigo-900/20 backdrop-blur-sm flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/95 backdrop-blur-md rounded-3xl shadow-2xl border border-white/20 max-w-md w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto w-20 h-20 bg-gradient-to-r from-red-100 to-orange-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(AlertCircle,{className:\"w-10 h-10 text-red-500\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute -top-2 -right-2 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4 text-white\"})})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-900 mb-3\",children:\"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0625\\u062C\\u0627\\u0628\\u0629\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6 leading-relaxed\",children:\"\\u0627\\u0644\\u0637\\u0627\\u0644\\u0628 \\u0644\\u0645 \\u064A\\u062D\\u0627\\u0648\\u0644 \\u0647\\u0630\\u0627 \\u0627\\u0644\\u0627\\u0645\\u062A\\u062D\\u0627\\u0646 \\u0628\\u0639\\u062F\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"px-8 py-3 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-xl hover:from-gray-700 hover:to-gray-800 transition-all duration-200 shadow-lg hover:shadow-xl font-medium\",children:\"\\u0625\\u063A\\u0644\\u0627\\u0642\"})]})})});}const{exam,status,score,totalQuestions,percentage,answers,startTime,endTime}=submission;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-indigo-900/20 backdrop-blur-sm flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/95 backdrop-blur-md rounded-3xl shadow-2xl border border-white/20 max-w-7xl w-full max-h-[95vh] overflow-hidden flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 p-6 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 rtl:space-x-reverse mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-white/20 rounded-xl backdrop-blur-sm\",children:/*#__PURE__*/_jsx(BookOpen,{className:\"w-6 h-6\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold\",children:\"\\u0625\\u062C\\u0627\\u0628\\u0629 \\u0627\\u0644\\u0637\\u0627\\u0644\\u0628 \\u0641\\u064A \\u0627\\u0644\\u0627\\u0645\\u062A\\u062D\\u0627\\u0646\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-100 mt-1\",children:examTitle})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 rtl:space-x-reverse mt-3\",children:[/*#__PURE__*/_jsx(User,{className:\"w-4 h-4 text-blue-200\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-100 font-medium\",children:studentName})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 rtl:space-x-reverse\",children:[allExams.length>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 rtl:space-x-reverse bg-white/20 rounded-xl p-1 backdrop-blur-sm\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateToExam('prev'),className:\"p-2 hover:bg-white/30 rounded-lg transition-all duration-200\",title:\"\\u0627\\u0644\\u0627\\u0645\\u062A\\u062D\\u0627\\u0646 \\u0627\\u0644\\u0633\\u0627\\u0628\\u0642\",children:/*#__PURE__*/_jsx(ChevronLeft,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative exam-selector\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowExamSelector(!showExamSelector),className:\"flex items-center space-x-2 rtl:space-x-reverse px-3 py-1 text-sm font-medium text-white hover:bg-white/30 rounded-lg transition-all duration-200\",title:\"\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631 \\u0627\\u0645\\u062A\\u062D\\u0627\\u0646\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[currentExamIndex+1,\" / \",allExams.length]}),/*#__PURE__*/_jsx(ChevronDown,{className:\"w-3 h-3\"})]}),showExamSelector&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full left-0 mt-2 w-64 bg-white rounded-xl shadow-2xl border border-gray-200 z-50 max-h-60 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-semibold text-gray-500 px-3 py-2 border-b border-gray-100\",children:\"\\u0627\\u062E\\u062A\\u0631 \\u0627\\u0644\\u0627\\u0645\\u062A\\u062D\\u0627\\u0646\"}),allExams.map((exam,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>selectExam(index),className:\"w-full text-right px-3 py-2 text-sm rounded-lg transition-all duration-200 \".concat(index===currentExamIndex?'bg-blue-100 text-blue-800 font-semibold':'text-gray-700 hover:bg-gray-100'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[\"#\",index+1]}),/*#__PURE__*/_jsx(\"span\",{className:\"truncate\",children:exam.title})]})},exam._id))]})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateToExam('next'),className:\"p-2 hover:bg-white/30 rounded-lg transition-all duration-200\",title:\"\\u0627\\u0644\\u0627\\u0645\\u062A\\u062D\\u0627\\u0646 \\u0627\\u0644\\u062A\\u0627\\u0644\\u064A\",children:/*#__PURE__*/_jsx(ChevronRight,{className:\"w-4 h-4\"})})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAnswers(!showAnswers),className:\"flex items-center px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 backdrop-blur-sm \".concat(showAnswers?'bg-green-500/80 text-white hover:bg-green-500 shadow-lg':'bg-white/20 text-white hover:bg-white/30'),children:[showAnswers?/*#__PURE__*/_jsx(EyeOff,{className:\"w-4 h-4 ml-2\"}):/*#__PURE__*/_jsx(Eye,{className:\"w-4 h-4 ml-2\"}),showAnswers?'إخفاء الإجابات':'إظهار الإجابات']}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"p-3 bg-white/20 hover:bg-white/30 rounded-xl transition-all duration-200 backdrop-blur-sm\",children:/*#__PURE__*/_jsx(X,{className:\"w-5 h-5\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6 bg-gradient-to-r from-gray-50 to-blue-50/50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-2xl p-4 shadow-lg border border-blue-100 hover:shadow-xl transition-all duration-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 rtl:space-x-reverse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-blue-100 rounded-xl\",children:/*#__PURE__*/_jsx(BookOpen,{className:\"w-6 h-6 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 font-medium\",children:\"\\u0627\\u0644\\u0645\\u062C\\u0645\\u0648\\u0639\\u0629\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-gray-900\",children:getGroupName(exam.examGroup)})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-2xl p-4 shadow-lg border border-green-100 hover:shadow-xl transition-all duration-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 rtl:space-x-reverse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-green-100 rounded-xl\",children:/*#__PURE__*/_jsx(Target,{className:\"w-6 h-6 text-green-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 font-medium\",children:\"\\u0627\\u0644\\u062F\\u0631\\u062C\\u0629\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold text-gray-900\",children:[score,\"/\",totalQuestions]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-2xl p-4 shadow-lg border border-purple-100 hover:shadow-xl transition-all duration-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 rtl:space-x-reverse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-purple-100 rounded-xl\",children:/*#__PURE__*/_jsx(Award,{className:\"w-6 h-6 text-purple-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 font-medium\",children:\"\\u0627\\u0644\\u0646\\u0633\\u0628\\u0629 \\u0627\\u0644\\u0645\\u0626\\u0648\\u064A\\u0629\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold text-gray-900\",children:[percentage.toFixed(2),\"%\"]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-2xl p-4 shadow-lg border border-orange-100 hover:shadow-xl transition-all duration-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 rtl:space-x-reverse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-orange-100 rounded-xl\",children:/*#__PURE__*/_jsx(Zap,{className:\"w-6 h-6 text-orange-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 font-medium\",children:\"\\u0627\\u0644\\u062D\\u0627\\u0644\\u0629\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-gray-900\",children:getStatusText(status)})]})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 rtl:space-x-reverse mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl\",children:/*#__PURE__*/_jsx(Star,{className:\"w-5 h-5 text-white\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-900\",children:\"\\u0627\\u0644\\u0623\\u0633\\u0626\\u0644\\u0629 \\u0648\\u0627\\u0644\\u0625\\u062C\\u0627\\u0628\\u0627\\u062A\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-8\",children:exam.questions.map((question,index)=>{const answer=answers.find(a=>a.questionId.toString()===question._id.toString());const studentAnswer=answer?answer.selectedAnswer:null;const answerStatus=getAnswerStatus(question,studentAnswer);const StatusIcon=answerStatus.icon;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-300\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-gray-50 to-blue-50/50 p-6 border-b border-gray-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 rtl:space-x-reverse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-xl \".concat(answerStatus.bgColor),children:/*#__PURE__*/_jsx(StatusIcon,{className:\"w-6 h-6 \".concat(answerStatus.color)})}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xl font-bold text-gray-900\",children:[\"\\u0627\\u0644\\u0633\\u0624\\u0627\\u0644 \",index+1]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"px-4 py-2 rounded-full text-sm font-bold \".concat(answerStatus.bgColor,\" \").concat(answerStatus.color),children:answerStatus.status==='correct'?'صحيح':answerStatus.status==='wrong'?'خطأ':'لم يُجِب'})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative overflow-hidden rounded-xl border-2 border-gray-200 bg-gray-50\",children:[/*#__PURE__*/_jsx(\"img\",{src:question.questionImage,alt:\"\\u0633\\u0624\\u0627\\u0644 \".concat(index+1),className:\"w-full h-auto max-h-[600px] object-contain hover:scale-[1.02] transition-transform duration-300\",style:{minHeight:'300px'}}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent pointer-events-none\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-gray-50 to-blue-50/30 rounded-xl p-6 border border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 rtl:space-x-reverse mb-4\",children:[/*#__PURE__*/_jsx(User,{className:\"w-5 h-5 text-gray-600\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-bold text-gray-900\",children:\"\\u0625\\u062C\\u0627\\u0628\\u0629 \\u0627\\u0644\\u0637\\u0627\\u0644\\u0628\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"inline-flex items-center px-6 py-3 rounded-xl font-bold text-xl \".concat(answerStatus.status==='correct'?'bg-green-100 text-green-800 border-2 border-green-200':answerStatus.status==='wrong'?'bg-red-100 text-red-800 border-2 border-red-200':'bg-yellow-100 text-yellow-800 border-2 border-yellow-200'),children:studentAnswer?getAnswerLabel(studentAnswer):'لم يُجِب'})]}),showAnswers&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-green-50 to-emerald-50/30 rounded-xl p-6 border border-green-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 rtl:space-x-reverse mb-4\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-5 h-5 text-green-600\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-bold text-green-900\",children:\"\\u0627\\u0644\\u0625\\u062C\\u0627\\u0628\\u0629 \\u0627\\u0644\\u0635\\u062D\\u064A\\u062D\\u0629\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"inline-flex items-center px-6 py-3 rounded-xl font-bold text-xl bg-green-100 text-green-800 border-2 border-green-200\",children:getAnswerLabel(question.correctAnswer)})]})]}),question.explanation&&showAnswers&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 bg-gradient-to-r from-blue-50 to-indigo-50/30 border-t border-blue-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 rtl:space-x-reverse mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-blue-100 rounded-lg\",children:/*#__PURE__*/_jsx(BookOpen,{className:\"w-5 h-5 text-blue-600\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-bold text-blue-900\",children:\"\\u0627\\u0644\\u062A\\u0641\\u0633\\u064A\\u0631\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-800 leading-relaxed text-lg\",children:question.explanation})]})]},question._id);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-gray-50 to-blue-50/50 p-6 border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-6 rtl:md:space-x-reverse\",children:[startTime&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 rtl:space-x-reverse text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-4 h-4 text-blue-500\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0628\\u062F\\u0627\\u064A\\u0629: \",new Date(startTime).toLocaleString('en-US')]})]}),endTime&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 rtl:space-x-reverse text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-4 h-4 text-green-500\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0627\\u0646\\u062A\\u0647\\u0627\\u0621: \",new Date(endTime).toLocaleString('en-US')]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"px-8 py-3 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-xl hover:from-gray-700 hover:to-gray-800 transition-all duration-200 shadow-lg hover:shadow-xl font-medium\",children:\"\\u0625\\u063A\\u0644\\u0627\\u0642\"})]})})]})});};export default StudentExamSubmission;","map":{"version":3,"names":["React","useState","useEffect","axios","toast","X","Eye","EyeOff","CheckCircle","XCircle","AlertCircle","BookOpen","Clock","TrendingUp","User","Award","Target","Zap","Star","ChevronLeft","ChevronRight","List","ChevronDown","jsx","_jsx","jsxs","_jsxs","StudentExamSubmission","_ref","studentId","studentName","examId","examTitle","onClose","allExams","submission","setSubmission","loading","setLoading","showAnswers","setShowAnswers","currentExamIndex","setCurrentExamIndex","showExamSelector","setShowExamSelector","fetchSubmission","length","index","findIndex","exam","_id","handleClickOutside","event","target","closest","document","addEventListener","removeEventListener","response","get","concat","headers","localStorage","getItem","data","error","console","getAnswerStatus","question","studentAnswer","trim","status","icon","color","bgColor","correctAnswer","getAnswerLabel","answer","labels","getGroupName","examGroup","getStatusColor","getStatusText","navigateToExam","direction","newIndex","newExam","window","dispatchEvent","CustomEvent","detail","title","getCurrentExam","selectExam","examIndex","className","children","onClick","score","totalQuestions","percentage","answers","startTime","endTime","map","toFixed","questions","find","a","questionId","toString","selectedAnswer","answerStatus","StatusIcon","src","questionImage","alt","style","minHeight","explanation","Date","toLocaleString"],"sources":["M:/Qudrat/client/src/components/Exam/StudentExamSubmission.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport toast from 'react-hot-toast';\r\nimport { X, Eye, EyeOff, CheckCircle, XCircle, AlertCircle, BookOpen, Clock, TrendingUp, User, Award, Target, Zap, Star, ChevronLeft, ChevronRight, List, ChevronDown } from 'lucide-react';\r\n\r\nconst StudentExamSubmission = ({ studentId, studentName, examId, examTitle, onClose, allExams = [] }) => {\r\n  const [submission, setSubmission] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showAnswers, setShowAnswers] = useState(false);\r\n  const [currentExamIndex, setCurrentExamIndex] = useState(0);\r\n  const [showExamSelector, setShowExamSelector] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchSubmission();\r\n  }, [studentId, examId]);\r\n\r\n  useEffect(() => {\r\n    // Find the current exam index when examId changes\r\n    if (allExams.length > 0) {\r\n      const index = allExams.findIndex(exam => exam._id === examId);\r\n      if (index !== -1) {\r\n        setCurrentExamIndex(index);\r\n      }\r\n    }\r\n  }, [examId, allExams]);\r\n\r\n  // Close dropdown when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (showExamSelector && !event.target.closest('.exam-selector')) {\r\n        setShowExamSelector(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, [showExamSelector]);\r\n\r\n  const fetchSubmission = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await axios.get(`/api/exams/${examId}/student-submission/${studentId}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      setSubmission(response.data.data);\r\n    } catch (error) {\r\n      console.error('Error fetching submission:', error);\r\n      toast.error('حدث خطأ أثناء تحميل إجابة الطالب');\r\n      setSubmission(null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getAnswerStatus = (question, studentAnswer) => {\r\n    if (!studentAnswer || studentAnswer.trim() === '') {\r\n      return { status: 'unanswered', icon: AlertCircle, color: 'text-yellow-600', bgColor: 'bg-yellow-100' };\r\n    } else if (studentAnswer === question.correctAnswer) {\r\n      return { status: 'correct', icon: CheckCircle, color: 'text-green-600', bgColor: 'bg-green-100' };\r\n    } else {\r\n      return { status: 'wrong', icon: XCircle, color: 'text-red-600', bgColor: 'bg-red-100' };\r\n    }\r\n  };\r\n\r\n  const getAnswerLabel = (answer) => {\r\n    const labels = { 'A': 'أ', 'B': 'ب', 'C': 'ج', 'D': 'د' };\r\n    return labels[answer] || answer;\r\n  };\r\n\r\n  const getGroupName = (examGroup) => {\r\n    return examGroup === 0 ? 'اختبارات التأسيس' : `المجموعة ${examGroup}`;\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'completed': return 'bg-green-100 text-green-800';\r\n      case 'in_progress': return 'bg-yellow-100 text-yellow-800';\r\n      case 'unlocked': return 'bg-blue-100 text-blue-800';\r\n      default: return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  const getStatusText = (status) => {\r\n    switch (status) {\r\n      case 'completed': return 'مكتمل';\r\n      case 'in_progress': return 'قيد التنفيذ';\r\n      case 'unlocked': return 'متاح';\r\n      default: return 'مقفل';\r\n    }\r\n  };\r\n\r\n  const navigateToExam = (direction) => {\r\n    if (allExams.length === 0) return;\r\n    \r\n    let newIndex;\r\n    if (direction === 'prev') {\r\n      newIndex = currentExamIndex > 0 ? currentExamIndex - 1 : allExams.length - 1;\r\n    } else {\r\n      newIndex = currentExamIndex < allExams.length - 1 ? currentExamIndex + 1 : 0;\r\n    }\r\n    \r\n    setCurrentExamIndex(newIndex);\r\n    const newExam = allExams[newIndex];\r\n    \r\n    // Trigger a custom event to update the parent component\r\n    window.dispatchEvent(new CustomEvent('examChanged', { \r\n      detail: { examId: newExam._id, examTitle: newExam.title } \r\n    }));\r\n  };\r\n\r\n  const getCurrentExam = () => {\r\n    return allExams.length > 0 ? allExams[currentExamIndex] : null;\r\n  };\r\n\r\n  const selectExam = (examIndex) => {\r\n    setCurrentExamIndex(examIndex);\r\n    const exam = allExams[examIndex];\r\n    setShowExamSelector(false);\r\n    \r\n    // Trigger a custom event to update the parent component\r\n    window.dispatchEvent(new CustomEvent('examChanged', { \r\n      detail: { examId: exam._id, examTitle: exam.title } \r\n    }));\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"fixed inset-0 bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-indigo-900/20 backdrop-blur-sm flex items-center justify-center z-50\">\r\n        <div className=\"bg-white/95 backdrop-blur-md rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl border border-white/20\">\r\n          <div className=\"flex flex-col items-center space-y-4\">\r\n            <div className=\"relative\">\r\n              <div className=\"animate-spin rounded-full h-12 w-12 border-4 border-blue-200\"></div>\r\n              <div className=\"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent absolute top-0 left-0\"></div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">جاري التحميل</h3>\r\n              <p className=\"text-sm text-gray-600\">نحضر إجابة الطالب لك...</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!submission) {\r\n    return (\r\n      <div className=\"fixed inset-0 bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-indigo-900/20 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n        <div className=\"bg-white/95 backdrop-blur-md rounded-3xl shadow-2xl border border-white/20 max-w-md w-full\">\r\n          <div className=\"p-8 text-center\">\r\n            <div className=\"relative mb-6\">\r\n              <div className=\"mx-auto w-20 h-20 bg-gradient-to-r from-red-100 to-orange-100 rounded-full flex items-center justify-center\">\r\n                <AlertCircle className=\"w-10 h-10 text-red-500\" />\r\n              </div>\r\n              <div className=\"absolute -top-2 -right-2 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center\">\r\n                <X className=\"w-4 h-4 text-white\" />\r\n              </div>\r\n            </div>\r\n            <h3 className=\"text-2xl font-bold text-gray-900 mb-3\">لا توجد إجابة</h3>\r\n            <p className=\"text-gray-600 mb-6 leading-relaxed\">الطالب لم يحاول هذا الامتحان بعد</p>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"px-8 py-3 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-xl hover:from-gray-700 hover:to-gray-800 transition-all duration-200 shadow-lg hover:shadow-xl font-medium\"\r\n            >\r\n              إغلاق\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const { exam, status, score, totalQuestions, percentage, answers, startTime, endTime } = submission;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-indigo-900/20 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white/95 backdrop-blur-md rounded-3xl shadow-2xl border border-white/20 max-w-7xl w-full max-h-[95vh] overflow-hidden flex flex-col\">\r\n        {/* Header */}\r\n        <div className=\"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 p-6 text-white\">\r\n          <div className=\"flex justify-between items-start\">\r\n            <div className=\"flex-1\">\r\n              <div className=\"flex items-center space-x-3 rtl:space-x-reverse mb-2\">\r\n                <div className=\"p-2 bg-white/20 rounded-xl backdrop-blur-sm\">\r\n                  <BookOpen className=\"w-6 h-6\" />\r\n                </div>\r\n                <div>\r\n                  <h2 className=\"text-2xl font-bold\">إجابة الطالب في الامتحان</h2>\r\n                  <p className=\"text-blue-100 mt-1\">{examTitle}</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center space-x-2 rtl:space-x-reverse mt-3\">\r\n                <User className=\"w-4 h-4 text-blue-200\" />\r\n                <span className=\"text-blue-100 font-medium\">{studentName}</span>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex items-center space-x-3 rtl:space-x-reverse\">\r\n              {/* Navigation Controls */}\r\n              {allExams.length > 1 && (\r\n                <div className=\"flex items-center space-x-2 rtl:space-x-reverse bg-white/20 rounded-xl p-1 backdrop-blur-sm\">\r\n                  <button\r\n                    onClick={() => navigateToExam('prev')}\r\n                    className=\"p-2 hover:bg-white/30 rounded-lg transition-all duration-200\"\r\n                    title=\"الامتحان السابق\"\r\n                  >\r\n                    <ChevronLeft className=\"w-4 h-4\" />\r\n                  </button>\r\n                  \r\n                  {/* Exam Selector Dropdown */}\r\n                  <div className=\"relative exam-selector\">\r\n                    <button\r\n                      onClick={() => setShowExamSelector(!showExamSelector)}\r\n                      className=\"flex items-center space-x-2 rtl:space-x-reverse px-3 py-1 text-sm font-medium text-white hover:bg-white/30 rounded-lg transition-all duration-200\"\r\n                      title=\"اختيار امتحان\"\r\n                    >\r\n                      <span>{currentExamIndex + 1} / {allExams.length}</span>\r\n                      <ChevronDown className=\"w-3 h-3\" />\r\n                    </button>\r\n                    \r\n                    {showExamSelector && (\r\n                      <div className=\"absolute top-full left-0 mt-2 w-64 bg-white rounded-xl shadow-2xl border border-gray-200 z-50 max-h-60 overflow-y-auto\">\r\n                        <div className=\"p-2\">\r\n                          <div className=\"text-xs font-semibold text-gray-500 px-3 py-2 border-b border-gray-100\">\r\n                            اختر الامتحان\r\n                          </div>\r\n                          {allExams.map((exam, index) => (\r\n                            <button\r\n                              key={exam._id}\r\n                              onClick={() => selectExam(index)}\r\n                              className={`w-full text-right px-3 py-2 text-sm rounded-lg transition-all duration-200 ${\r\n                                index === currentExamIndex\r\n                                  ? 'bg-blue-100 text-blue-800 font-semibold'\r\n                                  : 'text-gray-700 hover:bg-gray-100'\r\n                              }`}\r\n                            >\r\n                              <div className=\"flex items-center justify-between\">\r\n                                <span className=\"text-xs text-gray-500\">#{index + 1}</span>\r\n                                <span className=\"truncate\">{exam.title}</span>\r\n                              </div>\r\n                            </button>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  <button\r\n                    onClick={() => navigateToExam('next')}\r\n                    className=\"p-2 hover:bg-white/30 rounded-lg transition-all duration-200\"\r\n                    title=\"الامتحان التالي\"\r\n                  >\r\n                    <ChevronRight className=\"w-4 h-4\" />\r\n                  </button>\r\n                </div>\r\n              )}\r\n              \r\n              <button\r\n                onClick={() => setShowAnswers(!showAnswers)}\r\n                className={`flex items-center px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 backdrop-blur-sm ${\r\n                  showAnswers \r\n                    ? 'bg-green-500/80 text-white hover:bg-green-500 shadow-lg' \r\n                    : 'bg-white/20 text-white hover:bg-white/30'\r\n                }`}\r\n              >\r\n                {showAnswers ? <EyeOff className=\"w-4 h-4 ml-2\" /> : <Eye className=\"w-4 h-4 ml-2\" />}\r\n                {showAnswers ? 'إخفاء الإجابات' : 'إظهار الإجابات'}\r\n              </button>\r\n              <button\r\n                onClick={onClose}\r\n                className=\"p-3 bg-white/20 hover:bg-white/30 rounded-xl transition-all duration-200 backdrop-blur-sm\"\r\n              >\r\n                <X className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Exam Info */}\r\n        <div className=\"p-6 bg-gradient-to-r from-gray-50 to-blue-50/50\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n            <div className=\"bg-white rounded-2xl p-4 shadow-lg border border-blue-100 hover:shadow-xl transition-all duration-200\">\r\n              <div className=\"flex items-center space-x-3 rtl:space-x-reverse\">\r\n                <div className=\"p-3 bg-blue-100 rounded-xl\">\r\n                  <BookOpen className=\"w-6 h-6 text-blue-600\" />\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-sm text-gray-600 font-medium\">المجموعة</div>\r\n                  <div className=\"text-lg font-bold text-gray-900\">{getGroupName(exam.examGroup)}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"bg-white rounded-2xl p-4 shadow-lg border border-green-100 hover:shadow-xl transition-all duration-200\">\r\n              <div className=\"flex items-center space-x-3 rtl:space-x-reverse\">\r\n                <div className=\"p-3 bg-green-100 rounded-xl\">\r\n                  <Target className=\"w-6 h-6 text-green-600\" />\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-sm text-gray-600 font-medium\">الدرجة</div>\r\n                  <div className=\"text-lg font-bold text-gray-900\">{score}/{totalQuestions}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"bg-white rounded-2xl p-4 shadow-lg border border-purple-100 hover:shadow-xl transition-all duration-200\">\r\n              <div className=\"flex items-center space-x-3 rtl:space-x-reverse\">\r\n                <div className=\"p-3 bg-purple-100 rounded-xl\">\r\n                  <Award className=\"w-6 h-6 text-purple-600\" />\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-sm text-gray-600 font-medium\">النسبة المئوية</div>\r\n                  <div className=\"text-lg font-bold text-gray-900\">{percentage.toFixed(2)}%</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"bg-white rounded-2xl p-4 shadow-lg border border-orange-100 hover:shadow-xl transition-all duration-200\">\r\n              <div className=\"flex items-center space-x-3 rtl:space-x-reverse\">\r\n                <div className=\"p-3 bg-orange-100 rounded-xl\">\r\n                  <Zap className=\"w-6 h-6 text-orange-600\" />\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-sm text-gray-600 font-medium\">الحالة</div>\r\n                  <div className=\"text-lg font-bold text-gray-900\">{getStatusText(status)}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Questions */}\r\n        <div className=\"flex-1 overflow-y-auto p-6\">\r\n          <div className=\"flex items-center space-x-3 rtl:space-x-reverse mb-6\">\r\n            <div className=\"p-2 bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl\">\r\n              <Star className=\"w-5 h-5 text-white\" />\r\n            </div>\r\n            <h3 className=\"text-xl font-bold text-gray-900\">الأسئلة والإجابات</h3>\r\n          </div>\r\n          \r\n          <div className=\"space-y-8\">\r\n            {exam.questions.map((question, index) => {\r\n              const answer = answers.find(a => a.questionId.toString() === question._id.toString());\r\n              const studentAnswer = answer ? answer.selectedAnswer : null;\r\n              const answerStatus = getAnswerStatus(question, studentAnswer);\r\n              const StatusIcon = answerStatus.icon;\r\n\r\n              return (\r\n                <div key={question._id} className=\"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-300\">\r\n                  {/* Question Header */}\r\n                  <div className=\"bg-gradient-to-r from-gray-50 to-blue-50/50 p-6 border-b border-gray-100\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"flex items-center space-x-3 rtl:space-x-reverse\">\r\n                        <div className={`p-3 rounded-xl ${answerStatus.bgColor}`}>\r\n                          <StatusIcon className={`w-6 h-6 ${answerStatus.color}`} />\r\n                        </div>\r\n                        <span className=\"text-xl font-bold text-gray-900\">\r\n                          السؤال {index + 1}\r\n                        </span>\r\n                      </div>\r\n                      <span className={`px-4 py-2 rounded-full text-sm font-bold ${answerStatus.bgColor} ${answerStatus.color}`}>\r\n                        {answerStatus.status === 'correct' ? 'صحيح' : \r\n                         answerStatus.status === 'wrong' ? 'خطأ' : 'لم يُجِب'}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Question Image - Full Width and Larger */}\r\n                  <div className=\"p-6\">\r\n                    <div className=\"relative overflow-hidden rounded-xl border-2 border-gray-200 bg-gray-50\">\r\n                      <img\r\n                        src={question.questionImage}\r\n                        alt={`سؤال ${index + 1}`}\r\n                        className=\"w-full h-auto max-h-[600px] object-contain hover:scale-[1.02] transition-transform duration-300\"\r\n                        style={{ minHeight: '300px' }}\r\n                      />\r\n                      <div className=\"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent pointer-events-none\"></div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Answers */}\r\n                  <div className=\"p-6 space-y-6\">\r\n                    {/* Student Answer */}\r\n                    <div className=\"bg-gradient-to-r from-gray-50 to-blue-50/30 rounded-xl p-6 border border-gray-200\">\r\n                      <div className=\"flex items-center space-x-3 rtl:space-x-reverse mb-4\">\r\n                        <User className=\"w-5 h-5 text-gray-600\" />\r\n                        <h4 className=\"text-lg font-bold text-gray-900\">إجابة الطالب</h4>\r\n                      </div>\r\n                      <div className={`inline-flex items-center px-6 py-3 rounded-xl font-bold text-xl ${\r\n                        answerStatus.status === 'correct' \r\n                          ? 'bg-green-100 text-green-800 border-2 border-green-200'\r\n                          : answerStatus.status === 'wrong'\r\n                          ? 'bg-red-100 text-red-800 border-2 border-red-200'\r\n                          : 'bg-yellow-100 text-yellow-800 border-2 border-yellow-200'\r\n                      }`}>\r\n                        {studentAnswer ? getAnswerLabel(studentAnswer) : 'لم يُجِب'}\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Correct Answer (if showAnswers is true) */}\r\n                    {showAnswers && (\r\n                      <div className=\"bg-gradient-to-r from-green-50 to-emerald-50/30 rounded-xl p-6 border border-green-200\">\r\n                        <div className=\"flex items-center space-x-3 rtl:space-x-reverse mb-4\">\r\n                          <CheckCircle className=\"w-5 h-5 text-green-600\" />\r\n                          <h4 className=\"text-lg font-bold text-green-900\">الإجابة الصحيحة</h4>\r\n                        </div>\r\n                        <div className=\"inline-flex items-center px-6 py-3 rounded-xl font-bold text-xl bg-green-100 text-green-800 border-2 border-green-200\">\r\n                          {getAnswerLabel(question.correctAnswer)}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Explanation */}\r\n                  {question.explanation && showAnswers && (\r\n                    <div className=\"p-6 bg-gradient-to-r from-blue-50 to-indigo-50/30 border-t border-blue-100\">\r\n                      <div className=\"flex items-center space-x-3 rtl:space-x-reverse mb-4\">\r\n                        <div className=\"p-2 bg-blue-100 rounded-lg\">\r\n                          <BookOpen className=\"w-5 h-5 text-blue-600\" />\r\n                        </div>\r\n                        <h4 className=\"text-lg font-bold text-blue-900\">التفسير</h4>\r\n                      </div>\r\n                      <p className=\"text-blue-800 leading-relaxed text-lg\">{question.explanation}</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"bg-gradient-to-r from-gray-50 to-blue-50/50 p-6 border-t border-gray-200\">\r\n          <div className=\"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0\">\r\n            <div className=\"flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-6 rtl:md:space-x-reverse\">\r\n              {startTime && (\r\n                <div className=\"flex items-center space-x-2 rtl:space-x-reverse text-sm text-gray-600\">\r\n                  <Clock className=\"w-4 h-4 text-blue-500\" />\r\n                  <span>وقت البداية: {new Date(startTime).toLocaleString('en-US')}</span>\r\n                </div>\r\n              )}\r\n              {endTime && (\r\n                <div className=\"flex items-center space-x-2 rtl:space-x-reverse text-sm text-gray-600\">\r\n                  <Clock className=\"w-4 h-4 text-green-500\" />\r\n                  <span>وقت الانتهاء: {new Date(endTime).toLocaleString('en-US')}</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"px-8 py-3 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-xl hover:from-gray-700 hover:to-gray-800 transition-all duration-200 shadow-lg hover:shadow-xl font-medium\"\r\n            >\r\n              إغلاق\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StudentExamSubmission;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}