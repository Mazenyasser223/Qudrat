{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import axios from'axios';import toast from'react-hot-toast';import{ArrowLeft,CheckCircle,XCircle,Clock,Calendar,TrendingUp,BookOpen,AlertCircle}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ExamHistory=()=>{const{examId}=useParams();const navigate=useNavigate();const[exam,setExam]=useState(null);const[studentSubmission,setStudentSubmission]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{fetchExamHistory();},[examId]);const fetchExamHistory=async()=>{try{setLoading(true);// Fetch exam details\nconst examRes=await axios.get(\"/api/exams/\".concat(examId),{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});setExam(examRes.data.data);// Fetch student submission\nconst submissionRes=await axios.get(\"/api/exams/\".concat(examId,\"/student-submission\"),{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});setStudentSubmission(submissionRes.data.data);}catch(error){console.error('Error fetching exam history:',error);toast.error('حدث خطأ أثناء تحميل تفاصيل الامتحان');navigate('/student');}finally{setLoading(false);}};const getAnswerStatus=questionIndex=>{if(!studentSubmission||!studentSubmission.answers)return'unanswered';const answer=studentSubmission.answers[questionIndex];if(!answer||!answer.selectedAnswer||answer.selectedAnswer.trim()===''){return'unanswered';}const question=exam.questions[questionIndex];if(answer.selectedAnswer===question.correctAnswer){return'correct';}else{return'wrong';}};const getAnswerIcon=status=>{switch(status){case'correct':return/*#__PURE__*/_jsx(CheckCircle,{className:\"h-5 w-5 text-green-600\"});case'wrong':return/*#__PURE__*/_jsx(XCircle,{className:\"h-5 w-5 text-red-600\"});default:return/*#__PURE__*/_jsx(AlertCircle,{className:\"h-5 w-5 text-gray-400\"});}};const getAnswerColor=status=>{switch(status){case'correct':return'bg-green-50 border-green-200';case'wrong':return'bg-red-50 border-red-200';default:return'bg-gray-50 border-gray-200';}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})});}if(!exam||!studentSubmission){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-4\",children:\"\\u0644\\u0645 \\u064A\\u062A\\u0645 \\u0627\\u0644\\u0639\\u062B\\u0648\\u0631 \\u0639\\u0644\\u0649 \\u062A\\u0641\\u0627\\u0635\\u064A\\u0644 \\u0627\\u0644\\u0627\\u0645\\u062A\\u062D\\u0627\\u0646\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/student'),className:\"btn-primary\",children:\"\\u0627\\u0644\\u0639\\u0648\\u062F\\u0629 \\u0644\\u0644\\u0648\\u062D\\u0629 \\u0627\\u0644\\u062A\\u062D\\u0643\\u0645\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 rtl:space-x-reverse\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/student'),className:\"flex items-center space-x-2 rtl:space-x-reverse text-gray-600 hover:text-gray-800 transition-colors\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0627\\u0644\\u0639\\u0648\\u062F\\u0629\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-2xl font-bold text-gray-900 flex items-center space-x-2 rtl:space-x-reverse\",children:[/*#__PURE__*/_jsx(BookOpen,{className:\"h-6 w-6 text-blue-600\"}),/*#__PURE__*/_jsx(\"span\",{children:exam.title})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[exam.examGroup===0?'اختبارات التأسيس':\"\\u0627\\u0644\\u0645\\u062C\\u0645\\u0648\\u0639\\u0629 \".concat(exam.examGroup),\" \\u2022 \\u0627\\u0645\\u062A\\u062D\\u0627\\u0646 \",exam.order]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-3xl font-bold \".concat(studentSubmission.percentage>=80?'text-green-600':studentSubmission.percentage>=60?'text-blue-600':'text-orange-600'),children:[studentSubmission.percentage.toFixed(2),\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"\\u0627\\u0644\\u0646\\u062A\\u064A\\u062C\\u0629 \\u0627\\u0644\\u0646\\u0647\\u0627\\u0626\\u064A\\u0629\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644 \\u0627\\u0644\\u0627\\u0645\\u062A\\u062D\\u0627\\u0646\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 rtl:space-x-reverse\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-4 w-4 text-gray-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"\\u062A\\u0627\\u0631\\u064A\\u062E \\u0627\\u0644\\u0625\\u0643\\u0645\\u0627\\u0644:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:studentSubmission.completedAt?new Date(studentSubmission.completedAt).toLocaleDateString('en-GB'):'غير محدد'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 rtl:space-x-reverse\",children:[/*#__PURE__*/_jsx(Clock,{className:\"h-4 w-4 text-gray-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0625\\u0631\\u0633\\u0627\\u0644:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:(studentSubmission.submittedAt||studentSubmission.completedAt)&&!isNaN(new Date(studentSubmission.submittedAt||studentSubmission.completedAt).getTime())?new Date(studentSubmission.submittedAt||studentSubmission.completedAt).toLocaleTimeString('en-US',{hour:'2-digit',minute:'2-digit',hour12:true}):'غير محدد'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 rtl:space-x-reverse\",children:[/*#__PURE__*/_jsx(Clock,{className:\"h-4 w-4 text-gray-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"\\u0627\\u0644\\u0648\\u0642\\u062A \\u0627\\u0644\\u0645\\u0633\\u062A\\u063A\\u0631\\u0642:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:(()=>{// Debug: log the time values\nconsole.log('Time Debug:',{timeSpent:studentSubmission.timeSpent,timeTaken:studentSubmission.timeTaken,typeTimeSpent:typeof studentSubmission.timeSpent,typeTimeTaken:typeof studentSubmission.timeTaken});// Check timeSpent first\nif(studentSubmission.timeSpent&&studentSubmission.timeSpent>0){const minutes=Math.floor(studentSubmission.timeSpent/60);const seconds=studentSubmission.timeSpent%60;return\"\".concat(minutes,\":\").concat(seconds.toString().padStart(2,'0'));}// Check timeTaken as fallback\nif(studentSubmission.timeTaken&&studentSubmission.timeTaken>0){const minutes=Math.floor(studentSubmission.timeTaken/60);const seconds=studentSubmission.timeTaken%60;return\"\".concat(minutes,\":\").concat(seconds.toString().padStart(2,'0'));}// If no time data, show \"غير محدد\"\nreturn'غير محدد';})()})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 rtl:space-x-reverse\",children:[/*#__PURE__*/_jsx(BookOpen,{className:\"h-4 w-4 text-gray-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0623\\u0633\\u0626\\u0644\\u0629:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:exam.totalQuestions})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 rtl:space-x-reverse\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"h-4 w-4 text-gray-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"\\u0627\\u0644\\u062F\\u0631\\u062C\\u0629:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium\",children:[studentSubmission.score,\"/\",exam.totalQuestions]})]}),(()=>{// Debug: log the bestReviewScore value\nconsole.log('Best Review Score Debug:',{bestReviewScore:studentSubmission.bestReviewScore,type:typeof studentSubmission.bestReviewScore,studentSubmission:studentSubmission});return studentSubmission.bestReviewScore&&studentSubmission.bestReviewScore>0?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 rtl:space-x-reverse\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"h-4 w-4 text-orange-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"\\u0623\\u0641\\u0636\\u0644 \\u062F\\u0631\\u062C\\u0629 \\u0641\\u064A \\u0627\\u0644\\u0645\\u0631\\u0627\\u062C\\u0639\\u0629:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-orange-600\",children:[studentSubmission.bestReviewScore.toFixed(2),\"%\"]})]}):null;})()]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"\\u0627\\u0644\\u0623\\u0633\\u0626\\u0644\\u0629 \\u0648\\u0627\\u0644\\u0625\\u062C\\u0627\\u0628\\u0627\\u062A\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:exam.questions.map((question,index)=>{var _studentSubmission$an;const answerStatus=getAnswerStatus(index);const studentAnswer=(_studentSubmission$an=studentSubmission.answers[index])===null||_studentSubmission$an===void 0?void 0:_studentSubmission$an.selectedAnswer;return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 rounded-lg border-2 \".concat(getAnswerColor(answerStatus)),children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-start justify-between mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 rtl:space-x-reverse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-8 h-8 bg-white rounded-full border-2 border-gray-300\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold text-gray-700\",children:index+1})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 rtl:space-x-reverse\",children:[getAnswerIcon(answerStatus),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:answerStatus==='correct'?'إجابة صحيحة':answerStatus==='wrong'?'إجابة خاطئة':'غير مجاب'})]})]})}),question.questionImage&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"img\",{src:question.questionImage,alt:\"Question \".concat(index+1),className:\"max-w-full h-auto rounded-lg border bg-gray-50\",style:{maxHeight:'400px',objectFit:'contain'}})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-3\",children:['A','B','C','D'].map(option=>{const isCorrect=option===question.correctAnswer;const isSelected=studentAnswer===option;const isWrong=isSelected&&!isCorrect;return/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-lg border-2 transition-colors \".concat(isCorrect?'bg-green-100 border-green-300 text-green-800':isWrong?'bg-red-100 border-red-300 text-red-800':isSelected?'bg-blue-100 border-blue-300 text-blue-800':'bg-gray-50 border-gray-200 text-gray-700'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 rtl:space-x-reverse\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold\",children:[option,\")\"]}),/*#__PURE__*/_jsx(\"span\",{children:question[\"option\".concat(option)]}),isCorrect&&/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4 text-green-600 mr-auto\"}),isWrong&&/*#__PURE__*/_jsx(XCircle,{className:\"h-4 w-4 text-red-600 mr-auto\"})]})},option);})}),question.explanation&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-blue-800 mb-2\",children:\"\\u0627\\u0644\\u062A\\u0641\\u0633\\u064A\\u0631:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-700\",children:question.explanation})]})]},index);})})})]})]});};export default ExamHistory;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","toast","ArrowLeft","CheckCircle","XCircle","Clock","Calendar","TrendingUp","BookOpen","AlertCircle","jsx","_jsx","jsxs","_jsxs","ExamHistory","examId","navigate","exam","setExam","studentSubmission","setStudentSubmission","loading","setLoading","fetchExamHistory","examRes","get","concat","headers","localStorage","getItem","data","submissionRes","error","console","getAnswerStatus","questionIndex","answers","answer","selectedAnswer","trim","question","questions","correctAnswer","getAnswerIcon","status","className","getAnswerColor","children","onClick","title","examGroup","order","percentage","toFixed","completedAt","Date","toLocaleDateString","submittedAt","isNaN","getTime","toLocaleTimeString","hour","minute","hour12","log","timeSpent","timeTaken","typeTimeSpent","typeTimeTaken","minutes","Math","floor","seconds","toString","padStart","totalQuestions","score","bestReviewScore","type","map","index","_studentSubmission$an","answerStatus","studentAnswer","questionImage","src","alt","style","maxHeight","objectFit","option","isCorrect","isSelected","isWrong","explanation"],"sources":["M:/Qudrat/client/src/pages/Student/ExamHistory.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport toast from 'react-hot-toast';\r\nimport { ArrowLeft, CheckCircle, XCircle, Clock, Calendar, TrendingUp, BookOpen, AlertCircle } from 'lucide-react';\r\n\r\nconst ExamHistory = () => {\r\n  const { examId } = useParams();\r\n  const navigate = useNavigate();\r\n  \r\n  const [exam, setExam] = useState(null);\r\n  const [studentSubmission, setStudentSubmission] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchExamHistory();\r\n  }, [examId]);\r\n\r\n  const fetchExamHistory = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // Fetch exam details\r\n      const examRes = await axios.get(`/api/exams/${examId}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      setExam(examRes.data.data);\r\n\r\n      // Fetch student submission\r\n      const submissionRes = await axios.get(`/api/exams/${examId}/student-submission`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      setStudentSubmission(submissionRes.data.data);\r\n      \r\n    } catch (error) {\r\n      console.error('Error fetching exam history:', error);\r\n      toast.error('حدث خطأ أثناء تحميل تفاصيل الامتحان');\r\n      navigate('/student');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getAnswerStatus = (questionIndex) => {\r\n    if (!studentSubmission || !studentSubmission.answers) return 'unanswered';\r\n    \r\n    const answer = studentSubmission.answers[questionIndex];\r\n    if (!answer || !answer.selectedAnswer || answer.selectedAnswer.trim() === '') {\r\n      return 'unanswered';\r\n    }\r\n    \r\n    const question = exam.questions[questionIndex];\r\n    if (answer.selectedAnswer === question.correctAnswer) {\r\n      return 'correct';\r\n    } else {\r\n      return 'wrong';\r\n    }\r\n  };\r\n\r\n  const getAnswerIcon = (status) => {\r\n    switch (status) {\r\n      case 'correct':\r\n        return <CheckCircle className=\"h-5 w-5 text-green-600\" />;\r\n      case 'wrong':\r\n        return <XCircle className=\"h-5 w-5 text-red-600\" />;\r\n      default:\r\n        return <AlertCircle className=\"h-5 w-5 text-gray-400\" />;\r\n    }\r\n  };\r\n\r\n  const getAnswerColor = (status) => {\r\n    switch (status) {\r\n      case 'correct':\r\n        return 'bg-green-50 border-green-200';\r\n      case 'wrong':\r\n        return 'bg-red-50 border-red-200';\r\n      default:\r\n        return 'bg-gray-50 border-gray-200';\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"spinner\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!exam || !studentSubmission) {\r\n    return (\r\n      <div className=\"text-center py-12\">\r\n        <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">لم يتم العثور على تفاصيل الامتحان</h2>\r\n        <button\r\n          onClick={() => navigate('/student')}\r\n          className=\"btn-primary\"\r\n        >\r\n          العودة للوحة التحكم\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"card\">\r\n        <div className=\"card-body\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center space-x-4 rtl:space-x-reverse\">\r\n              <button\r\n                onClick={() => navigate('/student')}\r\n                className=\"flex items-center space-x-2 rtl:space-x-reverse text-gray-600 hover:text-gray-800 transition-colors\"\r\n              >\r\n                <ArrowLeft className=\"h-4 w-4\" />\r\n                <span>العودة</span>\r\n              </button>\r\n              <div>\r\n                <h1 className=\"text-2xl font-bold text-gray-900 flex items-center space-x-2 rtl:space-x-reverse\">\r\n                  <BookOpen className=\"h-6 w-6 text-blue-600\" />\r\n                  <span>{exam.title}</span>\r\n                </h1>\r\n                <p className=\"text-gray-600\">\r\n                  {exam.examGroup === 0 ? 'اختبارات التأسيس' : `المجموعة ${exam.examGroup}`} • امتحان {exam.order}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"text-right\">\r\n              <div className={`text-3xl font-bold ${\r\n                studentSubmission.percentage >= 80 ? 'text-green-600' :\r\n                studentSubmission.percentage >= 60 ? 'text-blue-600' :\r\n                'text-orange-600'\r\n              }`}>\r\n                {studentSubmission.percentage.toFixed(2)}%\r\n              </div>\r\n              <div className=\"text-sm text-gray-600\">النتيجة النهائية</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      {/* Exam Details */}\r\n      <div className=\"card\">\r\n        <div className=\"card-header\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900\">تفاصيل الامتحان</h3>\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex items-center space-x-2 rtl:space-x-reverse\">\r\n                <Calendar className=\"h-4 w-4 text-gray-500\" />\r\n                <span className=\"text-sm text-gray-600\">تاريخ الإكمال:</span>\r\n                <span className=\"text-sm font-medium\">\r\n                  {studentSubmission.completedAt ? \r\n                    new Date(studentSubmission.completedAt).toLocaleDateString('en-GB') : \r\n                    'غير محدد'\r\n                  }\r\n                </span>\r\n              </div>\r\n              <div className=\"flex items-center space-x-2 rtl:space-x-reverse\">\r\n                <Clock className=\"h-4 w-4 text-gray-500\" />\r\n                <span className=\"text-sm text-gray-600\">وقت الإرسال:</span>\r\n                <span className=\"text-sm font-medium\">\r\n                  {(studentSubmission.submittedAt || studentSubmission.completedAt) && !isNaN(new Date(studentSubmission.submittedAt || studentSubmission.completedAt).getTime()) ? \r\n                    new Date(studentSubmission.submittedAt || studentSubmission.completedAt).toLocaleTimeString('en-US', { \r\n                      hour: '2-digit', \r\n                      minute: '2-digit',\r\n                      hour12: true\r\n                    }) : \r\n                    'غير محدد'\r\n                  }\r\n                </span>\r\n              </div>\r\n              <div className=\"flex items-center space-x-2 rtl:space-x-reverse\">\r\n                <Clock className=\"h-4 w-4 text-gray-500\" />\r\n                <span className=\"text-sm text-gray-600\">الوقت المستغرق:</span>\r\n                <span className=\"text-sm font-medium\">\r\n                  {(() => {\r\n                    // Debug: log the time values\r\n                    console.log('Time Debug:', {\r\n                      timeSpent: studentSubmission.timeSpent,\r\n                      timeTaken: studentSubmission.timeTaken,\r\n                      typeTimeSpent: typeof studentSubmission.timeSpent,\r\n                      typeTimeTaken: typeof studentSubmission.timeTaken\r\n                    });\r\n                    \r\n                    // Check timeSpent first\r\n                    if (studentSubmission.timeSpent && studentSubmission.timeSpent > 0) {\r\n                      const minutes = Math.floor(studentSubmission.timeSpent / 60);\r\n                      const seconds = studentSubmission.timeSpent % 60;\r\n                      return `${minutes}:${seconds.toString().padStart(2, '0')}`;\r\n                    }\r\n                    \r\n                    // Check timeTaken as fallback\r\n                    if (studentSubmission.timeTaken && studentSubmission.timeTaken > 0) {\r\n                      const minutes = Math.floor(studentSubmission.timeTaken / 60);\r\n                      const seconds = studentSubmission.timeTaken % 60;\r\n                      return `${minutes}:${seconds.toString().padStart(2, '0')}`;\r\n                    }\r\n                    \r\n                    // If no time data, show \"غير محدد\"\r\n                    return 'غير محدد';\r\n                  })()}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex items-center space-x-2 rtl:space-x-reverse\">\r\n                <BookOpen className=\"h-4 w-4 text-gray-500\" />\r\n                <span className=\"text-sm text-gray-600\">إجمالي الأسئلة:</span>\r\n                <span className=\"text-sm font-medium\">{exam.totalQuestions}</span>\r\n              </div>\r\n              <div className=\"flex items-center space-x-2 rtl:space-x-reverse\">\r\n                <TrendingUp className=\"h-4 w-4 text-gray-500\" />\r\n                <span className=\"text-sm text-gray-600\">الدرجة:</span>\r\n                <span className=\"text-sm font-medium\">{studentSubmission.score}/{exam.totalQuestions}</span>\r\n              </div>\r\n              {(() => {\r\n                // Debug: log the bestReviewScore value\r\n                console.log('Best Review Score Debug:', {\r\n                  bestReviewScore: studentSubmission.bestReviewScore,\r\n                  type: typeof studentSubmission.bestReviewScore,\r\n                  studentSubmission: studentSubmission\r\n                });\r\n                \r\n                return studentSubmission.bestReviewScore && studentSubmission.bestReviewScore > 0 ? (\r\n                  <div className=\"flex items-center space-x-2 rtl:space-x-reverse\">\r\n                    <TrendingUp className=\"h-4 w-4 text-orange-500\" />\r\n                    <span className=\"text-sm text-gray-600\">أفضل درجة في المراجعة:</span>\r\n                    <span className=\"text-sm font-medium text-orange-600\">{studentSubmission.bestReviewScore.toFixed(2)}%</span>\r\n                  </div>\r\n                ) : null;\r\n              })()}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Questions and Answers */}\r\n      <div className=\"card\">\r\n        <div className=\"card-header\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900\">الأسئلة والإجابات</h3>\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <div className=\"space-y-6\">\r\n            {exam.questions.map((question, index) => {\r\n              const answerStatus = getAnswerStatus(index);\r\n              const studentAnswer = studentSubmission.answers[index]?.selectedAnswer;\r\n              \r\n              return (\r\n                <div\r\n                  key={index}\r\n                  className={`p-6 rounded-lg border-2 ${getAnswerColor(answerStatus)}`}\r\n                >\r\n                  <div className=\"flex items-start justify-between mb-4\">\r\n                    <div className=\"flex items-center space-x-3 rtl:space-x-reverse\">\r\n                      <div className=\"flex items-center justify-center w-8 h-8 bg-white rounded-full border-2 border-gray-300\">\r\n                        <span className=\"text-sm font-semibold text-gray-700\">{index + 1}</span>\r\n                      </div>\r\n                      <div className=\"flex items-center space-x-2 rtl:space-x-reverse\">\r\n                        {getAnswerIcon(answerStatus)}\r\n                        <span className=\"text-sm font-medium text-gray-700\">\r\n                          {answerStatus === 'correct' ? 'إجابة صحيحة' :\r\n                           answerStatus === 'wrong' ? 'إجابة خاطئة' : 'غير مجاب'}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Question Image */}\r\n                  {question.questionImage && (\r\n                    <div className=\"mb-4\">\r\n                      <img\r\n                        src={question.questionImage}\r\n                        alt={`Question ${index + 1}`}\r\n                        className=\"max-w-full h-auto rounded-lg border bg-gray-50\"\r\n                        style={{\r\n                          maxHeight: '400px',\r\n                          objectFit: 'contain'\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Answer Options */}\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n                    {['A', 'B', 'C', 'D'].map((option) => {\r\n                      const isCorrect = option === question.correctAnswer;\r\n                      const isSelected = studentAnswer === option;\r\n                      const isWrong = isSelected && !isCorrect;\r\n                      \r\n                      return (\r\n                        <div\r\n                          key={option}\r\n                          className={`p-3 rounded-lg border-2 transition-colors ${\r\n                            isCorrect\r\n                              ? 'bg-green-100 border-green-300 text-green-800'\r\n                              : isWrong\r\n                              ? 'bg-red-100 border-red-300 text-red-800'\r\n                              : isSelected\r\n                              ? 'bg-blue-100 border-blue-300 text-blue-800'\r\n                              : 'bg-gray-50 border-gray-200 text-gray-700'\r\n                          }`}\r\n                        >\r\n                          <div className=\"flex items-center space-x-2 rtl:space-x-reverse\">\r\n                            <span className=\"font-semibold\">{option})</span>\r\n                            <span>{question[`option${option}`]}</span>\r\n                            {isCorrect && <CheckCircle className=\"h-4 w-4 text-green-600 mr-auto\" />}\r\n                            {isWrong && <XCircle className=\"h-4 w-4 text-red-600 mr-auto\" />}\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n\r\n                  {/* Explanation */}\r\n                  {question.explanation && (\r\n                    <div className=\"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg\">\r\n                      <h4 className=\"text-sm font-semibold text-blue-800 mb-2\">التفسير:</h4>\r\n                      <p className=\"text-sm text-blue-700\">{question.explanation}</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ExamHistory;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}