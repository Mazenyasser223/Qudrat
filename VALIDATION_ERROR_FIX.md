# ๐ง ุฅุตูุงุญ ุฎุทุฃ ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช

## ๐ **ุงููุดููุฉ:**
ูุงู ูุธูุฑ ุฎุทุฃ "ูุฌุจ ุฃู ูุญุชูู ุงูุงูุชุญุงู ุนูู ุณุคุงู ูุงุญุฏ ุนูู ุงูุฃูู" ุฑุบู ูุฌูุฏ ุฃุณุฆูุฉ ูู ุงููููุฐุฌ.

## ๐ **ุงูุณุจุจ:**
ุงููุดููุฉ ูุงูุช ูู ููุงุนุฏ ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช (`validation rules`):

1. **ุงูุจูุงูุงุช ุงููุฑุณูุฉ**: ุงููููุฐุฌ ูุฑุณู `questions` ูู JSON string
2. **ููุงุนุฏ ุงูุชุญูู**: ูุงูุช ุชุชููุน `questions` ูู array
3. **ุงููุชูุฌุฉ**: ูุดู ุงูุชุญูู ูุฃู string โ array

## ๐ **ุงูุจูุงูุงุช ุงููุฑุณูุฉ (ูู ุณุฌู ุงูุฎุงุฏู):**
```javascript
questions: '[{"questionImage":"blob:...","correctAnswer":"B","explanation":""}]'
// โ JSON string ุจุฏูุงู ูู array
```

## โ **ุงูุญู ุงููุทุจู:**

### **1. ุชุญุฏูุซ ููุงุนุฏ ุงูุชุญูู:**
```javascript
// ูุจู ุงูุฅุตูุงุญ:
body('questions')
  .optional()
  .isArray({ min: 1 })
  .withMessage('ูุฌุจ ุฃู ูุญุชูู ุงูุงูุชุญุงู ุนูู ุณุคุงู ูุงุญุฏ ุนูู ุงูุฃูู')

// ุจุนุฏ ุงูุฅุตูุงุญ:
body('questions')
  .optional()
  .custom((value) => {
    try {
      const parsed = typeof value === 'string' ? JSON.parse(value) : value;
      if (!Array.isArray(parsed) || parsed.length < 1) {
        throw new Error('ูุฌุจ ุฃู ูุญุชูู ุงูุงูุชุญุงู ุนูู ุณุคุงู ูุงุญุฏ ุนูู ุงูุฃูู');
      }
      return true;
    } catch (error) {
      throw new Error('ูุฌุจ ุฃู ูุญุชูู ุงูุงูุชุญุงู ุนูู ุณุคุงู ูุงุญุฏ ุนูู ุงูุฃูู');
    }
  })
```

### **2. ุชุญุฏูุซ ุงูุชุญูู ูู ุงูุฅุฌุงุจุงุช ุงูุตุญูุญุฉ:**
```javascript
body('questions')
  .optional()
  .custom((value) => {
    try {
      const parsed = typeof value === 'string' ? JSON.parse(value) : value;
      if (Array.isArray(parsed)) {
        for (const question of parsed) {
          if (!question.correctAnswer || !['A', 'B', 'C', 'D'].includes(question.correctAnswer)) {
            throw new Error('ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ ูุฌุจ ุฃู ุชููู A, B, C, ุฃู D');
          }
        }
      }
      return true;
    } catch (error) {
      throw new Error('ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ ูุฌุจ ุฃู ุชููู A, B, C, ุฃู D');
    }
  })
```

## ๐ฏ **ุงููุชูุฌุฉ:**

### โ **ุงูุขู ูุนูู ุจุดูู ุตุญูุญ:**
- โ **ุงูุชุญูู ูู ุนุฏุฏ ุงูุฃุณุฆูุฉ** - ูุชุนุงูู ูุน JSON string
- โ **ุงูุชุญูู ูู ุงูุฅุฌุงุจุงุช ุงูุตุญูุญุฉ** - ูุชุนุงูู ูุน JSON string
- โ **ุญูุธ ุงูุชุบููุฑุงุช** - ูุนูู ุจุฏูู ุฃุฎุทุงุก
- โ **ุฑูุน ุงูุตูุฑ** - ูุนูู ุจุดูู ุตุญูุญ

### ๐ง **ุงููููุงุช ุงููุญุฏุซุฉ:**
- โ `server/routes/exams.js` - ููุงุนุฏ ุงูุชุญูู ุงููุญุฏุซุฉ
- โ `server/controllers/examController.js` - ุฅุฒุงูุฉ ุชุณุฌูู ุงูุชุตุญูุญ

## ๐ **ููููุฉ ุงูุงุณุชุฎุฏุงู:**

1. **ุงุฐูุจ ูุตูุญุฉ ุชุนุฏูู ุงูุงูุชุญุงู**
2. **ุนุฏู ุงูุจูุงูุงุช ููุง ุชุดุงุก**
3. **ุงุถุบุท ุนูู "ุญูุธ ุงูุชุบููุฑุงุช"**
4. **ุณุชุธูุฑ ุฑุณุงูุฉ ูุฌุงุญ** - "ุชู ุชุญุฏูุซ ุงูุงูุชุญุงู ุจูุฌุงุญ"

## ๐ **ููุงุญุธุงุช ูููุฉ:**

- โ **ุชู ุฅุตูุงุญ ูุดููุฉ ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช**
- โ **ุงููุธุงู ูุชุนุงูู ูุน JSON strings ุจุดูู ุตุญูุญ**
- โ **ุฌููุน ุงููุธุงุฆู ุชุนูู ุงูุขู**
- โ **ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู ุงูุชุญูู**

**ุฌุฑุจ ุงูุญูุธ ุงูุขู - ูุฌุจ ุฃู ูุนูู ุจุดูู ูุซุงูู! ๐**
